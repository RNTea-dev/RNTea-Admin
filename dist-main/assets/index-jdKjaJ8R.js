function Uw(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Jy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var sd={exports:{}},Na={},od={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function zw(){if(tg)return Ve;tg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,W={};function j(V,K,de){this.props=V,this.context=K,this.refs=W,this.updater=de||F}j.prototype.isReactComponent={},j.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function oe(){}oe.prototype=j.prototype;function ie(V,K,de){this.props=V,this.context=K,this.refs=W,this.updater=de||F}var re=ie.prototype=new oe;re.constructor=ie,$(re,j.prototype),re.isPureReactComponent=!0;var ne=Array.isArray,xe=Object.prototype.hasOwnProperty,ye={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function I(V,K,de){var Re,ke={},be=null,je=null;if(K!=null)for(Re in K.ref!==void 0&&(je=K.ref),K.key!==void 0&&(be=""+K.key),K)xe.call(K,Re)&&!N.hasOwnProperty(Re)&&(ke[Re]=K[Re]);var Oe=arguments.length-2;if(Oe===1)ke.children=de;else if(1<Oe){for(var We=Array(Oe),mt=0;mt<Oe;mt++)We[mt]=arguments[mt+2];ke.children=We}if(V&&V.defaultProps)for(Re in Oe=V.defaultProps,Oe)ke[Re]===void 0&&(ke[Re]=Oe[Re]);return{$$typeof:r,type:V,key:be,ref:je,props:ke,_owner:ye.current}}function x(V,K){return{$$typeof:r,type:V.type,key:K,ref:V.ref,props:V.props,_owner:V._owner}}function k(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function D(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return K[de]})}var O=/\/+/g;function A(V,K){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):K.toString(36)}function Xe(V,K,de,Re,ke){var be=typeof V;(be==="undefined"||be==="boolean")&&(V=null);var je=!1;if(V===null)je=!0;else switch(be){case"string":case"number":je=!0;break;case"object":switch(V.$$typeof){case r:case e:je=!0}}if(je)return je=V,ke=ke(je),V=Re===""?"."+A(je,0):Re,ne(ke)?(de="",V!=null&&(de=V.replace(O,"$&/")+"/"),Xe(ke,K,de,"",function(mt){return mt})):ke!=null&&(k(ke)&&(ke=x(ke,de+(!ke.key||je&&je.key===ke.key?"":(""+ke.key).replace(O,"$&/")+"/")+V)),K.push(ke)),1;if(je=0,Re=Re===""?".":Re+":",ne(V))for(var Oe=0;Oe<V.length;Oe++){be=V[Oe];var We=Re+A(be,Oe);je+=Xe(be,K,de,We,ke)}else if(We=S(V),typeof We=="function")for(V=We.call(V),Oe=0;!(be=V.next()).done;)be=be.value,We=Re+A(be,Oe++),je+=Xe(be,K,de,We,ke);else if(be==="object")throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return je}function dt(V,K,de){if(V==null)return V;var Re=[],ke=0;return Xe(V,Re,"","",function(be){return K.call(de,be,ke++)}),Re}function Pe(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var qe={current:null},te={transition:null},me={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:te,ReactCurrentOwner:ye};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:dt,forEach:function(V,K,de){dt(V,function(){K.apply(this,arguments)},de)},count:function(V){var K=0;return dt(V,function(){K++}),K},toArray:function(V){return dt(V,function(K){return K})||[]},only:function(V){if(!k(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ve.Component=j,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=ie,Ve.StrictMode=s,Ve.Suspense=g,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ve.act=se,Ve.cloneElement=function(V,K,de){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Re=$({},V.props),ke=V.key,be=V.ref,je=V._owner;if(K!=null){if(K.ref!==void 0&&(be=K.ref,je=ye.current),K.key!==void 0&&(ke=""+K.key),V.type&&V.type.defaultProps)var Oe=V.type.defaultProps;for(We in K)xe.call(K,We)&&!N.hasOwnProperty(We)&&(Re[We]=K[We]===void 0&&Oe!==void 0?Oe[We]:K[We])}var We=arguments.length-2;if(We===1)Re.children=de;else if(1<We){Oe=Array(We);for(var mt=0;mt<We;mt++)Oe[mt]=arguments[mt+2];Re.children=Oe}return{$$typeof:r,type:V.type,key:ke,ref:be,props:Re,_owner:je}},Ve.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:l,_context:V},V.Consumer=V},Ve.createElement=I,Ve.createFactory=function(V){var K=I.bind(null,V);return K.type=V,K},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(V){return{$$typeof:f,render:V}},Ve.isValidElement=k,Ve.lazy=function(V){return{$$typeof:w,_payload:{_status:-1,_result:V},_init:Pe}},Ve.memo=function(V,K){return{$$typeof:v,type:V,compare:K===void 0?null:K}},Ve.startTransition=function(V){var K=te.transition;te.transition={};try{V()}finally{te.transition=K}},Ve.unstable_act=se,Ve.useCallback=function(V,K){return qe.current.useCallback(V,K)},Ve.useContext=function(V){return qe.current.useContext(V)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(V){return qe.current.useDeferredValue(V)},Ve.useEffect=function(V,K){return qe.current.useEffect(V,K)},Ve.useId=function(){return qe.current.useId()},Ve.useImperativeHandle=function(V,K,de){return qe.current.useImperativeHandle(V,K,de)},Ve.useInsertionEffect=function(V,K){return qe.current.useInsertionEffect(V,K)},Ve.useLayoutEffect=function(V,K){return qe.current.useLayoutEffect(V,K)},Ve.useMemo=function(V,K){return qe.current.useMemo(V,K)},Ve.useReducer=function(V,K,de){return qe.current.useReducer(V,K,de)},Ve.useRef=function(V){return qe.current.useRef(V)},Ve.useState=function(V){return qe.current.useState(V)},Ve.useSyncExternalStore=function(V,K,de){return qe.current.useSyncExternalStore(V,K,de)},Ve.useTransition=function(){return qe.current.useTransition()},Ve.version="18.3.1",Ve}var ng;function Zd(){return ng||(ng=1,od.exports=zw()),od.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function Bw(){if(rg)return Na;rg=1;var r=Zd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,v){var w,T={},S=null,F=null;v!==void 0&&(S=""+v),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(F=g.ref);for(w in g)s.call(g,w)&&!l.hasOwnProperty(w)&&(T[w]=g[w]);if(f&&f.defaultProps)for(w in g=f.defaultProps,g)T[w]===void 0&&(T[w]=g[w]);return{$$typeof:e,type:f,key:S,ref:F,props:T,_owner:o.current}}return Na.Fragment=t,Na.jsx=h,Na.jsxs=h,Na}var ig;function $w(){return ig||(ig=1,sd.exports=Bw()),sd.exports}var R=$w(),H=Zd();const wr=Jy(H),Hw=Uw({__proto__:null,default:wr},[H]);var Cu={},ad={exports:{}},un={},ld={exports:{}},ud={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function Ww(){return sg||(sg=1,function(r){function e(te,me){var se=te.length;te.push(me);e:for(;0<se;){var V=se-1>>>1,K=te[V];if(0<o(K,me))te[V]=me,te[se]=K,se=V;else break e}}function t(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var me=te[0],se=te.pop();if(se!==me){te[0]=se;e:for(var V=0,K=te.length,de=K>>>1;V<de;){var Re=2*(V+1)-1,ke=te[Re],be=Re+1,je=te[be];if(0>o(ke,se))be<K&&0>o(je,ke)?(te[V]=je,te[be]=se,V=be):(te[V]=ke,te[Re]=se,V=Re);else if(be<K&&0>o(je,se))te[V]=je,te[be]=se,V=be;else break e}}return me}function o(te,me){var se=te.sortIndex-me.sortIndex;return se!==0?se:te.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var g=[],v=[],w=1,T=null,S=3,F=!1,$=!1,W=!1,j=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(te){for(var me=t(v);me!==null;){if(me.callback===null)s(v);else if(me.startTime<=te)s(v),me.sortIndex=me.expirationTime,e(g,me);else break;me=t(v)}}function ne(te){if(W=!1,re(te),!$)if(t(g)!==null)$=!0,Pe(xe);else{var me=t(v);me!==null&&qe(ne,me.startTime-te)}}function xe(te,me){$=!1,W&&(W=!1,oe(I),I=-1),F=!0;var se=S;try{for(re(me),T=t(g);T!==null&&(!(T.expirationTime>me)||te&&!D());){var V=T.callback;if(typeof V=="function"){T.callback=null,S=T.priorityLevel;var K=V(T.expirationTime<=me);me=r.unstable_now(),typeof K=="function"?T.callback=K:T===t(g)&&s(g),re(me)}else s(g);T=t(g)}if(T!==null)var de=!0;else{var Re=t(v);Re!==null&&qe(ne,Re.startTime-me),de=!1}return de}finally{T=null,S=se,F=!1}}var ye=!1,N=null,I=-1,x=5,k=-1;function D(){return!(r.unstable_now()-k<x)}function O(){if(N!==null){var te=r.unstable_now();k=te;var me=!0;try{me=N(!0,te)}finally{me?A():(ye=!1,N=null)}}else ye=!1}var A;if(typeof ie=="function")A=function(){ie(O)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,dt=Xe.port2;Xe.port1.onmessage=O,A=function(){dt.postMessage(null)}}else A=function(){j(O,0)};function Pe(te){N=te,ye||(ye=!0,A())}function qe(te,me){I=j(function(){te(r.unstable_now())},me)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_continueExecution=function(){$||F||($=!0,Pe(xe))},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(te){switch(S){case 1:case 2:case 3:var me=3;break;default:me=S}var se=S;S=me;try{return te()}finally{S=se}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(te,me){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var se=S;S=te;try{return me()}finally{S=se}},r.unstable_scheduleCallback=function(te,me,se){var V=r.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?V+se:V):se=V,te){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=se+K,te={id:w++,callback:me,priorityLevel:te,startTime:se,expirationTime:K,sortIndex:-1},se>V?(te.sortIndex=se,e(v,te),t(g)===null&&te===t(v)&&(W?(oe(I),I=-1):W=!0,qe(ne,se-V))):(te.sortIndex=K,e(g,te),$||F||($=!0,Pe(xe))),te},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(te){var me=S;return function(){var se=S;S=me;try{return te.apply(this,arguments)}finally{S=se}}}}(ud)),ud}var og;function qw(){return og||(og=1,ld.exports=Ww()),ld.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function Kw(){if(ag)return un;ag=1;var r=Zd(),e=qw();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function S(n){return g.call(T,n)?!0:g.call(w,n)?!1:v.test(n)?T[n]=!0:(w[n]=!0,!1)}function F(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function $(n,i,a,c){if(i===null||typeof i>"u"||F(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function W(n,i,a,c,d,m,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=_}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){j[n]=new W(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];j[i]=new W(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){j[n]=new W(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){j[n]=new W(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){j[n]=new W(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){j[n]=new W(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){j[n]=new W(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){j[n]=new W(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){j[n]=new W(n,5,!1,n.toLowerCase(),null,!1,!1)});var oe=/[\-:]([a-z])/g;function ie(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(oe,ie);j[i]=new W(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(oe,ie);j[i]=new W(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(oe,ie);j[i]=new W(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){j[n]=new W(n,1,!1,n.toLowerCase(),null,!1,!1)}),j.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){j[n]=new W(n,1,!1,n.toLowerCase(),null,!0,!0)});function re(n,i,a,c){var d=j.hasOwnProperty(i)?j[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&($(i,a,d,c)&&(a=null),c||d===null?S(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var ne=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xe=Symbol.for("react.element"),ye=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),dt=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),qe=Symbol.for("react.offscreen"),te=Symbol.iterator;function me(n){return n===null||typeof n!="object"?null:(n=te&&n[te]||n["@@iterator"],typeof n=="function"?n:null)}var se=Object.assign,V;function K(n){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||""}return`
`+V+n}var de=!1;function Re(n,i){if(!n||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(z){var c=z}Reflect.construct(n,[],i)}else{try{i.call()}catch(z){c=z}n.call(i.prototype)}else{try{throw Error()}catch(z){c=z}n()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),m=c.stack.split(`
`),_=d.length-1,C=m.length-1;1<=_&&0<=C&&d[_]!==m[C];)C--;for(;1<=_&&0<=C;_--,C--)if(d[_]!==m[C]){if(_!==1||C!==1)do if(_--,C--,0>C||d[_]!==m[C]){var P=`
`+d[_].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=_&&0<=C);break}}}finally{de=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?K(n):""}function ke(n){switch(n.tag){case 5:return K(n.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return n=Re(n.type,!1),n;case 11:return n=Re(n.type.render,!1),n;case 1:return n=Re(n.type,!0),n;default:return""}}function be(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case ye:return"Portal";case x:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case Xe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case D:return(n.displayName||"Context")+".Consumer";case k:return(n._context.displayName||"Context")+".Provider";case O:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case dt:return i=n.displayName||null,i!==null?i:be(n.type)||"Memo";case Pe:i=n._payload,n=n._init;try{return be(n(i))}catch{}}return null}function je(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Oe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function We(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function mt(n){var i=We(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function dn(n){n._valueTracker||(n._valueTracker=mt(n))}function xr(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=We(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Sn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Pr(n,i){var a=i.checked;return se({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Cn(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Oe(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function si(n,i){i=i.checked,i!=null&&re(n,"checked",i,!1)}function ar(n,i){si(n,i);var a=Oe(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?kr(n,i.type,a):i.hasOwnProperty("defaultValue")&&kr(n,i.type,Oe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function ss(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function kr(n,i,a){(i!=="number"||Sn(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Rn=Array.isArray;function fn(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Oe(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function Bn(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Nr(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(Rn(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Oe(a)}}function $n(n,i){var a=Oe(i.value),c=Oe(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function oi(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function ct(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?ct(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var jt,ai=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,d)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(jt=jt||document.createElement("div"),jt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=jt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function pn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hn=["Webkit","ms","Moz","O"];Object.keys(lr).forEach(function(n){Hn.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),lr[i]=lr[n]})});function Wn(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||lr.hasOwnProperty(n)&&lr[n]?(""+i).trim():i+"px"}function br(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Wn(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var li=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ui(n,i){if(i){if(li[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function qn(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dr=null;function ci(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ur=null,en=null,An=null;function hi(n){if(n=ga(n)){if(typeof ur!="function")throw Error(t(280));var i=n.stateNode;i&&(i=Ul(i),ur(n.stateNode,n.type,i))}}function xn(n){en?An?An.push(n):An=[n]:en=n}function di(){if(en){var n=en,i=An;if(An=en=null,hi(n),i)for(n=0;n<i.length;n++)hi(i[n])}}function Vr(n,i){return n(i)}function os(){}var Kn=!1;function as(n,i,a){if(Kn)return n(i,a);Kn=!0;try{return Vr(n,i,a)}finally{Kn=!1,(en!==null||An!==null)&&(os(),di())}}function q(n,i){var a=n.stateNode;if(a===null)return null;var c=Ul(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var Ee=!1;if(f)try{var ce={};Object.defineProperty(ce,"passive",{get:function(){Ee=!0}}),window.addEventListener("test",ce,ce),window.removeEventListener("test",ce,ce)}catch{Ee=!1}function Ue(n,i,a,c,d,m,_,C,P){var z=Array.prototype.slice.call(arguments,3);try{i.apply(a,z)}catch(Y){this.onError(Y)}}var ot=!1,Pn=null,Ne=!1,Qe=null,Nt={onError:function(n){ot=!0,Pn=n}};function kn(n,i,a,c,d,m,_,C,P){ot=!1,Pn=null,Ue.apply(Nt,arguments)}function Us(n,i,a,c,d,m,_,C,P){if(kn.apply(this,arguments),ot){if(ot){var z=Pn;ot=!1,Pn=null}else throw Error(t(198));Ne||(Ne=!0,Qe=z)}}function mn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function ls(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Gn(n){if(mn(n)!==n)throw Error(t(188))}function dl(n){var i=n.alternate;if(!i){if(i=mn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return Gn(d),n;if(m===c)return Gn(d),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var _=!1,C=d.child;C;){if(C===a){_=!0,a=d,c=m;break}if(C===c){_=!0,c=d,a=m;break}C=C.sibling}if(!_){for(C=m.child;C;){if(C===a){_=!0,a=m,c=d;break}if(C===c){_=!0,c=m,a=d;break}C=C.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function Xo(n){return n=dl(n),n!==null?zs(n):null}function zs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=zs(n);if(i!==null)return i;n=n.sibling}return null}var Bs=e.unstable_scheduleCallback,Jo=e.unstable_cancelCallback,fl=e.unstable_shouldYield,Vc=e.unstable_requestPaint,Je=e.unstable_now,pl=e.unstable_getCurrentPriorityLevel,us=e.unstable_ImmediatePriority,fi=e.unstable_UserBlockingPriority,Nn=e.unstable_NormalPriority,Zo=e.unstable_LowPriority,ml=e.unstable_IdlePriority,cs=null,gn=null;function gl(n){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(cs,n,void 0,(n.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:vl,ea=Math.log,yl=Math.LN2;function vl(n){return n>>>=0,n===0?32:31-(ea(n)/yl|0)|0}var $s=64,Hs=4194304;function pi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function hs(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,_=a&268435455;if(_!==0){var C=_&~d;C!==0?c=pi(C):(m&=_,m!==0&&(c=pi(m)))}else _=a&~d,_!==0?c=pi(_):m!==0&&(c=pi(m));if(c===0)return 0;if(i!==0&&i!==c&&(i&d)===0&&(d=c&-c,m=i&-i,d>=m||d===16&&(m&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-Qt(i),d=1<<a,c|=n[a],i&=~d;return c}function Oc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Or(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var _=31-Qt(m),C=1<<_,P=d[_];P===-1?((C&a)===0||(C&c)!==0)&&(d[_]=Oc(C,i)):P<=i&&(n.expiredLanes|=C),m&=~C}}function yn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ds(){var n=$s;return $s<<=1,($s&4194240)===0&&($s=64),n}function mi(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function gi(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Qt(i),n[i]=a}function Ye(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-Qt(a),m=1<<d;i[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function yi(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-Qt(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}var Fe=0;function vi(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var _l,Ws,wl,El,Tl,ta=!1,cr=[],bt=null,Qn=null,Yn=null,_i=new Map,bn=new Map,hr=[],Lc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Il(n,i){switch(n){case"focusin":case"focusout":bt=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":_i.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bn.delete(i.pointerId)}}function tn(n,i,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},i!==null&&(i=ga(i),i!==null&&Ws(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function Mc(n,i,a,c,d){switch(i){case"focusin":return bt=tn(bt,n,i,a,c,d),!0;case"dragenter":return Qn=tn(Qn,n,i,a,c,d),!0;case"mouseover":return Yn=tn(Yn,n,i,a,c,d),!0;case"pointerover":var m=d.pointerId;return _i.set(m,tn(_i.get(m)||null,n,i,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,bn.set(m,tn(bn.get(m)||null,n,i,a,c,d)),!0}return!1}function Sl(n){var i=ys(n.target);if(i!==null){var a=mn(i);if(a!==null){if(i=a.tag,i===13){if(i=ls(a),i!==null){n.blockedOn=i,Tl(n.priority,function(){wl(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Lr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=qs(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Dr=c,a.target.dispatchEvent(c),Dr=null}else return i=ga(a),i!==null&&Ws(i),n.blockedOn=a,!1;i.shift()}return!0}function fs(n,i,a){Lr(n)&&a.delete(i)}function Cl(){ta=!1,bt!==null&&Lr(bt)&&(bt=null),Qn!==null&&Lr(Qn)&&(Qn=null),Yn!==null&&Lr(Yn)&&(Yn=null),_i.forEach(fs),bn.forEach(fs)}function Xn(n,i){n.blockedOn===i&&(n.blockedOn=null,ta||(ta=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Cl)))}function Jn(n){function i(d){return Xn(d,n)}if(0<cr.length){Xn(cr[0],n);for(var a=1;a<cr.length;a++){var c=cr[a];c.blockedOn===n&&(c.blockedOn=null)}}for(bt!==null&&Xn(bt,n),Qn!==null&&Xn(Qn,n),Yn!==null&&Xn(Yn,n),_i.forEach(i),bn.forEach(i),a=0;a<hr.length;a++)c=hr[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<hr.length&&(a=hr[0],a.blockedOn===null);)Sl(a),a.blockedOn===null&&hr.shift()}var Mr=ne.ReactCurrentBatchConfig,wi=!0;function rt(n,i,a,c){var d=Fe,m=Mr.transition;Mr.transition=null;try{Fe=1,na(n,i,a,c)}finally{Fe=d,Mr.transition=m}}function Fc(n,i,a,c){var d=Fe,m=Mr.transition;Mr.transition=null;try{Fe=4,na(n,i,a,c)}finally{Fe=d,Mr.transition=m}}function na(n,i,a,c){if(wi){var d=qs(n,i,a,c);if(d===null)Qc(n,i,c,ps,a),Il(n,c);else if(Mc(d,n,i,a,c))c.stopPropagation();else if(Il(n,c),i&4&&-1<Lc.indexOf(n)){for(;d!==null;){var m=ga(d);if(m!==null&&_l(m),m=qs(n,i,a,c),m===null&&Qc(n,i,c,ps,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else Qc(n,i,c,null,a)}}var ps=null;function qs(n,i,a,c){if(ps=null,n=ci(c),n=ys(n),n!==null)if(i=mn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=ls(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return ps=n,null}function ra(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pl()){case us:return 1;case fi:return 4;case Nn:case Zo:return 16;case ml:return 536870912;default:return 16}default:return 16}}var vn=null,Ks=null,nn=null;function ia(){if(nn)return nn;var n,i=Ks,a=i.length,c,d="value"in vn?vn.value:vn.textContent,m=d.length;for(n=0;n<a&&i[n]===d[n];n++);var _=a-n;for(c=1;c<=_&&i[a-c]===d[m-c];c++);return nn=d.slice(n,1<c?1-c:void 0)}function Gs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function dr(){return!0}function sa(){return!1}function Dt(n){function i(a,c,d,m,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?dr:sa,this.isPropagationStopped=sa,this}return se(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),i}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=Dt(Zn),fr=se({},Zn,{view:0,detail:0}),jc=Dt(fr),Ys,Fr,Ei,ms=se({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ei&&(Ei&&n.type==="mousemove"?(Ys=n.screenX-Ei.screenX,Fr=n.screenY-Ei.screenY):Fr=Ys=0,Ei=n),Ys)},movementY:function(n){return"movementY"in n?n.movementY:Fr}}),Xs=Dt(ms),oa=se({},ms,{dataTransfer:0}),Rl=Dt(oa),Js=se({},fr,{relatedTarget:0}),Zs=Dt(Js),Al=se({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),jr=Dt(Al),xl=se({},Zn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Pl=Dt(xl),kl=se({},Zn,{data:0}),aa=Dt(kl),eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Nl[n])?!!i[n]:!1}function pr(){return bl}var u=se({},fr,{key:function(n){if(n.key){var i=eo[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Gs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Yt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(n){return n.type==="keypress"?Gs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Gs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=Dt(u),y=se({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Dt(y),L=se({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr}),B=Dt(L),ee=se({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=Dt(ee),wt=se({},ms,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Dt(wt),Rt=[9,13,27,32],gt=f&&"CompositionEvent"in window,Dn=null;f&&"documentMode"in document&&(Dn=document.documentMode);var _n=f&&"TextEvent"in window&&!Dn,gs=f&&(!gt||Dn&&8<Dn&&11>=Dn),to=" ",Qf=!1;function Yf(n,i){switch(n){case"keyup":return Rt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var no=!1;function M0(n,i){switch(n){case"compositionend":return Xf(i);case"keypress":return i.which!==32?null:(Qf=!0,to);case"textInput":return n=i.data,n===to&&Qf?null:n;default:return null}}function F0(n,i){if(no)return n==="compositionend"||!gt&&Yf(n,i)?(n=ia(),nn=Ks=vn=null,no=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return gs&&i.locale!=="ko"?null:i.data;default:return null}}var j0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!j0[n.type]:i==="textarea"}function Zf(n,i,a,c){xn(c),i=Ml(i,"onChange"),0<i.length&&(a=new Qs("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var la=null,ua=null;function U0(n){yp(n,0)}function Dl(n){var i=ao(n);if(xr(i))return n}function z0(n,i){if(n==="change")return i}var ep=!1;if(f){var Uc;if(f){var zc="oninput"in document;if(!zc){var tp=document.createElement("div");tp.setAttribute("oninput","return;"),zc=typeof tp.oninput=="function"}Uc=zc}else Uc=!1;ep=Uc&&(!document.documentMode||9<document.documentMode)}function np(){la&&(la.detachEvent("onpropertychange",rp),ua=la=null)}function rp(n){if(n.propertyName==="value"&&Dl(ua)){var i=[];Zf(i,ua,n,ci(n)),as(U0,i)}}function B0(n,i,a){n==="focusin"?(np(),la=i,ua=a,la.attachEvent("onpropertychange",rp)):n==="focusout"&&np()}function $0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Dl(ua)}function H0(n,i){if(n==="click")return Dl(i)}function W0(n,i){if(n==="input"||n==="change")return Dl(i)}function q0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var er=typeof Object.is=="function"?Object.is:q0;function ca(n,i){if(er(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(i,d)||!er(n[d],i[d]))return!1}return!0}function ip(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function sp(n,i){var a=ip(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ip(a)}}function op(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?op(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function ap(){for(var n=window,i=Sn();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Sn(n.document)}return i}function Bc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function K0(n){var i=ap(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&op(a.ownerDocument.documentElement,a)){if(c!==null&&Bc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=sp(a,m);var _=sp(a,c);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var G0=f&&"documentMode"in document&&11>=document.documentMode,ro=null,$c=null,ha=null,Hc=!1;function lp(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hc||ro==null||ro!==Sn(c)||(c=ro,"selectionStart"in c&&Bc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ha&&ca(ha,c)||(ha=c,c=Ml($c,"onSelect"),0<c.length&&(i=new Qs("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=ro)))}function Vl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var io={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionend:Vl("Transition","TransitionEnd")},Wc={},up={};f&&(up=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function Ol(n){if(Wc[n])return Wc[n];if(!io[n])return n;var i=io[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in up)return Wc[n]=i[a];return n}var cp=Ol("animationend"),hp=Ol("animationiteration"),dp=Ol("animationstart"),fp=Ol("transitionend"),pp=new Map,mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(n,i){pp.set(n,i),l(i,[n])}for(var qc=0;qc<mp.length;qc++){var Kc=mp[qc],Q0=Kc.toLowerCase(),Y0=Kc[0].toUpperCase()+Kc.slice(1);Ti(Q0,"on"+Y0)}Ti(cp,"onAnimationEnd"),Ti(hp,"onAnimationIteration"),Ti(dp,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(fp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X0=new Set("cancel close invalid load scroll toggle".split(" ").concat(da));function gp(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,Us(c,i,void 0,n),n.currentTarget=null}function yp(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var _=c.length-1;0<=_;_--){var C=c[_],P=C.instance,z=C.currentTarget;if(C=C.listener,P!==m&&d.isPropagationStopped())break e;gp(d,C,z),m=P}else for(_=0;_<c.length;_++){if(C=c[_],P=C.instance,z=C.currentTarget,C=C.listener,P!==m&&d.isPropagationStopped())break e;gp(d,C,z),m=P}}}if(Ne)throw n=Qe,Ne=!1,Qe=null,n}function et(n,i){var a=i[th];a===void 0&&(a=i[th]=new Set);var c=n+"__bubble";a.has(c)||(vp(i,n,2,!1),a.add(c))}function Gc(n,i,a){var c=0;i&&(c|=4),vp(a,n,c,i)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function fa(n){if(!n[Ll]){n[Ll]=!0,s.forEach(function(a){a!=="selectionchange"&&(X0.has(a)||Gc(a,!1,n),Gc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ll]||(i[Ll]=!0,Gc("selectionchange",!1,i))}}function vp(n,i,a,c){switch(ra(i)){case 1:var d=rt;break;case 4:d=Fc;break;default:d=na}a=d.bind(null,i,a,n),d=void 0,!Ee||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function Qc(n,i,a,c,d){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var C=c.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;_=_.return}for(;C!==null;){if(_=ys(C),_===null)return;if(P=_.tag,P===5||P===6){c=m=_;continue e}C=C.parentNode}}c=c.return}as(function(){var z=m,Y=ci(a),J=[];e:{var Q=pp.get(n);if(Q!==void 0){var ae=Qs,he=n;switch(n){case"keypress":if(Gs(a)===0)break e;case"keydown":case"keyup":ae=p;break;case"focusin":he="focus",ae=Zs;break;case"focusout":he="blur",ae=Zs;break;case"beforeblur":case"afterblur":ae=Zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Rl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=B;break;case cp:case hp:case dp:ae=jr;break;case fp:ae=Ge;break;case"scroll":ae=jc;break;case"wheel":ae=ze;break;case"copy":case"cut":case"paste":ae=Pl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=E}var fe=(i&4)!==0,ft=!fe&&n==="scroll",M=fe?Q!==null?Q+"Capture":null:Q;fe=[];for(var b=z,U;b!==null;){U=b;var Z=U.stateNode;if(U.tag===5&&Z!==null&&(U=Z,M!==null&&(Z=q(b,M),Z!=null&&fe.push(pa(b,Z,U)))),ft)break;b=b.return}0<fe.length&&(Q=new ae(Q,he,null,a,Y),J.push({event:Q,listeners:fe}))}}if((i&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",ae=n==="mouseout"||n==="pointerout",Q&&a!==Dr&&(he=a.relatedTarget||a.fromElement)&&(ys(he)||he[Ur]))break e;if((ae||Q)&&(Q=Y.window===Y?Y:(Q=Y.ownerDocument)?Q.defaultView||Q.parentWindow:window,ae?(he=a.relatedTarget||a.toElement,ae=z,he=he?ys(he):null,he!==null&&(ft=mn(he),he!==ft||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=z),ae!==he)){if(fe=Xs,Z="onMouseLeave",M="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(fe=E,Z="onPointerLeave",M="onPointerEnter",b="pointer"),ft=ae==null?Q:ao(ae),U=he==null?Q:ao(he),Q=new fe(Z,b+"leave",ae,a,Y),Q.target=ft,Q.relatedTarget=U,Z=null,ys(Y)===z&&(fe=new fe(M,b+"enter",he,a,Y),fe.target=U,fe.relatedTarget=ft,Z=fe),ft=Z,ae&&he)t:{for(fe=ae,M=he,b=0,U=fe;U;U=so(U))b++;for(U=0,Z=M;Z;Z=so(Z))U++;for(;0<b-U;)fe=so(fe),b--;for(;0<U-b;)M=so(M),U--;for(;b--;){if(fe===M||M!==null&&fe===M.alternate)break t;fe=so(fe),M=so(M)}fe=null}else fe=null;ae!==null&&_p(J,Q,ae,fe,!1),he!==null&&ft!==null&&_p(J,ft,he,fe,!0)}}e:{if(Q=z?ao(z):window,ae=Q.nodeName&&Q.nodeName.toLowerCase(),ae==="select"||ae==="input"&&Q.type==="file")var pe=z0;else if(Jf(Q))if(ep)pe=W0;else{pe=$0;var ve=B0}else(ae=Q.nodeName)&&ae.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(pe=H0);if(pe&&(pe=pe(n,z))){Zf(J,pe,a,Y);break e}ve&&ve(n,Q,z),n==="focusout"&&(ve=Q._wrapperState)&&ve.controlled&&Q.type==="number"&&kr(Q,"number",Q.value)}switch(ve=z?ao(z):window,n){case"focusin":(Jf(ve)||ve.contentEditable==="true")&&(ro=ve,$c=z,ha=null);break;case"focusout":ha=$c=ro=null;break;case"mousedown":Hc=!0;break;case"contextmenu":case"mouseup":case"dragend":Hc=!1,lp(J,a,Y);break;case"selectionchange":if(G0)break;case"keydown":case"keyup":lp(J,a,Y)}var _e;if(gt)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else no?Yf(n,a)&&(Ie="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(gs&&a.locale!=="ko"&&(no||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&no&&(_e=ia()):(vn=Y,Ks="value"in vn?vn.value:vn.textContent,no=!0)),ve=Ml(z,Ie),0<ve.length&&(Ie=new aa(Ie,n,null,a,Y),J.push({event:Ie,listeners:ve}),_e?Ie.data=_e:(_e=Xf(a),_e!==null&&(Ie.data=_e)))),(_e=_n?M0(n,a):F0(n,a))&&(z=Ml(z,"onBeforeInput"),0<z.length&&(Y=new aa("onBeforeInput","beforeinput",null,a,Y),J.push({event:Y,listeners:z}),Y.data=_e))}yp(J,i)})}function pa(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Ml(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=q(n,a),m!=null&&c.unshift(pa(n,m,d)),m=q(n,i),m!=null&&c.push(pa(n,m,d))),n=n.return}return c}function so(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function _p(n,i,a,c,d){for(var m=i._reactName,_=[];a!==null&&a!==c;){var C=a,P=C.alternate,z=C.stateNode;if(P!==null&&P===c)break;C.tag===5&&z!==null&&(C=z,d?(P=q(a,m),P!=null&&_.unshift(pa(a,P,C))):d||(P=q(a,m),P!=null&&_.push(pa(a,P,C)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var J0=/\r\n?/g,Z0=/\u0000|\uFFFD/g;function wp(n){return(typeof n=="string"?n:""+n).replace(J0,`
`).replace(Z0,"")}function Fl(n,i,a){if(i=wp(i),wp(n)!==i&&a)throw Error(t(425))}function jl(){}var Yc=null,Xc=null;function Jc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zc=typeof setTimeout=="function"?setTimeout:void 0,ew=typeof clearTimeout=="function"?clearTimeout:void 0,Ep=typeof Promise=="function"?Promise:void 0,tw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ep<"u"?function(n){return Ep.resolve(null).then(n).catch(nw)}:Zc;function nw(n){setTimeout(function(){throw n})}function eh(n,i){var a=i,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Jn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Jn(i)}function Ii(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Tp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var oo=Math.random().toString(36).slice(2),mr="__reactFiber$"+oo,ma="__reactProps$"+oo,Ur="__reactContainer$"+oo,th="__reactEvents$"+oo,rw="__reactListeners$"+oo,iw="__reactHandles$"+oo;function ys(n){var i=n[mr];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Ur]||a[mr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Tp(n);n!==null;){if(a=n[mr])return a;n=Tp(n)}return i}n=a,a=n.parentNode}return null}function ga(n){return n=n[mr]||n[Ur],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ao(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Ul(n){return n[ma]||null}var nh=[],lo=-1;function Si(n){return{current:n}}function tt(n){0>lo||(n.current=nh[lo],nh[lo]=null,lo--)}function Ze(n,i){lo++,nh[lo]=n.current,n.current=i}var Ci={},Ut=Si(Ci),rn=Si(!1),vs=Ci;function uo(n,i){var a=n.type.contextTypes;if(!a)return Ci;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function sn(n){return n=n.childContextTypes,n!=null}function zl(){tt(rn),tt(Ut)}function Ip(n,i,a){if(Ut.current!==Ci)throw Error(t(168));Ze(Ut,i),Ze(rn,a)}function Sp(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,je(n)||"Unknown",d));return se({},a,c)}function Bl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ci,vs=Ut.current,Ze(Ut,n),Ze(rn,rn.current),!0}function Cp(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Sp(n,i,vs),c.__reactInternalMemoizedMergedChildContext=n,tt(rn),tt(Ut),Ze(Ut,n)):tt(rn),Ze(rn,a)}var zr=null,$l=!1,rh=!1;function Rp(n){zr===null?zr=[n]:zr.push(n)}function sw(n){$l=!0,Rp(n)}function Ri(){if(!rh&&zr!==null){rh=!0;var n=0,i=Fe;try{var a=zr;for(Fe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}zr=null,$l=!1}catch(d){throw zr!==null&&(zr=zr.slice(n+1)),Bs(us,Ri),d}finally{Fe=i,rh=!1}}return null}var co=[],ho=0,Hl=null,Wl=0,Vn=[],On=0,_s=null,Br=1,$r="";function ws(n,i){co[ho++]=Wl,co[ho++]=Hl,Hl=n,Wl=i}function Ap(n,i,a){Vn[On++]=Br,Vn[On++]=$r,Vn[On++]=_s,_s=n;var c=Br;n=$r;var d=32-Qt(c)-1;c&=~(1<<d),a+=1;var m=32-Qt(i)+d;if(30<m){var _=d-d%5;m=(c&(1<<_)-1).toString(32),c>>=_,d-=_,Br=1<<32-Qt(i)+d|a<<d|c,$r=m+n}else Br=1<<m|a<<d|c,$r=n}function ih(n){n.return!==null&&(ws(n,1),Ap(n,1,0))}function sh(n){for(;n===Hl;)Hl=co[--ho],co[ho]=null,Wl=co[--ho],co[ho]=null;for(;n===_s;)_s=Vn[--On],Vn[On]=null,$r=Vn[--On],Vn[On]=null,Br=Vn[--On],Vn[On]=null}var wn=null,En=null,it=!1,tr=null;function xp(n,i){var a=jn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Pp(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,wn=n,En=Ii(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,wn=n,En=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=_s!==null?{id:Br,overflow:$r}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=jn(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,wn=n,En=null,!0):!1;default:return!1}}function oh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ah(n){if(it){var i=En;if(i){var a=i;if(!Pp(n,i)){if(oh(n))throw Error(t(418));i=Ii(a.nextSibling);var c=wn;i&&Pp(n,i)?xp(c,a):(n.flags=n.flags&-4097|2,it=!1,wn=n)}}else{if(oh(n))throw Error(t(418));n.flags=n.flags&-4097|2,it=!1,wn=n}}}function kp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;wn=n}function ql(n){if(n!==wn)return!1;if(!it)return kp(n),it=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Jc(n.type,n.memoizedProps)),i&&(i=En)){if(oh(n))throw Np(),Error(t(418));for(;i;)xp(n,i),i=Ii(i.nextSibling)}if(kp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){En=Ii(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}En=null}}else En=wn?Ii(n.stateNode.nextSibling):null;return!0}function Np(){for(var n=En;n;)n=Ii(n.nextSibling)}function fo(){En=wn=null,it=!1}function lh(n){tr===null?tr=[n]:tr.push(n)}var ow=ne.ReactCurrentBatchConfig;function ya(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(_){var C=d.refs;_===null?delete C[m]:C[m]=_},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Kl(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function bp(n){var i=n._init;return i(n._payload)}function Dp(n){function i(M,b){if(n){var U=M.deletions;U===null?(M.deletions=[b],M.flags|=16):U.push(b)}}function a(M,b){if(!n)return null;for(;b!==null;)i(M,b),b=b.sibling;return null}function c(M,b){for(M=new Map;b!==null;)b.key!==null?M.set(b.key,b):M.set(b.index,b),b=b.sibling;return M}function d(M,b){return M=Vi(M,b),M.index=0,M.sibling=null,M}function m(M,b,U){return M.index=U,n?(U=M.alternate,U!==null?(U=U.index,U<b?(M.flags|=2,b):U):(M.flags|=2,b)):(M.flags|=1048576,b)}function _(M){return n&&M.alternate===null&&(M.flags|=2),M}function C(M,b,U,Z){return b===null||b.tag!==6?(b=Zh(U,M.mode,Z),b.return=M,b):(b=d(b,U),b.return=M,b)}function P(M,b,U,Z){var pe=U.type;return pe===N?Y(M,b,U.props.children,Z,U.key):b!==null&&(b.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Pe&&bp(pe)===b.type)?(Z=d(b,U.props),Z.ref=ya(M,b,U),Z.return=M,Z):(Z=yu(U.type,U.key,U.props,null,M.mode,Z),Z.ref=ya(M,b,U),Z.return=M,Z)}function z(M,b,U,Z){return b===null||b.tag!==4||b.stateNode.containerInfo!==U.containerInfo||b.stateNode.implementation!==U.implementation?(b=ed(U,M.mode,Z),b.return=M,b):(b=d(b,U.children||[]),b.return=M,b)}function Y(M,b,U,Z,pe){return b===null||b.tag!==7?(b=xs(U,M.mode,Z,pe),b.return=M,b):(b=d(b,U),b.return=M,b)}function J(M,b,U){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Zh(""+b,M.mode,U),b.return=M,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xe:return U=yu(b.type,b.key,b.props,null,M.mode,U),U.ref=ya(M,null,b),U.return=M,U;case ye:return b=ed(b,M.mode,U),b.return=M,b;case Pe:var Z=b._init;return J(M,Z(b._payload),U)}if(Rn(b)||me(b))return b=xs(b,M.mode,U,null),b.return=M,b;Kl(M,b)}return null}function Q(M,b,U,Z){var pe=b!==null?b.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return pe!==null?null:C(M,b,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case xe:return U.key===pe?P(M,b,U,Z):null;case ye:return U.key===pe?z(M,b,U,Z):null;case Pe:return pe=U._init,Q(M,b,pe(U._payload),Z)}if(Rn(U)||me(U))return pe!==null?null:Y(M,b,U,Z,null);Kl(M,U)}return null}function ae(M,b,U,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return M=M.get(U)||null,C(b,M,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case xe:return M=M.get(Z.key===null?U:Z.key)||null,P(b,M,Z,pe);case ye:return M=M.get(Z.key===null?U:Z.key)||null,z(b,M,Z,pe);case Pe:var ve=Z._init;return ae(M,b,U,ve(Z._payload),pe)}if(Rn(Z)||me(Z))return M=M.get(U)||null,Y(b,M,Z,pe,null);Kl(b,Z)}return null}function he(M,b,U,Z){for(var pe=null,ve=null,_e=b,Ie=b=0,Pt=null;_e!==null&&Ie<U.length;Ie++){_e.index>Ie?(Pt=_e,_e=null):Pt=_e.sibling;var He=Q(M,_e,U[Ie],Z);if(He===null){_e===null&&(_e=Pt);break}n&&_e&&He.alternate===null&&i(M,_e),b=m(He,b,Ie),ve===null?pe=He:ve.sibling=He,ve=He,_e=Pt}if(Ie===U.length)return a(M,_e),it&&ws(M,Ie),pe;if(_e===null){for(;Ie<U.length;Ie++)_e=J(M,U[Ie],Z),_e!==null&&(b=m(_e,b,Ie),ve===null?pe=_e:ve.sibling=_e,ve=_e);return it&&ws(M,Ie),pe}for(_e=c(M,_e);Ie<U.length;Ie++)Pt=ae(_e,M,Ie,U[Ie],Z),Pt!==null&&(n&&Pt.alternate!==null&&_e.delete(Pt.key===null?Ie:Pt.key),b=m(Pt,b,Ie),ve===null?pe=Pt:ve.sibling=Pt,ve=Pt);return n&&_e.forEach(function(Oi){return i(M,Oi)}),it&&ws(M,Ie),pe}function fe(M,b,U,Z){var pe=me(U);if(typeof pe!="function")throw Error(t(150));if(U=pe.call(U),U==null)throw Error(t(151));for(var ve=pe=null,_e=b,Ie=b=0,Pt=null,He=U.next();_e!==null&&!He.done;Ie++,He=U.next()){_e.index>Ie?(Pt=_e,_e=null):Pt=_e.sibling;var Oi=Q(M,_e,He.value,Z);if(Oi===null){_e===null&&(_e=Pt);break}n&&_e&&Oi.alternate===null&&i(M,_e),b=m(Oi,b,Ie),ve===null?pe=Oi:ve.sibling=Oi,ve=Oi,_e=Pt}if(He.done)return a(M,_e),it&&ws(M,Ie),pe;if(_e===null){for(;!He.done;Ie++,He=U.next())He=J(M,He.value,Z),He!==null&&(b=m(He,b,Ie),ve===null?pe=He:ve.sibling=He,ve=He);return it&&ws(M,Ie),pe}for(_e=c(M,_e);!He.done;Ie++,He=U.next())He=ae(_e,M,Ie,He.value,Z),He!==null&&(n&&He.alternate!==null&&_e.delete(He.key===null?Ie:He.key),b=m(He,b,Ie),ve===null?pe=He:ve.sibling=He,ve=He);return n&&_e.forEach(function(jw){return i(M,jw)}),it&&ws(M,Ie),pe}function ft(M,b,U,Z){if(typeof U=="object"&&U!==null&&U.type===N&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case xe:e:{for(var pe=U.key,ve=b;ve!==null;){if(ve.key===pe){if(pe=U.type,pe===N){if(ve.tag===7){a(M,ve.sibling),b=d(ve,U.props.children),b.return=M,M=b;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Pe&&bp(pe)===ve.type){a(M,ve.sibling),b=d(ve,U.props),b.ref=ya(M,ve,U),b.return=M,M=b;break e}a(M,ve);break}else i(M,ve);ve=ve.sibling}U.type===N?(b=xs(U.props.children,M.mode,Z,U.key),b.return=M,M=b):(Z=yu(U.type,U.key,U.props,null,M.mode,Z),Z.ref=ya(M,b,U),Z.return=M,M=Z)}return _(M);case ye:e:{for(ve=U.key;b!==null;){if(b.key===ve)if(b.tag===4&&b.stateNode.containerInfo===U.containerInfo&&b.stateNode.implementation===U.implementation){a(M,b.sibling),b=d(b,U.children||[]),b.return=M,M=b;break e}else{a(M,b);break}else i(M,b);b=b.sibling}b=ed(U,M.mode,Z),b.return=M,M=b}return _(M);case Pe:return ve=U._init,ft(M,b,ve(U._payload),Z)}if(Rn(U))return he(M,b,U,Z);if(me(U))return fe(M,b,U,Z);Kl(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,b!==null&&b.tag===6?(a(M,b.sibling),b=d(b,U),b.return=M,M=b):(a(M,b),b=Zh(U,M.mode,Z),b.return=M,M=b),_(M)):a(M,b)}return ft}var po=Dp(!0),Vp=Dp(!1),Gl=Si(null),Ql=null,mo=null,uh=null;function ch(){uh=mo=Ql=null}function hh(n){var i=Gl.current;tt(Gl),n._currentValue=i}function dh(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function go(n,i){Ql=n,uh=mo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(on=!0),n.firstContext=null)}function Ln(n){var i=n._currentValue;if(uh!==n)if(n={context:n,memoizedValue:i,next:null},mo===null){if(Ql===null)throw Error(t(308));mo=n,Ql.dependencies={lanes:0,firstContext:n}}else mo=mo.next=n;return i}var Es=null;function fh(n){Es===null?Es=[n]:Es.push(n)}function Op(n,i,a,c){var d=i.interleaved;return d===null?(a.next=a,fh(i)):(a.next=d.next,d.next=a),i.interleaved=a,Hr(n,c)}function Hr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Ai=!1;function ph(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Wr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function xi(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,($e&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,Hr(n,a)}return d=c.interleaved,d===null?(i.next=i,fh(c)):(i.next=d.next,d.next=i),c.interleaved=i,Hr(n,a)}function Yl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,yi(n,a)}}function Mp(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Xl(n,i,a,c){var d=n.updateQueue;Ai=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var P=C,z=P.next;P.next=null,_===null?m=z:_.next=z,_=P;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,C=Y.lastBaseUpdate,C!==_&&(C===null?Y.firstBaseUpdate=z:C.next=z,Y.lastBaseUpdate=P))}if(m!==null){var J=d.baseState;_=0,Y=z=P=null,C=m;do{var Q=C.lane,ae=C.eventTime;if((c&Q)===Q){Y!==null&&(Y=Y.next={eventTime:ae,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var he=n,fe=C;switch(Q=i,ae=a,fe.tag){case 1:if(he=fe.payload,typeof he=="function"){J=he.call(ae,J,Q);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=fe.payload,Q=typeof he=="function"?he.call(ae,J,Q):he,Q==null)break e;J=se({},J,Q);break e;case 2:Ai=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,Q=d.effects,Q===null?d.effects=[C]:Q.push(C))}else ae={eventTime:ae,lane:Q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Y===null?(z=Y=ae,P=J):Y=Y.next=ae,_|=Q;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;Q=C,C=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);if(Y===null&&(P=J),d.baseState=P,d.firstBaseUpdate=z,d.lastBaseUpdate=Y,i=d.shared.interleaved,i!==null){d=i;do _|=d.lane,d=d.next;while(d!==i)}else m===null&&(d.shared.lanes=0);Ss|=_,n.lanes=_,n.memoizedState=J}}function Fp(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var va={},gr=Si(va),_a=Si(va),wa=Si(va);function Ts(n){if(n===va)throw Error(t(174));return n}function mh(n,i){switch(Ze(wa,i),Ze(_a,n),Ze(gr,va),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:nt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=nt(i,n)}tt(gr),Ze(gr,i)}function yo(){tt(gr),tt(_a),tt(wa)}function jp(n){Ts(wa.current);var i=Ts(gr.current),a=nt(i,n.type);i!==a&&(Ze(_a,n),Ze(gr,a))}function gh(n){_a.current===n&&(tt(gr),tt(_a))}var at=Si(0);function Jl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yh=[];function vh(){for(var n=0;n<yh.length;n++)yh[n]._workInProgressVersionPrimary=null;yh.length=0}var Zl=ne.ReactCurrentDispatcher,_h=ne.ReactCurrentBatchConfig,Is=0,lt=null,Et=null,At=null,eu=!1,Ea=!1,Ta=0,aw=0;function zt(){throw Error(t(321))}function wh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!er(n[a],i[a]))return!1;return!0}function Eh(n,i,a,c,d,m){if(Is=m,lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Zl.current=n===null||n.memoizedState===null?hw:dw,n=a(c,d),Ea){m=0;do{if(Ea=!1,Ta=0,25<=m)throw Error(t(301));m+=1,At=Et=null,i.updateQueue=null,Zl.current=fw,n=a(c,d)}while(Ea)}if(Zl.current=ru,i=Et!==null&&Et.next!==null,Is=0,At=Et=lt=null,eu=!1,i)throw Error(t(300));return n}function Th(){var n=Ta!==0;return Ta=0,n}function yr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?lt.memoizedState=At=n:At=At.next=n,At}function Mn(){if(Et===null){var n=lt.alternate;n=n!==null?n.memoizedState:null}else n=Et.next;var i=At===null?lt.memoizedState:At.next;if(i!==null)At=i,Et=n;else{if(n===null)throw Error(t(310));Et=n,n={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},At===null?lt.memoizedState=At=n:At=At.next=n}return At}function Ia(n,i){return typeof i=="function"?i(n):i}function Ih(n){var i=Mn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=Et,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var C=_=null,P=null,z=m;do{var Y=z.lane;if((Is&Y)===Y)P!==null&&(P=P.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:n(c,z.action);else{var J={lane:Y,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};P===null?(C=P=J,_=c):P=P.next=J,lt.lanes|=Y,Ss|=Y}z=z.next}while(z!==null&&z!==m);P===null?_=c:P.next=C,er(c,i.memoizedState)||(on=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,lt.lanes|=m,Ss|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Sh(n){var i=Mn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do m=n(m,_.action),_=_.next;while(_!==d);er(m,i.memoizedState)||(on=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function Up(){}function zp(n,i){var a=lt,c=Mn(),d=i(),m=!er(c.memoizedState,d);if(m&&(c.memoizedState=d,on=!0),c=c.queue,Ch(Hp.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,Sa(9,$p.bind(null,a,c,d,i),void 0,null),xt===null)throw Error(t(349));(Is&30)!==0||Bp(a,i,d)}return d}function Bp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=lt.updateQueue,i===null?(i={lastEffect:null,stores:null},lt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function $p(n,i,a,c){i.value=a,i.getSnapshot=c,Wp(i)&&qp(n)}function Hp(n,i,a){return a(function(){Wp(i)&&qp(n)})}function Wp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!er(n,a)}catch{return!0}}function qp(n){var i=Hr(n,1);i!==null&&sr(i,n,1,-1)}function Kp(n){var i=yr();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:n},i.queue=n,n=n.dispatch=cw.bind(null,lt,n),[i.memoizedState,n]}function Sa(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=lt.updateQueue,i===null?(i={lastEffect:null,stores:null},lt.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function Gp(){return Mn().memoizedState}function tu(n,i,a,c){var d=yr();lt.flags|=n,d.memoizedState=Sa(1|i,a,void 0,c===void 0?null:c)}function nu(n,i,a,c){var d=Mn();c=c===void 0?null:c;var m=void 0;if(Et!==null){var _=Et.memoizedState;if(m=_.destroy,c!==null&&wh(c,_.deps)){d.memoizedState=Sa(i,a,m,c);return}}lt.flags|=n,d.memoizedState=Sa(1|i,a,m,c)}function Qp(n,i){return tu(8390656,8,n,i)}function Ch(n,i){return nu(2048,8,n,i)}function Yp(n,i){return nu(4,2,n,i)}function Xp(n,i){return nu(4,4,n,i)}function Jp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Zp(n,i,a){return a=a!=null?a.concat([n]):null,nu(4,4,Jp.bind(null,i,n),a)}function Rh(){}function em(n,i){var a=Mn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&wh(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function tm(n,i){var a=Mn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&wh(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function nm(n,i,a){return(Is&21)===0?(n.baseState&&(n.baseState=!1,on=!0),n.memoizedState=a):(er(a,i)||(a=ds(),lt.lanes|=a,Ss|=a,n.baseState=!0),i)}function lw(n,i){var a=Fe;Fe=a!==0&&4>a?a:4,n(!0);var c=_h.transition;_h.transition={};try{n(!1),i()}finally{Fe=a,_h.transition=c}}function rm(){return Mn().memoizedState}function uw(n,i,a){var c=bi(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},im(n))sm(i,a);else if(a=Op(n,i,a,c),a!==null){var d=Jt();sr(a,n,c,d),om(a,i,c)}}function cw(n,i,a){var c=bi(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(im(n))sm(i,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,C=m(_,a);if(d.hasEagerState=!0,d.eagerState=C,er(C,_)){var P=i.interleaved;P===null?(d.next=d,fh(i)):(d.next=P.next,P.next=d),i.interleaved=d;return}}catch{}finally{}a=Op(n,i,d,c),a!==null&&(d=Jt(),sr(a,n,c,d),om(a,i,c))}}function im(n){var i=n.alternate;return n===lt||i!==null&&i===lt}function sm(n,i){Ea=eu=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function om(n,i,a){if((a&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,yi(n,a)}}var ru={readContext:Ln,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},hw={readContext:Ln,useCallback:function(n,i){return yr().memoizedState=[n,i===void 0?null:i],n},useContext:Ln,useEffect:Qp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,tu(4194308,4,Jp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return tu(4194308,4,n,i)},useInsertionEffect:function(n,i){return tu(4,2,n,i)},useMemo:function(n,i){var a=yr();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=yr();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=uw.bind(null,lt,n),[c.memoizedState,n]},useRef:function(n){var i=yr();return n={current:n},i.memoizedState=n},useState:Kp,useDebugValue:Rh,useDeferredValue:function(n){return yr().memoizedState=n},useTransition:function(){var n=Kp(!1),i=n[0];return n=lw.bind(null,n[1]),yr().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=lt,d=yr();if(it){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),xt===null)throw Error(t(349));(Is&30)!==0||Bp(c,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,Qp(Hp.bind(null,c,m,n),[n]),c.flags|=2048,Sa(9,$p.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=yr(),i=xt.identifierPrefix;if(it){var a=$r,c=Br;a=(c&~(1<<32-Qt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ta++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=aw++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},dw={readContext:Ln,useCallback:em,useContext:Ln,useEffect:Ch,useImperativeHandle:Zp,useInsertionEffect:Yp,useLayoutEffect:Xp,useMemo:tm,useReducer:Ih,useRef:Gp,useState:function(){return Ih(Ia)},useDebugValue:Rh,useDeferredValue:function(n){var i=Mn();return nm(i,Et.memoizedState,n)},useTransition:function(){var n=Ih(Ia)[0],i=Mn().memoizedState;return[n,i]},useMutableSource:Up,useSyncExternalStore:zp,useId:rm,unstable_isNewReconciler:!1},fw={readContext:Ln,useCallback:em,useContext:Ln,useEffect:Ch,useImperativeHandle:Zp,useInsertionEffect:Yp,useLayoutEffect:Xp,useMemo:tm,useReducer:Sh,useRef:Gp,useState:function(){return Sh(Ia)},useDebugValue:Rh,useDeferredValue:function(n){var i=Mn();return Et===null?i.memoizedState=n:nm(i,Et.memoizedState,n)},useTransition:function(){var n=Sh(Ia)[0],i=Mn().memoizedState;return[n,i]},useMutableSource:Up,useSyncExternalStore:zp,useId:rm,unstable_isNewReconciler:!1};function nr(n,i){if(n&&n.defaultProps){i=se({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Ah(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:se({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var iu={isMounted:function(n){return(n=n._reactInternals)?mn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Jt(),d=bi(n),m=Wr(c,d);m.payload=i,a!=null&&(m.callback=a),i=xi(n,m,d),i!==null&&(sr(i,n,d,c),Yl(i,n,d))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Jt(),d=bi(n),m=Wr(c,d);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=xi(n,m,d),i!==null&&(sr(i,n,d,c),Yl(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Jt(),c=bi(n),d=Wr(a,c);d.tag=2,i!=null&&(d.callback=i),i=xi(n,d,c),i!==null&&(sr(i,n,c,a),Yl(i,n,c))}};function am(n,i,a,c,d,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,_):i.prototype&&i.prototype.isPureReactComponent?!ca(a,c)||!ca(d,m):!0}function lm(n,i,a){var c=!1,d=Ci,m=i.contextType;return typeof m=="object"&&m!==null?m=Ln(m):(d=sn(i)?vs:Ut.current,c=i.contextTypes,m=(c=c!=null)?uo(n,d):Ci),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=iu,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),i}function um(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&iu.enqueueReplaceState(i,i.state,null)}function xh(n,i,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},ph(n);var m=i.contextType;typeof m=="object"&&m!==null?d.context=Ln(m):(m=sn(i)?vs:Ut.current,d.context=uo(n,m)),d.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Ah(n,i,m,a),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&iu.enqueueReplaceState(d,d.state,null),Xl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function vo(n,i){try{var a="",c=i;do a+=ke(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:d,digest:null}}function Ph(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function kh(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var pw=typeof WeakMap=="function"?WeakMap:Map;function cm(n,i,a){a=Wr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){hu||(hu=!0,Wh=c),kh(n,i)},a}function hm(n,i,a){a=Wr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){kh(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){kh(n,i),typeof c!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function dm(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new pw;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),n=xw.bind(null,n,i,a),i.then(n,n))}function fm(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function pm(n,i,a,c,d){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Wr(-1,1),i.tag=2,xi(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var mw=ne.ReactCurrentOwner,on=!1;function Xt(n,i,a,c){i.child=n===null?Vp(i,null,a,c):po(i,n.child,a,c)}function mm(n,i,a,c,d){a=a.render;var m=i.ref;return go(i,d),c=Eh(n,i,a,c,m,d),a=Th(),n!==null&&!on?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,qr(n,i,d)):(it&&a&&ih(i),i.flags|=1,Xt(n,i,c,d),i.child)}function gm(n,i,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!Jh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,ym(n,i,m,c,d)):(n=yu(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,(n.lanes&d)===0){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:ca,a(_,c)&&n.ref===i.ref)return qr(n,i,d)}return i.flags|=1,n=Vi(m,c),n.ref=i.ref,n.return=i,i.child=n}function ym(n,i,a,c,d){if(n!==null){var m=n.memoizedProps;if(ca(m,c)&&n.ref===i.ref)if(on=!1,i.pendingProps=c=m,(n.lanes&d)!==0)(n.flags&131072)!==0&&(on=!0);else return i.lanes=n.lanes,qr(n,i,d)}return Nh(n,i,a,c,d)}function vm(n,i,a){var c=i.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(wo,Tn),Tn|=a;else{if((a&1073741824)===0)return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Ze(wo,Tn),Tn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,Ze(wo,Tn),Tn|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,Ze(wo,Tn),Tn|=c;return Xt(n,i,d,a),i.child}function _m(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Nh(n,i,a,c,d){var m=sn(a)?vs:Ut.current;return m=uo(i,m),go(i,d),a=Eh(n,i,a,c,m,d),c=Th(),n!==null&&!on?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,qr(n,i,d)):(it&&c&&ih(i),i.flags|=1,Xt(n,i,a,d),i.child)}function wm(n,i,a,c,d){if(sn(a)){var m=!0;Bl(i)}else m=!1;if(go(i,d),i.stateNode===null)ou(n,i),lm(i,a,c),xh(i,a,c,d),c=!0;else if(n===null){var _=i.stateNode,C=i.memoizedProps;_.props=C;var P=_.context,z=a.contextType;typeof z=="object"&&z!==null?z=Ln(z):(z=sn(a)?vs:Ut.current,z=uo(i,z));var Y=a.getDerivedStateFromProps,J=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function";J||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==c||P!==z)&&um(i,_,c,z),Ai=!1;var Q=i.memoizedState;_.state=Q,Xl(i,c,_,d),P=i.memoizedState,C!==c||Q!==P||rn.current||Ai?(typeof Y=="function"&&(Ah(i,a,Y,c),P=i.memoizedState),(C=Ai||am(i,a,C,c,Q,P,z))?(J||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=P),_.props=c,_.state=P,_.context=z,c=C):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,Lp(n,i),C=i.memoizedProps,z=i.type===i.elementType?C:nr(i.type,C),_.props=z,J=i.pendingProps,Q=_.context,P=a.contextType,typeof P=="object"&&P!==null?P=Ln(P):(P=sn(a)?vs:Ut.current,P=uo(i,P));var ae=a.getDerivedStateFromProps;(Y=typeof ae=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==J||Q!==P)&&um(i,_,c,P),Ai=!1,Q=i.memoizedState,_.state=Q,Xl(i,c,_,d);var he=i.memoizedState;C!==J||Q!==he||rn.current||Ai?(typeof ae=="function"&&(Ah(i,a,ae,c),he=i.memoizedState),(z=Ai||am(i,a,z,c,Q,he,P)||!1)?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,he,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,he,P)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=he),_.props=c,_.state=he,_.context=P,c=z):(typeof _.componentDidUpdate!="function"||C===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),c=!1)}return bh(n,i,a,c,m,d)}function bh(n,i,a,c,d,m){_m(n,i);var _=(i.flags&128)!==0;if(!c&&!_)return d&&Cp(i,a,!1),qr(n,i,m);c=i.stateNode,mw.current=i;var C=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&_?(i.child=po(i,n.child,null,m),i.child=po(i,null,C,m)):Xt(n,i,C,m),i.memoizedState=c.state,d&&Cp(i,a,!0),i.child}function Em(n){var i=n.stateNode;i.pendingContext?Ip(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Ip(n,i.context,!1),mh(n,i.containerInfo)}function Tm(n,i,a,c,d){return fo(),lh(d),i.flags|=256,Xt(n,i,a,c),i.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Vh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Im(n,i,a){var c=i.pendingProps,d=at.current,m=!1,_=(i.flags&128)!==0,C;if((C=_)||(C=n!==null&&n.memoizedState===null?!1:(d&2)!==0),C?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Ze(at,d&1),n===null)return ah(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(_=c.children,n=c.fallback,m?(c=i.mode,m=i.child,_={mode:"hidden",children:_},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=vu(_,c,0,null),n=xs(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=Vh(a),i.memoizedState=Dh,n):Oh(i,_));if(d=n.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return gw(n,i,_,c,C,d,a);if(m){m=c.fallback,_=i.mode,d=n.child,C=d.sibling;var P={mode:"hidden",children:c.children};return(_&1)===0&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=P,i.deletions=null):(c=Vi(d,P),c.subtreeFlags=d.subtreeFlags&14680064),C!==null?m=Vi(C,m):(m=xs(m,_,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,_=n.child.memoizedState,_=_===null?Vh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=n.childLanes&~a,i.memoizedState=Dh,c}return m=n.child,n=m.sibling,c=Vi(m,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function Oh(n,i){return i=vu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function su(n,i,a,c){return c!==null&&lh(c),po(i,n.child,null,a),n=Oh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function gw(n,i,a,c,d,m,_){if(a)return i.flags&256?(i.flags&=-257,c=Ph(Error(t(422))),su(n,i,_,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,d=i.mode,c=vu({mode:"visible",children:c.children},d,0,null),m=xs(m,d,_,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,(i.mode&1)!==0&&po(i,n.child,null,_),i.child.memoizedState=Vh(_),i.memoizedState=Dh,m);if((i.mode&1)===0)return su(n,i,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var C=c.dgst;return c=C,m=Error(t(419)),c=Ph(m,c,void 0),su(n,i,_,c)}if(C=(_&n.childLanes)!==0,on||C){if(c=xt,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|_))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,Hr(n,d),sr(c,n,d,-1))}return Xh(),c=Ph(Error(t(421))),su(n,i,_,c)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=Pw.bind(null,n),d._reactRetry=i,null):(n=m.treeContext,En=Ii(d.nextSibling),wn=i,it=!0,tr=null,n!==null&&(Vn[On++]=Br,Vn[On++]=$r,Vn[On++]=_s,Br=n.id,$r=n.overflow,_s=i),i=Oh(i,c.children),i.flags|=4096,i)}function Sm(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),dh(n.return,i,a)}function Lh(n,i,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function Cm(n,i,a){var c=i.pendingProps,d=c.revealOrder,m=c.tail;if(Xt(n,i,c.children,a),c=at.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Sm(n,a,i);else if(n.tag===19)Sm(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ze(at,c),(i.mode&1)===0)i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&Jl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Lh(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Jl(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Lh(i,!0,a,null,m);break;case"together":Lh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ou(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function qr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ss|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=Vi(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Vi(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function yw(n,i,a){switch(i.tag){case 3:Em(i),fo();break;case 5:jp(i);break;case 1:sn(i.type)&&Bl(i);break;case 4:mh(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;Ze(Gl,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Ze(at,at.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Im(n,i,a):(Ze(at,at.current&1),n=qr(n,i,a),n!==null?n.sibling:null);Ze(at,at.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(n.flags&128)!==0){if(c)return Cm(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ze(at,at.current),c)break;return null;case 22:case 23:return i.lanes=0,vm(n,i,a)}return qr(n,i,a)}var Rm,Mh,Am,xm;Rm=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Mh=function(){},Am=function(n,i,a,c){var d=n.memoizedProps;if(d!==c){n=i.stateNode,Ts(gr.current);var m=null;switch(a){case"input":d=Pr(n,d),c=Pr(n,c),m=[];break;case"select":d=se({},d,{value:void 0}),c=se({},c,{value:void 0}),m=[];break;case"textarea":d=Bn(n,d),c=Bn(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=jl)}ui(a,c);var _;a=null;for(z in d)if(!c.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var C=d[z];for(_ in C)C.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?m||(m=[]):(m=m||[]).push(z,null));for(z in c){var P=c[z];if(C=d!=null?d[z]:void 0,c.hasOwnProperty(z)&&P!==C&&(P!=null||C!=null))if(z==="style")if(C){for(_ in C)!C.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in P)P.hasOwnProperty(_)&&C[_]!==P[_]&&(a||(a={}),a[_]=P[_])}else a||(m||(m=[]),m.push(z,a)),a=P;else z==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,C=C?C.__html:void 0,P!=null&&C!==P&&(m=m||[]).push(z,P)):z==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(z,""+P):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(P!=null&&z==="onScroll"&&et("scroll",n),m||C===P||(m=[])):(m=m||[]).push(z,P))}a&&(m=m||[]).push("style",a);var z=m;(i.updateQueue=z)&&(i.flags|=4)}},xm=function(n,i,a,c){a!==c&&(i.flags|=4)};function Ca(n,i){if(!it)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Bt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function vw(n,i,a){var c=i.pendingProps;switch(sh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(i),null;case 1:return sn(i.type)&&zl(),Bt(i),null;case 3:return c=i.stateNode,yo(),tt(rn),tt(Ut),vh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(ql(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,tr!==null&&(Gh(tr),tr=null))),Mh(n,i),Bt(i),null;case 5:gh(i);var d=Ts(wa.current);if(a=i.type,n!==null&&i.stateNode!=null)Am(n,i,a,c,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Bt(i),null}if(n=Ts(gr.current),ql(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[mr]=i,c[ma]=m,n=(i.mode&1)!==0,a){case"dialog":et("cancel",c),et("close",c);break;case"iframe":case"object":case"embed":et("load",c);break;case"video":case"audio":for(d=0;d<da.length;d++)et(da[d],c);break;case"source":et("error",c);break;case"img":case"image":case"link":et("error",c),et("load",c);break;case"details":et("toggle",c);break;case"input":Cn(c,m),et("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},et("invalid",c);break;case"textarea":Nr(c,m),et("invalid",c)}ui(a,m),d=null;for(var _ in m)if(m.hasOwnProperty(_)){var C=m[_];_==="children"?typeof C=="string"?c.textContent!==C&&(m.suppressHydrationWarning!==!0&&Fl(c.textContent,C,n),d=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&Fl(c.textContent,C,n),d=["children",""+C]):o.hasOwnProperty(_)&&C!=null&&_==="onScroll"&&et("scroll",c)}switch(a){case"input":dn(c),ss(c,m,!0);break;case"textarea":dn(c),oi(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=jl)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ct(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[mr]=i,n[ma]=c,Rm(n,i,!1,!1),i.stateNode=n;e:{switch(_=qn(a,c),a){case"dialog":et("cancel",n),et("close",n),d=c;break;case"iframe":case"object":case"embed":et("load",n),d=c;break;case"video":case"audio":for(d=0;d<da.length;d++)et(da[d],n);d=c;break;case"source":et("error",n),d=c;break;case"img":case"image":case"link":et("error",n),et("load",n),d=c;break;case"details":et("toggle",n),d=c;break;case"input":Cn(n,c),d=Pr(n,c),et("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=se({},c,{value:void 0}),et("invalid",n);break;case"textarea":Nr(n,c),d=Bn(n,c),et("invalid",n);break;default:d=c}ui(a,d),C=d;for(m in C)if(C.hasOwnProperty(m)){var P=C[m];m==="style"?br(n,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&ai(n,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&pn(n,P):typeof P=="number"&&pn(n,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?P!=null&&m==="onScroll"&&et("scroll",n):P!=null&&re(n,m,P,_))}switch(a){case"input":dn(n),ss(n,c,!1);break;case"textarea":dn(n),oi(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Oe(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?fn(n,!!c.multiple,m,!1):c.defaultValue!=null&&fn(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=jl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Bt(i),null;case 6:if(n&&i.stateNode!=null)xm(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Ts(wa.current),Ts(gr.current),ql(i)){if(c=i.stateNode,a=i.memoizedProps,c[mr]=i,(m=c.nodeValue!==a)&&(n=wn,n!==null))switch(n.tag){case 3:Fl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Fl(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[mr]=i,i.stateNode=c}return Bt(i),null;case 13:if(tt(at),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(it&&En!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Np(),fo(),i.flags|=98560,m=!1;else if(m=ql(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[mr]=i}else fo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Bt(i),m=!1}else tr!==null&&(Gh(tr),tr=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(at.current&1)!==0?Tt===0&&(Tt=3):Xh())),i.updateQueue!==null&&(i.flags|=4),Bt(i),null);case 4:return yo(),Mh(n,i),n===null&&fa(i.stateNode.containerInfo),Bt(i),null;case 10:return hh(i.type._context),Bt(i),null;case 17:return sn(i.type)&&zl(),Bt(i),null;case 19:if(tt(at),m=i.memoizedState,m===null)return Bt(i),null;if(c=(i.flags&128)!==0,_=m.rendering,_===null)if(c)Ca(m,!1);else{if(Tt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(_=Jl(n),_!==null){for(i.flags|=128,Ca(m,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,n=_.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ze(at,at.current&1|2),i.child}n=n.sibling}m.tail!==null&&Je()>Eo&&(i.flags|=128,c=!0,Ca(m,!1),i.lanes=4194304)}else{if(!c)if(n=Jl(_),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Ca(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!it)return Bt(i),null}else 2*Je()-m.renderingStartTime>Eo&&a!==1073741824&&(i.flags|=128,c=!0,Ca(m,!1),i.lanes=4194304);m.isBackwards?(_.sibling=i.child,i.child=_):(a=m.last,a!==null?a.sibling=_:i.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Je(),i.sibling=null,a=at.current,Ze(at,c?a&1|2:a&1),i):(Bt(i),null);case 22:case 23:return Yh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(Tn&1073741824)!==0&&(Bt(i),i.subtreeFlags&6&&(i.flags|=8192)):Bt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function _w(n,i){switch(sh(i),i.tag){case 1:return sn(i.type)&&zl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return yo(),tt(rn),tt(Ut),vh(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return gh(i),null;case 13:if(tt(at),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));fo()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return tt(at),null;case 4:return yo(),null;case 10:return hh(i.type._context),null;case 22:case 23:return Yh(),null;case 24:return null;default:return null}}var au=!1,$t=!1,ww=typeof WeakSet=="function"?WeakSet:Set,ue=null;function _o(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ht(n,i,c)}else a.current=null}function Fh(n,i,a){try{a()}catch(c){ht(n,i,c)}}var Pm=!1;function Ew(n,i){if(Yc=wi,n=ap(),Bc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,C=-1,P=-1,z=0,Y=0,J=n,Q=null;t:for(;;){for(var ae;J!==a||d!==0&&J.nodeType!==3||(C=_+d),J!==m||c!==0&&J.nodeType!==3||(P=_+c),J.nodeType===3&&(_+=J.nodeValue.length),(ae=J.firstChild)!==null;)Q=J,J=ae;for(;;){if(J===n)break t;if(Q===a&&++z===d&&(C=_),Q===m&&++Y===c&&(P=_),(ae=J.nextSibling)!==null)break;J=Q,Q=J.parentNode}J=ae}a=C===-1||P===-1?null:{start:C,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xc={focusedElem:n,selectionRange:a},wi=!1,ue=i;ue!==null;)if(i=ue,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ue=n;else for(;ue!==null;){i=ue;try{var he=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var fe=he.memoizedProps,ft=he.memoizedState,M=i.stateNode,b=M.getSnapshotBeforeUpdate(i.elementType===i.type?fe:nr(i.type,fe),ft);M.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){ht(i,i.return,Z)}if(n=i.sibling,n!==null){n.return=i.return,ue=n;break}ue=i.return}return he=Pm,Pm=!1,he}function Ra(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&Fh(i,a,m)}d=d.next}while(d!==c)}}function lu(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function jh(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function km(n){var i=n.alternate;i!==null&&(n.alternate=null,km(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[mr],delete i[ma],delete i[th],delete i[rw],delete i[iw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Nm(n){return n.tag===5||n.tag===3||n.tag===4}function bm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Nm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Uh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=jl));else if(c!==4&&(n=n.child,n!==null))for(Uh(n,i,a),n=n.sibling;n!==null;)Uh(n,i,a),n=n.sibling}function zh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(zh(n,i,a),n=n.sibling;n!==null;)zh(n,i,a),n=n.sibling}var Vt=null,rr=!1;function Pi(n,i,a){for(a=a.child;a!==null;)Dm(n,i,a),a=a.sibling}function Dm(n,i,a){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(cs,a)}catch{}switch(a.tag){case 5:$t||_o(a,i);case 6:var c=Vt,d=rr;Vt=null,Pi(n,i,a),Vt=c,rr=d,Vt!==null&&(rr?(n=Vt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Vt.removeChild(a.stateNode));break;case 18:Vt!==null&&(rr?(n=Vt,a=a.stateNode,n.nodeType===8?eh(n.parentNode,a):n.nodeType===1&&eh(n,a),Jn(n)):eh(Vt,a.stateNode));break;case 4:c=Vt,d=rr,Vt=a.stateNode.containerInfo,rr=!0,Pi(n,i,a),Vt=c,rr=d;break;case 0:case 11:case 14:case 15:if(!$t&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&Fh(a,i,_),d=d.next}while(d!==c)}Pi(n,i,a);break;case 1:if(!$t&&(_o(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){ht(a,i,C)}Pi(n,i,a);break;case 21:Pi(n,i,a);break;case 22:a.mode&1?($t=(c=$t)||a.memoizedState!==null,Pi(n,i,a),$t=c):Pi(n,i,a);break;default:Pi(n,i,a)}}function Vm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new ww),i.forEach(function(c){var d=kw.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function ir(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,_=i,C=_;e:for(;C!==null;){switch(C.tag){case 5:Vt=C.stateNode,rr=!1;break e;case 3:Vt=C.stateNode.containerInfo,rr=!0;break e;case 4:Vt=C.stateNode.containerInfo,rr=!0;break e}C=C.return}if(Vt===null)throw Error(t(160));Dm(m,_,d),Vt=null,rr=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(z){ht(d,i,z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Om(i,n),i=i.sibling}function Om(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ir(i,n),vr(n),c&4){try{Ra(3,n,n.return),lu(3,n)}catch(fe){ht(n,n.return,fe)}try{Ra(5,n,n.return)}catch(fe){ht(n,n.return,fe)}}break;case 1:ir(i,n),vr(n),c&512&&a!==null&&_o(a,a.return);break;case 5:if(ir(i,n),vr(n),c&512&&a!==null&&_o(a,a.return),n.flags&32){var d=n.stateNode;try{pn(d,"")}catch(fe){ht(n,n.return,fe)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,_=a!==null?a.memoizedProps:m,C=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&si(d,m),qn(C,_);var z=qn(C,m);for(_=0;_<P.length;_+=2){var Y=P[_],J=P[_+1];Y==="style"?br(d,J):Y==="dangerouslySetInnerHTML"?ai(d,J):Y==="children"?pn(d,J):re(d,Y,J,z)}switch(C){case"input":ar(d,m);break;case"textarea":$n(d,m);break;case"select":var Q=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var ae=m.value;ae!=null?fn(d,!!m.multiple,ae,!1):Q!==!!m.multiple&&(m.defaultValue!=null?fn(d,!!m.multiple,m.defaultValue,!0):fn(d,!!m.multiple,m.multiple?[]:"",!1))}d[ma]=m}catch(fe){ht(n,n.return,fe)}}break;case 6:if(ir(i,n),vr(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(fe){ht(n,n.return,fe)}}break;case 3:if(ir(i,n),vr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Jn(i.containerInfo)}catch(fe){ht(n,n.return,fe)}break;case 4:ir(i,n),vr(n);break;case 13:ir(i,n),vr(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(Hh=Je())),c&4&&Vm(n);break;case 22:if(Y=a!==null&&a.memoizedState!==null,n.mode&1?($t=(z=$t)||Y,ir(i,n),$t=z):ir(i,n),vr(n),c&8192){if(z=n.memoizedState!==null,(n.stateNode.isHidden=z)&&!Y&&(n.mode&1)!==0)for(ue=n,Y=n.child;Y!==null;){for(J=ue=Y;ue!==null;){switch(Q=ue,ae=Q.child,Q.tag){case 0:case 11:case 14:case 15:Ra(4,Q,Q.return);break;case 1:_o(Q,Q.return);var he=Q.stateNode;if(typeof he.componentWillUnmount=="function"){c=Q,a=Q.return;try{i=c,he.props=i.memoizedProps,he.state=i.memoizedState,he.componentWillUnmount()}catch(fe){ht(c,a,fe)}}break;case 5:_o(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Fm(J);continue}}ae!==null?(ae.return=Q,ue=ae):Fm(J)}Y=Y.sibling}e:for(Y=null,J=n;;){if(J.tag===5){if(Y===null){Y=J;try{d=J.stateNode,z?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=J.stateNode,P=J.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,C.style.display=Wn("display",_))}catch(fe){ht(n,n.return,fe)}}}else if(J.tag===6){if(Y===null)try{J.stateNode.nodeValue=z?"":J.memoizedProps}catch(fe){ht(n,n.return,fe)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===n)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===n)break e;for(;J.sibling===null;){if(J.return===null||J.return===n)break e;Y===J&&(Y=null),J=J.return}Y===J&&(Y=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:ir(i,n),vr(n),c&4&&Vm(n);break;case 21:break;default:ir(i,n),vr(n)}}function vr(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Nm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(pn(d,""),c.flags&=-33);var m=bm(n);zh(n,m,d);break;case 3:case 4:var _=c.stateNode.containerInfo,C=bm(n);Uh(n,C,_);break;default:throw Error(t(161))}}catch(P){ht(n,n.return,P)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Tw(n,i,a){ue=n,Lm(n)}function Lm(n,i,a){for(var c=(n.mode&1)!==0;ue!==null;){var d=ue,m=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||au;if(!_){var C=d.alternate,P=C!==null&&C.memoizedState!==null||$t;C=au;var z=$t;if(au=_,($t=P)&&!z)for(ue=d;ue!==null;)_=ue,P=_.child,_.tag===22&&_.memoizedState!==null?jm(d):P!==null?(P.return=_,ue=P):jm(d);for(;m!==null;)ue=m,Lm(m),m=m.sibling;ue=d,au=C,$t=z}Mm(n)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,ue=m):Mm(n)}}function Mm(n){for(;ue!==null;){var i=ue;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:$t||lu(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!$t)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:nr(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&Fp(i,m,c);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Fp(i,_,a)}break;case 5:var C=i.stateNode;if(a===null&&i.flags&4){a=C;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var z=i.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var J=Y.dehydrated;J!==null&&Jn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$t||i.flags&512&&jh(i)}catch(Q){ht(i,i.return,Q)}}if(i===n){ue=null;break}if(a=i.sibling,a!==null){a.return=i.return,ue=a;break}ue=i.return}}function Fm(n){for(;ue!==null;){var i=ue;if(i===n){ue=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ue=a;break}ue=i.return}}function jm(n){for(;ue!==null;){var i=ue;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{lu(4,i)}catch(P){ht(i,a,P)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(P){ht(i,d,P)}}var m=i.return;try{jh(i)}catch(P){ht(i,m,P)}break;case 5:var _=i.return;try{jh(i)}catch(P){ht(i,_,P)}}}catch(P){ht(i,i.return,P)}if(i===n){ue=null;break}var C=i.sibling;if(C!==null){C.return=i.return,ue=C;break}ue=i.return}}var Iw=Math.ceil,uu=ne.ReactCurrentDispatcher,Bh=ne.ReactCurrentOwner,Fn=ne.ReactCurrentBatchConfig,$e=0,xt=null,yt=null,Ot=0,Tn=0,wo=Si(0),Tt=0,Aa=null,Ss=0,cu=0,$h=0,xa=null,an=null,Hh=0,Eo=1/0,Kr=null,hu=!1,Wh=null,ki=null,du=!1,Ni=null,fu=0,Pa=0,qh=null,pu=-1,mu=0;function Jt(){return($e&6)!==0?Je():pu!==-1?pu:pu=Je()}function bi(n){return(n.mode&1)===0?1:($e&2)!==0&&Ot!==0?Ot&-Ot:ow.transition!==null?(mu===0&&(mu=ds()),mu):(n=Fe,n!==0||(n=window.event,n=n===void 0?16:ra(n.type)),n)}function sr(n,i,a,c){if(50<Pa)throw Pa=0,qh=null,Error(t(185));gi(n,a,c),(($e&2)===0||n!==xt)&&(n===xt&&(($e&2)===0&&(cu|=a),Tt===4&&Di(n,Ot)),ln(n,c),a===1&&$e===0&&(i.mode&1)===0&&(Eo=Je()+500,$l&&Ri()))}function ln(n,i){var a=n.callbackNode;Or(n,i);var c=hs(n,n===xt?Ot:0);if(c===0)a!==null&&Jo(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Jo(a),i===1)n.tag===0?sw(zm.bind(null,n)):Rp(zm.bind(null,n)),tw(function(){($e&6)===0&&Ri()}),a=null;else{switch(vi(c)){case 1:a=us;break;case 4:a=fi;break;case 16:a=Nn;break;case 536870912:a=ml;break;default:a=Nn}a=Qm(a,Um.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Um(n,i){if(pu=-1,mu=0,($e&6)!==0)throw Error(t(327));var a=n.callbackNode;if(To()&&n.callbackNode!==a)return null;var c=hs(n,n===xt?Ot:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=gu(n,c);else{i=c;var d=$e;$e|=2;var m=$m();(xt!==n||Ot!==i)&&(Kr=null,Eo=Je()+500,Rs(n,i));do try{Rw();break}catch(C){Bm(n,C)}while(!0);ch(),uu.current=m,$e=d,yt!==null?i=0:(xt=null,Ot=0,i=Tt)}if(i!==0){if(i===2&&(d=yn(n),d!==0&&(c=d,i=Kh(n,d))),i===1)throw a=Aa,Rs(n,0),Di(n,c),ln(n,Je()),a;if(i===6)Di(n,c);else{if(d=n.current.alternate,(c&30)===0&&!Sw(d)&&(i=gu(n,c),i===2&&(m=yn(n),m!==0&&(c=m,i=Kh(n,m))),i===1))throw a=Aa,Rs(n,0),Di(n,c),ln(n,Je()),a;switch(n.finishedWork=d,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:As(n,an,Kr);break;case 3:if(Di(n,c),(c&130023424)===c&&(i=Hh+500-Je(),10<i)){if(hs(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Jt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Zc(As.bind(null,n,an,Kr),i);break}As(n,an,Kr);break;case 4:if(Di(n,c),(c&4194240)===c)break;for(i=n.eventTimes,d=-1;0<c;){var _=31-Qt(c);m=1<<_,_=i[_],_>d&&(d=_),c&=~m}if(c=d,c=Je()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Iw(c/1960))-c,10<c){n.timeoutHandle=Zc(As.bind(null,n,an,Kr),c);break}As(n,an,Kr);break;case 5:As(n,an,Kr);break;default:throw Error(t(329))}}}return ln(n,Je()),n.callbackNode===a?Um.bind(null,n):null}function Kh(n,i){var a=xa;return n.current.memoizedState.isDehydrated&&(Rs(n,i).flags|=256),n=gu(n,i),n!==2&&(i=an,an=a,i!==null&&Gh(i)),n}function Gh(n){an===null?an=n:an.push.apply(an,n)}function Sw(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!er(m(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Di(n,i){for(i&=~$h,i&=~cu,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-Qt(i),c=1<<a;n[a]=-1,i&=~c}}function zm(n){if(($e&6)!==0)throw Error(t(327));To();var i=hs(n,0);if((i&1)===0)return ln(n,Je()),null;var a=gu(n,i);if(n.tag!==0&&a===2){var c=yn(n);c!==0&&(i=c,a=Kh(n,c))}if(a===1)throw a=Aa,Rs(n,0),Di(n,i),ln(n,Je()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,As(n,an,Kr),ln(n,Je()),null}function Qh(n,i){var a=$e;$e|=1;try{return n(i)}finally{$e=a,$e===0&&(Eo=Je()+500,$l&&Ri())}}function Cs(n){Ni!==null&&Ni.tag===0&&($e&6)===0&&To();var i=$e;$e|=1;var a=Fn.transition,c=Fe;try{if(Fn.transition=null,Fe=1,n)return n()}finally{Fe=c,Fn.transition=a,$e=i,($e&6)===0&&Ri()}}function Yh(){Tn=wo.current,tt(wo)}function Rs(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,ew(a)),yt!==null)for(a=yt.return;a!==null;){var c=a;switch(sh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&zl();break;case 3:yo(),tt(rn),tt(Ut),vh();break;case 5:gh(c);break;case 4:yo();break;case 13:tt(at);break;case 19:tt(at);break;case 10:hh(c.type._context);break;case 22:case 23:Yh()}a=a.return}if(xt=n,yt=n=Vi(n.current,null),Ot=Tn=i,Tt=0,Aa=null,$h=cu=Ss=0,an=xa=null,Es!==null){for(i=0;i<Es.length;i++)if(a=Es[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=d,c.next=_}a.pending=c}Es=null}return n}function Bm(n,i){do{var a=yt;try{if(ch(),Zl.current=ru,eu){for(var c=lt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}eu=!1}if(Is=0,At=Et=lt=null,Ea=!1,Ta=0,Bh.current=null,a===null||a.return===null){Tt=1,Aa=i,yt=null;break}e:{var m=n,_=a.return,C=a,P=i;if(i=Ot,C.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var z=P,Y=C,J=Y.tag;if((Y.mode&1)===0&&(J===0||J===11||J===15)){var Q=Y.alternate;Q?(Y.updateQueue=Q.updateQueue,Y.memoizedState=Q.memoizedState,Y.lanes=Q.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ae=fm(_);if(ae!==null){ae.flags&=-257,pm(ae,_,C,m,i),ae.mode&1&&dm(m,z,i),i=ae,P=z;var he=i.updateQueue;if(he===null){var fe=new Set;fe.add(P),i.updateQueue=fe}else he.add(P);break e}else{if((i&1)===0){dm(m,z,i),Xh();break e}P=Error(t(426))}}else if(it&&C.mode&1){var ft=fm(_);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),pm(ft,_,C,m,i),lh(vo(P,C));break e}}m=P=vo(P,C),Tt!==4&&(Tt=2),xa===null?xa=[m]:xa.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var M=cm(m,P,i);Mp(m,M);break e;case 1:C=P;var b=m.type,U=m.stateNode;if((m.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(ki===null||!ki.has(U)))){m.flags|=65536,i&=-i,m.lanes|=i;var Z=hm(m,C,i);Mp(m,Z);break e}}m=m.return}while(m!==null)}Wm(a)}catch(pe){i=pe,yt===a&&a!==null&&(yt=a=a.return);continue}break}while(!0)}function $m(){var n=uu.current;return uu.current=ru,n===null?ru:n}function Xh(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),xt===null||(Ss&268435455)===0&&(cu&268435455)===0||Di(xt,Ot)}function gu(n,i){var a=$e;$e|=2;var c=$m();(xt!==n||Ot!==i)&&(Kr=null,Rs(n,i));do try{Cw();break}catch(d){Bm(n,d)}while(!0);if(ch(),$e=a,uu.current=c,yt!==null)throw Error(t(261));return xt=null,Ot=0,Tt}function Cw(){for(;yt!==null;)Hm(yt)}function Rw(){for(;yt!==null&&!fl();)Hm(yt)}function Hm(n){var i=Gm(n.alternate,n,Tn);n.memoizedProps=n.pendingProps,i===null?Wm(n):yt=i,Bh.current=null}function Wm(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=vw(a,i,Tn),a!==null){yt=a;return}}else{if(a=_w(a,i),a!==null){a.flags&=32767,yt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Tt=6,yt=null;return}}if(i=i.sibling,i!==null){yt=i;return}yt=i=n}while(i!==null);Tt===0&&(Tt=5)}function As(n,i,a){var c=Fe,d=Fn.transition;try{Fn.transition=null,Fe=1,Aw(n,i,a,c)}finally{Fn.transition=d,Fe=c}return null}function Aw(n,i,a,c){do To();while(Ni!==null);if(($e&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(Ye(n,m),n===xt&&(yt=xt=null,Ot=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||du||(du=!0,Qm(Nn,function(){return To(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Fn.transition,Fn.transition=null;var _=Fe;Fe=1;var C=$e;$e|=4,Bh.current=null,Ew(n,a),Om(a,n),K0(Xc),wi=!!Yc,Xc=Yc=null,n.current=a,Tw(a),Vc(),$e=C,Fe=_,Fn.transition=m}else n.current=a;if(du&&(du=!1,Ni=n,fu=d),m=n.pendingLanes,m===0&&(ki=null),gl(a.stateNode),ln(n,Je()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(hu)throw hu=!1,n=Wh,Wh=null,n;return(fu&1)!==0&&n.tag!==0&&To(),m=n.pendingLanes,(m&1)!==0?n===qh?Pa++:(Pa=0,qh=n):Pa=0,Ri(),null}function To(){if(Ni!==null){var n=vi(fu),i=Fn.transition,a=Fe;try{if(Fn.transition=null,Fe=16>n?16:n,Ni===null)var c=!1;else{if(n=Ni,Ni=null,fu=0,($e&6)!==0)throw Error(t(331));var d=$e;for($e|=4,ue=n.current;ue!==null;){var m=ue,_=m.child;if((ue.flags&16)!==0){var C=m.deletions;if(C!==null){for(var P=0;P<C.length;P++){var z=C[P];for(ue=z;ue!==null;){var Y=ue;switch(Y.tag){case 0:case 11:case 15:Ra(8,Y,m)}var J=Y.child;if(J!==null)J.return=Y,ue=J;else for(;ue!==null;){Y=ue;var Q=Y.sibling,ae=Y.return;if(km(Y),Y===z){ue=null;break}if(Q!==null){Q.return=ae,ue=Q;break}ue=ae}}}var he=m.alternate;if(he!==null){var fe=he.child;if(fe!==null){he.child=null;do{var ft=fe.sibling;fe.sibling=null,fe=ft}while(fe!==null)}}ue=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,ue=_;else e:for(;ue!==null;){if(m=ue,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Ra(9,m,m.return)}var M=m.sibling;if(M!==null){M.return=m.return,ue=M;break e}ue=m.return}}var b=n.current;for(ue=b;ue!==null;){_=ue;var U=_.child;if((_.subtreeFlags&2064)!==0&&U!==null)U.return=_,ue=U;else e:for(_=b;ue!==null;){if(C=ue,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:lu(9,C)}}catch(pe){ht(C,C.return,pe)}if(C===_){ue=null;break e}var Z=C.sibling;if(Z!==null){Z.return=C.return,ue=Z;break e}ue=C.return}}if($e=d,Ri(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(cs,n)}catch{}c=!0}return c}finally{Fe=a,Fn.transition=i}}return!1}function qm(n,i,a){i=vo(a,i),i=cm(n,i,1),n=xi(n,i,1),i=Jt(),n!==null&&(gi(n,1,i),ln(n,i))}function ht(n,i,a){if(n.tag===3)qm(n,n,a);else for(;i!==null;){if(i.tag===3){qm(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ki===null||!ki.has(c))){n=vo(a,n),n=hm(i,n,1),i=xi(i,n,1),n=Jt(),i!==null&&(gi(i,1,n),ln(i,n));break}}i=i.return}}function xw(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Jt(),n.pingedLanes|=n.suspendedLanes&a,xt===n&&(Ot&a)===a&&(Tt===4||Tt===3&&(Ot&130023424)===Ot&&500>Je()-Hh?Rs(n,0):$h|=a),ln(n,i)}function Km(n,i){i===0&&((n.mode&1)===0?i=1:(i=Hs,Hs<<=1,(Hs&130023424)===0&&(Hs=4194304)));var a=Jt();n=Hr(n,i),n!==null&&(gi(n,i,a),ln(n,a))}function Pw(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Km(n,a)}function kw(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Km(n,a)}var Gm;Gm=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||rn.current)on=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return on=!1,yw(n,i,a);on=(n.flags&131072)!==0}else on=!1,it&&(i.flags&1048576)!==0&&Ap(i,Wl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;ou(n,i),n=i.pendingProps;var d=uo(i,Ut.current);go(i,a),d=Eh(null,i,c,n,d,a);var m=Th();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,sn(c)?(m=!0,Bl(i)):m=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ph(i),d.updater=iu,i.stateNode=d,d._reactInternals=i,xh(i,c,n,a),i=bh(null,i,c,!0,m,a)):(i.tag=0,it&&m&&ih(i),Xt(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(ou(n,i),n=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=bw(c),n=nr(c,n),d){case 0:i=Nh(null,i,c,n,a);break e;case 1:i=wm(null,i,c,n,a);break e;case 11:i=mm(null,i,c,n,a);break e;case 14:i=gm(null,i,c,nr(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:nr(c,d),Nh(n,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:nr(c,d),wm(n,i,c,d,a);case 3:e:{if(Em(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,d=m.element,Lp(n,i),Xl(i,c,null,a);var _=i.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){d=vo(Error(t(423)),i),i=Tm(n,i,c,a,d);break e}else if(c!==d){d=vo(Error(t(424)),i),i=Tm(n,i,c,a,d);break e}else for(En=Ii(i.stateNode.containerInfo.firstChild),wn=i,it=!0,tr=null,a=Vp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(fo(),c===d){i=qr(n,i,a);break e}Xt(n,i,c,a)}i=i.child}return i;case 5:return jp(i),n===null&&ah(i),c=i.type,d=i.pendingProps,m=n!==null?n.memoizedProps:null,_=d.children,Jc(c,d)?_=null:m!==null&&Jc(c,m)&&(i.flags|=32),_m(n,i),Xt(n,i,_,a),i.child;case 6:return n===null&&ah(i),null;case 13:return Im(n,i,a);case 4:return mh(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=po(i,null,c,a):Xt(n,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:nr(c,d),mm(n,i,c,d,a);case 7:return Xt(n,i,i.pendingProps,a),i.child;case 8:return Xt(n,i,i.pendingProps.children,a),i.child;case 12:return Xt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,m=i.memoizedProps,_=d.value,Ze(Gl,c._currentValue),c._currentValue=_,m!==null)if(er(m.value,_)){if(m.children===d.children&&!rn.current){i=qr(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var C=m.dependencies;if(C!==null){_=m.child;for(var P=C.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=Wr(-1,a&-a),P.tag=2;var z=m.updateQueue;if(z!==null){z=z.shared;var Y=z.pending;Y===null?P.next=P:(P.next=Y.next,Y.next=P),z.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),dh(m.return,a,i),C.lanes|=a;break}P=P.next}}else if(m.tag===10)_=m.type===i.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(t(341));_.lanes|=a,C=_.alternate,C!==null&&(C.lanes|=a),dh(_,a,i),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===i){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}Xt(n,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,go(i,a),d=Ln(d),c=c(d),i.flags|=1,Xt(n,i,c,a),i.child;case 14:return c=i.type,d=nr(c,i.pendingProps),d=nr(c.type,d),gm(n,i,c,d,a);case 15:return ym(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:nr(c,d),ou(n,i),i.tag=1,sn(c)?(n=!0,Bl(i)):n=!1,go(i,a),lm(i,c,d),xh(i,c,d,a),bh(null,i,c,!0,n,a);case 19:return Cm(n,i,a);case 22:return vm(n,i,a)}throw Error(t(156,i.tag))};function Qm(n,i){return Bs(n,i)}function Nw(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(n,i,a,c){return new Nw(n,i,a,c)}function Jh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function bw(n){if(typeof n=="function")return Jh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===O)return 11;if(n===dt)return 14}return 2}function Vi(n,i){var a=n.alternate;return a===null?(a=jn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function yu(n,i,a,c,d,m){var _=2;if(c=n,typeof n=="function")Jh(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case N:return xs(a.children,d,m,i);case I:_=8,d|=8;break;case x:return n=jn(12,a,i,d|2),n.elementType=x,n.lanes=m,n;case A:return n=jn(13,a,i,d),n.elementType=A,n.lanes=m,n;case Xe:return n=jn(19,a,i,d),n.elementType=Xe,n.lanes=m,n;case qe:return vu(a,d,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:_=10;break e;case D:_=9;break e;case O:_=11;break e;case dt:_=14;break e;case Pe:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=jn(_,a,i,d),i.elementType=n,i.type=c,i.lanes=m,i}function xs(n,i,a,c){return n=jn(7,n,c,i),n.lanes=a,n}function vu(n,i,a,c){return n=jn(22,n,c,i),n.elementType=qe,n.lanes=a,n.stateNode={isHidden:!1},n}function Zh(n,i,a){return n=jn(6,n,null,i),n.lanes=a,n}function ed(n,i,a){return i=jn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Dw(n,i,a,c,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mi(0),this.expirationTimes=mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function td(n,i,a,c,d,m,_,C,P){return n=new Dw(n,i,a,C,P),i===1?(i=1,m===!0&&(i|=8)):i=0,m=jn(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ph(m),n}function Vw(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ye,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function Ym(n){if(!n)return Ci;n=n._reactInternals;e:{if(mn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(sn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(sn(a))return Sp(n,a,i)}return i}function Xm(n,i,a,c,d,m,_,C,P){return n=td(a,c,!0,n,d,m,_,C,P),n.context=Ym(null),a=n.current,c=Jt(),d=bi(a),m=Wr(c,d),m.callback=i??null,xi(a,m,d),n.current.lanes=d,gi(n,d,c),ln(n,c),n}function _u(n,i,a,c){var d=i.current,m=Jt(),_=bi(d);return a=Ym(a),i.context===null?i.context=a:i.pendingContext=a,i=Wr(m,_),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=xi(d,i,_),n!==null&&(sr(n,d,_,m),Yl(n,d,_)),_}function wu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Jm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function nd(n,i){Jm(n,i),(n=n.alternate)&&Jm(n,i)}function Ow(){return null}var Zm=typeof reportError=="function"?reportError:function(n){console.error(n)};function rd(n){this._internalRoot=n}Eu.prototype.render=rd.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));_u(n,i,null,null)},Eu.prototype.unmount=rd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Cs(function(){_u(null,n,null,null)}),i[Ur]=null}};function Eu(n){this._internalRoot=n}Eu.prototype.unstable_scheduleHydration=function(n){if(n){var i=El();n={blockedOn:null,target:n,priority:i};for(var a=0;a<hr.length&&i!==0&&i<hr[a].priority;a++);hr.splice(a,0,n),a===0&&Sl(n)}};function id(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Tu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function eg(){}function Lw(n,i,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var z=wu(_);m.call(z)}}var _=Xm(i,c,n,0,null,!1,!1,"",eg);return n._reactRootContainer=_,n[Ur]=_.current,fa(n.nodeType===8?n.parentNode:n),Cs(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var C=c;c=function(){var z=wu(P);C.call(z)}}var P=td(n,0,!1,null,null,!1,!1,"",eg);return n._reactRootContainer=P,n[Ur]=P.current,fa(n.nodeType===8?n.parentNode:n),Cs(function(){_u(i,P,a,c)}),P}function Iu(n,i,a,c,d){var m=a._reactRootContainer;if(m){var _=m;if(typeof d=="function"){var C=d;d=function(){var P=wu(_);C.call(P)}}_u(i,_,n,d)}else _=Lw(a,i,n,d,c);return wu(_)}_l=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=pi(i.pendingLanes);a!==0&&(yi(i,a|1),ln(i,Je()),($e&6)===0&&(Eo=Je()+500,Ri()))}break;case 13:Cs(function(){var c=Hr(n,1);if(c!==null){var d=Jt();sr(c,n,1,d)}}),nd(n,1)}},Ws=function(n){if(n.tag===13){var i=Hr(n,134217728);if(i!==null){var a=Jt();sr(i,n,134217728,a)}nd(n,134217728)}},wl=function(n){if(n.tag===13){var i=bi(n),a=Hr(n,i);if(a!==null){var c=Jt();sr(a,n,i,c)}nd(n,i)}},El=function(){return Fe},Tl=function(n,i){var a=Fe;try{return Fe=n,i()}finally{Fe=a}},ur=function(n,i,a){switch(i){case"input":if(ar(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=Ul(c);if(!d)throw Error(t(90));xr(c),ar(c,d)}}}break;case"textarea":$n(n,a);break;case"select":i=a.value,i!=null&&fn(n,!!a.multiple,i,!1)}},Vr=Qh,os=Cs;var Mw={usingClientEntryPoint:!1,Events:[ga,ao,Ul,xn,di,Qh]},ka={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fw={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Xo(n),n===null?null:n.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||Ow,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{cs=Su.inject(Fw),gn=Su}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mw,un.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!id(i))throw Error(t(200));return Vw(n,i,null,a)},un.createRoot=function(n,i){if(!id(n))throw Error(t(299));var a=!1,c="",d=Zm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=td(n,1,!1,null,null,a,!1,c,d),n[Ur]=i.current,fa(n.nodeType===8?n.parentNode:n),new rd(i)},un.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Xo(i),n=n===null?null:n.stateNode,n},un.flushSync=function(n){return Cs(n)},un.hydrate=function(n,i,a){if(!Tu(i))throw Error(t(200));return Iu(null,n,i,!0,a)},un.hydrateRoot=function(n,i,a){if(!id(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",_=Zm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=Xm(i,null,n,1,a??null,d,!1,m,_),n[Ur]=i.current,fa(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new Eu(i)},un.render=function(n,i,a){if(!Tu(i))throw Error(t(200));return Iu(null,n,i,!1,a)},un.unmountComponentAtNode=function(n){if(!Tu(n))throw Error(t(40));return n._reactRootContainer?(Cs(function(){Iu(null,null,n,!1,function(){n._reactRootContainer=null,n[Ur]=null})}),!0):!1},un.unstable_batchedUpdates=Qh,un.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!Tu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Iu(n,i,a,!1,c)},un.version="18.3.1-next-f1338f8080-20240426",un}var lg;function Zy(){if(lg)return ad.exports;lg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ad.exports=Kw(),ad.exports}var ug;function Gw(){if(ug)return Cu;ug=1;var r=Zy();return Cu.createRoot=r.createRoot,Cu.hydrateRoot=r.hydrateRoot,Cu}var Qw=Gw();const Yw=Jy(Qw);Zy();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $a(){return $a=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},$a.apply(this,arguments)}var Bi;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Bi||(Bi={}));const cg="popstate";function Xw(r){r===void 0&&(r={});function e(s,o){let{pathname:l,search:h,hash:f}=s.location;return Id("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:$u(o)}return Zw(e,t,null,r)}function _t(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ev(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jw(){return Math.random().toString(36).substr(2,8)}function hg(r,e){return{usr:r.state,key:r.key,idx:e}}function Id(r,e,t,s){return t===void 0&&(t=null),$a({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Bo(e):e,{state:t,key:e&&e.key||s||Jw()})}function $u(r){let{pathname:e="/",search:t="",hash:s=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Bo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function Zw(r,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,f=Bi.Pop,g=null,v=w();v==null&&(v=0,h.replaceState($a({},h.state,{idx:v}),""));function w(){return(h.state||{idx:null}).idx}function T(){f=Bi.Pop;let j=w(),oe=j==null?null:j-v;v=j,g&&g({action:f,location:W.location,delta:oe})}function S(j,oe){f=Bi.Push;let ie=Id(W.location,j,oe);v=w()+1;let re=hg(ie,v),ne=W.createHref(ie);try{h.pushState(re,"",ne)}catch(xe){if(xe instanceof DOMException&&xe.name==="DataCloneError")throw xe;o.location.assign(ne)}l&&g&&g({action:f,location:W.location,delta:1})}function F(j,oe){f=Bi.Replace;let ie=Id(W.location,j,oe);v=w();let re=hg(ie,v),ne=W.createHref(ie);h.replaceState(re,"",ne),l&&g&&g({action:f,location:W.location,delta:0})}function $(j){let oe=o.location.origin!=="null"?o.location.origin:o.location.href,ie=typeof j=="string"?j:$u(j);return ie=ie.replace(/ $/,"%20"),_t(oe,"No window.location.(origin|href) available to create URL for href: "+ie),new URL(ie,oe)}let W={get action(){return f},get location(){return r(o,h)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(cg,T),g=j,()=>{o.removeEventListener(cg,T),g=null}},createHref(j){return e(o,j)},createURL:$,encodeLocation(j){let oe=$(j);return{pathname:oe.pathname,search:oe.search,hash:oe.hash}},push:S,replace:F,go(j){return h.go(j)}};return W}var dg;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(dg||(dg={}));function eE(r,e,t){return t===void 0&&(t="/"),tE(r,e,t)}function tE(r,e,t,s){let o=typeof e=="string"?Bo(e):e,l=ef(o.pathname||"/",t);if(l==null)return null;let h=tv(r);nE(h);let f=null;for(let g=0;f==null&&g<h.length;++g){let v=pE(l);f=hE(h[g],v)}return f}function tv(r,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(l,h,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};g.relativePath.startsWith("/")&&(_t(g.relativePath.startsWith(s),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(s.length));let v=Hi([s,g.relativePath]),w=t.concat(g);l.children&&l.children.length>0&&(_t(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),tv(l.children,e,w,v)),!(l.path==null&&!l.index)&&e.push({path:v,score:uE(v,l.index),routesMeta:w})};return r.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let g of nv(l.path))o(l,h,g)}),e}function nv(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=nv(s.join("/")),f=[];return f.push(...h.map(g=>g===""?l:[l,g].join("/"))),o&&f.push(...h),f.map(g=>r.startsWith("/")&&g===""?"/":g)}function nE(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:cE(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const rE=/^:[\w-]+$/,iE=3,sE=2,oE=1,aE=10,lE=-2,fg=r=>r==="*";function uE(r,e){let t=r.split("/"),s=t.length;return t.some(fg)&&(s+=lE),e&&(s+=sE),t.filter(o=>!fg(o)).reduce((o,l)=>o+(rE.test(l)?iE:l===""?oE:aE),s)}function cE(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function hE(r,e,t){let{routesMeta:s}=r,o={},l="/",h=[];for(let f=0;f<s.length;++f){let g=s[f],v=f===s.length-1,w=l==="/"?e:e.slice(l.length)||"/",T=dE({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},w),S=g.route;if(!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Hi([l,T.pathname]),pathnameBase:vE(Hi([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=Hi([l,T.pathnameBase]))}return h}function dE(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=fE(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((v,w,T)=>{let{paramName:S,isOptional:F}=w;if(S==="*"){let W=f[T]||"";h=l.slice(0,l.length-W.length).replace(/(.)\/+$/,"$1")}const $=f[T];return F&&!$?v[S]=void 0:v[S]=($||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:h,pattern:r}}function fE(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ev(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,g)=>(s.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function pE(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ev(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function ef(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function mE(r,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Bo(r):r;return{pathname:t?t.startsWith("/")?t:gE(t,e):e,search:_E(s),hash:wE(o)}}function gE(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function cd(r,e,t,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yE(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rv(r,e){let t=yE(r);return e?t.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function iv(r,e,t,s){s===void 0&&(s=!1);let o;typeof r=="string"?o=Bo(r):(o=$a({},r),_t(!o.pathname||!o.pathname.includes("?"),cd("?","pathname","search",o)),_t(!o.pathname||!o.pathname.includes("#"),cd("#","pathname","hash",o)),_t(!o.search||!o.search.includes("#"),cd("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}f=T>=0?e[T]:"/"}let g=mE(o,f),v=h&&h!=="/"&&h.endsWith("/"),w=(l||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(v||w)&&(g.pathname+="/"),g}const Hi=r=>r.join("/").replace(/\/\/+/g,"/"),vE=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),_E=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,wE=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function EE(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const sv=["post","put","patch","delete"];new Set(sv);const TE=["get",...sv];new Set(TE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Ha.apply(this,arguments)}const tf=H.createContext(null),IE=H.createContext(null),Ls=H.createContext(null),hc=H.createContext(null),Ms=H.createContext({outlet:null,matches:[],isDataRoute:!1}),ov=H.createContext(null);function SE(r,e){let{relative:t}=e===void 0?{}:e;Ja()||_t(!1);let{basename:s,navigator:o}=H.useContext(Ls),{hash:l,pathname:h,search:f}=lv(r,{relative:t}),g=h;return s!=="/"&&(g=h==="/"?s:Hi([s,h])),o.createHref({pathname:g,search:f,hash:l})}function Ja(){return H.useContext(hc)!=null}function $o(){return Ja()||_t(!1),H.useContext(hc).location}function av(r){H.useContext(Ls).static||H.useLayoutEffect(r)}function CE(){let{isDataRoute:r}=H.useContext(Ms);return r?FE():RE()}function RE(){Ja()||_t(!1);let r=H.useContext(tf),{basename:e,future:t,navigator:s}=H.useContext(Ls),{matches:o}=H.useContext(Ms),{pathname:l}=$o(),h=JSON.stringify(rv(o,t.v7_relativeSplatPath)),f=H.useRef(!1);return av(()=>{f.current=!0}),H.useCallback(function(v,w){if(w===void 0&&(w={}),!f.current)return;if(typeof v=="number"){s.go(v);return}let T=iv(v,JSON.parse(h),l,w.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Hi([e,T.pathname])),(w.replace?s.replace:s.push)(T,w.state,w)},[e,s,h,l,r])}function lv(r,e){let{relative:t}=e===void 0?{}:e,{future:s}=H.useContext(Ls),{matches:o}=H.useContext(Ms),{pathname:l}=$o(),h=JSON.stringify(rv(o,s.v7_relativeSplatPath));return H.useMemo(()=>iv(r,JSON.parse(h),l,t==="path"),[r,h,l,t])}function AE(r,e){return xE(r,e)}function xE(r,e,t,s){Ja()||_t(!1);let{navigator:o}=H.useContext(Ls),{matches:l}=H.useContext(Ms),h=l[l.length-1],f=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let v=$o(),w;if(e){var T;let j=typeof e=="string"?Bo(e):e;g==="/"||(T=j.pathname)!=null&&T.startsWith(g)||_t(!1),w=j}else w=v;let S=w.pathname||"/",F=S;if(g!=="/"){let j=g.replace(/^\//,"").split("/");F="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let $=eE(r,{pathname:F}),W=DE($&&$.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:Hi([g,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:Hi([g,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,t,s);return e&&W?H.createElement(hc.Provider,{value:{location:Ha({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Bi.Pop}},W):W}function PE(){let r=ME(),e=EE(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,null)}const kE=H.createElement(PE,null);class NE extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?H.createElement(Ms.Provider,{value:this.props.routeContext},H.createElement(ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bE(r){let{routeContext:e,match:t,children:s}=r,o=H.useContext(tf);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(Ms.Provider,{value:e},s)}function DE(r,e,t,s){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),r==null){var l;if(!t)return null;if(t.errors)r=t.matches;else if((l=s)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let h=r,f=(o=t)==null?void 0:o.errors;if(f!=null){let w=h.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);w>=0||_t(!1),h=h.slice(0,Math.min(h.length,w+1))}let g=!1,v=-1;if(t&&s&&s.v7_partialHydration)for(let w=0;w<h.length;w++){let T=h[w];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(v=w),T.route.id){let{loaderData:S,errors:F}=t,$=T.route.loader&&S[T.route.id]===void 0&&(!F||F[T.route.id]===void 0);if(T.route.lazy||$){g=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((w,T,S)=>{let F,$=!1,W=null,j=null;t&&(F=f&&T.route.id?f[T.route.id]:void 0,W=T.route.errorElement||kE,g&&(v<0&&S===0?(jE("route-fallback"),$=!0,j=null):v===S&&($=!0,j=T.route.hydrateFallbackElement||null)));let oe=e.concat(h.slice(0,S+1)),ie=()=>{let re;return F?re=W:$?re=j:T.route.Component?re=H.createElement(T.route.Component,null):T.route.element?re=T.route.element:re=w,H.createElement(bE,{match:T,routeContext:{outlet:w,matches:oe,isDataRoute:t!=null},children:re})};return t&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?H.createElement(NE,{location:t.location,revalidation:t.revalidation,component:W,error:F,children:ie(),routeContext:{outlet:null,matches:oe,isDataRoute:!0}}):ie()},null)}var uv=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(uv||{}),cv=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(cv||{});function VE(r){let e=H.useContext(tf);return e||_t(!1),e}function OE(r){let e=H.useContext(IE);return e||_t(!1),e}function LE(r){let e=H.useContext(Ms);return e||_t(!1),e}function hv(r){let e=LE(),t=e.matches[e.matches.length-1];return t.route.id||_t(!1),t.route.id}function ME(){var r;let e=H.useContext(ov),t=OE(),s=hv();return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}function FE(){let{router:r}=VE(uv.UseNavigateStable),e=hv(cv.UseNavigateStable),t=H.useRef(!1);return av(()=>{t.current=!0}),H.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,Ha({fromRouteId:e},l)))},[r,e])}const pg={};function jE(r,e,t){pg[r]||(pg[r]=!0)}function UE(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Sd(r){_t(!1)}function zE(r){let{basename:e="/",children:t=null,location:s,navigationType:o=Bi.Pop,navigator:l,static:h=!1,future:f}=r;Ja()&&_t(!1);let g=e.replace(/^\/*/,"/"),v=H.useMemo(()=>({basename:g,navigator:l,static:h,future:Ha({v7_relativeSplatPath:!1},f)}),[g,f,l,h]);typeof s=="string"&&(s=Bo(s));let{pathname:w="/",search:T="",hash:S="",state:F=null,key:$="default"}=s,W=H.useMemo(()=>{let j=ef(w,g);return j==null?null:{location:{pathname:j,search:T,hash:S,state:F,key:$},navigationType:o}},[g,w,T,S,F,$,o]);return W==null?null:H.createElement(Ls.Provider,{value:v},H.createElement(hc.Provider,{children:t,value:W}))}function BE(r){let{children:e,location:t}=r;return AE(Cd(e),t)}new Promise(()=>{});function Cd(r,e){e===void 0&&(e=[]);let t=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let l=[...e,o];if(s.type===H.Fragment){t.push.apply(t,Cd(s.props.children,l));return}s.type!==Sd&&_t(!1),!s.props.index||!s.props.children||_t(!1);let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Cd(s.props.children,l)),t.push(h)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rd(){return Rd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Rd.apply(this,arguments)}function $E(r,e){if(r==null)return{};var t={},s=Object.keys(r),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function HE(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function WE(r,e){return r.button===0&&(!e||e==="_self")&&!HE(r)}const qE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KE="6";try{window.__reactRouterVersion=KE}catch{}const GE="startTransition",mg=Hw[GE];function QE(r){let{basename:e,children:t,future:s,window:o}=r,l=H.useRef();l.current==null&&(l.current=Xw({window:o,v5Compat:!0}));let h=l.current,[f,g]=H.useState({action:h.action,location:h.location}),{v7_startTransition:v}=s||{},w=H.useCallback(T=>{v&&mg?mg(()=>g(T)):g(T)},[g,v]);return H.useLayoutEffect(()=>h.listen(w),[h,w]),H.useEffect(()=>UE(s),[s]),H.createElement(zE,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:h,future:s})}const YE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mi=H.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:l,replace:h,state:f,target:g,to:v,preventScrollReset:w,viewTransition:T}=e,S=$E(e,qE),{basename:F}=H.useContext(Ls),$,W=!1;if(typeof v=="string"&&XE.test(v)&&($=v,YE))try{let re=new URL(window.location.href),ne=v.startsWith("//")?new URL(re.protocol+v):new URL(v),xe=ef(ne.pathname,F);ne.origin===re.origin&&xe!=null?v=xe+ne.search+ne.hash:W=!0}catch{}let j=SE(v,{relative:o}),oe=JE(v,{replace:h,state:f,target:g,preventScrollReset:w,relative:o,viewTransition:T});function ie(re){s&&s(re),re.defaultPrevented||oe(re)}return H.createElement("a",Rd({},S,{href:$||j,onClick:W||l?s:ie,ref:t,target:g}))});var gg;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(gg||(gg={}));var yg;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(yg||(yg={}));function JE(r,e){let{target:t,replace:s,state:o,preventScrollReset:l,relative:h,viewTransition:f}=e===void 0?{}:e,g=CE(),v=$o(),w=lv(r,{relative:h});return H.useCallback(T=>{if(WE(T,t)){T.preventDefault();let S=s!==void 0?s:$u(v)===$u(w);g(r,{replace:S,state:o,preventScrollReset:l,relative:h,viewTransition:f})}},[v,g,w,s,o,t,r,l,h,f])}const ZE=()=>{};var vg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},eT=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},fv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,g=o+2<r.length,v=g?r[o+2]:0,w=l>>2,T=(l&3)<<4|f>>4;let S=(f&15)<<2|v>>6,F=v&63;g||(F=64,h||(S=64)),s.push(t[w],t[T],t[S],t[F])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(dv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):eT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||v==null||T==null)throw new tT;const S=l<<2|f>>4;if(s.push(S),v!==64){const F=f<<4&240|v>>2;if(s.push(F),T!==64){const $=v<<6&192|T;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class tT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nT=function(r){const e=dv(r);return fv.encodeByteArray(e,!0)},Hu=function(r){return nT(r).replace(/\./g,"")},pv=function(r){try{return fv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=()=>rT().__FIREBASE_DEFAULTS__,sT=()=>{if(typeof process>"u"||typeof vg>"u")return;const r=vg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},oT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&pv(r[1]);return e&&JSON.parse(e)},dc=()=>{try{return ZE()||iT()||sT()||oT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mv=r=>{var e,t;return(t=(e=dc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},aT=r=>{const e=mv(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},gv=()=>{var r;return(r=dc())===null||r===void 0?void 0:r.config},yv=r=>{var e;return(e=dc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(r){return r.endsWith(".cloudworkstations.dev")}async function vv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Hu(JSON.stringify(t)),Hu(JSON.stringify(h)),""].join(".")}const Ma={};function cT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ma))Ma[e]?r.emulator.push(e):r.prod.push(e);return r}function hT(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let _g=!1;function _v(r,e){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||Ma[r]===e||Ma[r]||_g)return;Ma[r]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=cT().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function f(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,F){S.setAttribute("width","24"),S.setAttribute("id",F),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function v(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{_g=!0,h()},S}function w(S,F){S.setAttribute("id",F),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=hT(s),F=t("text"),$=document.getElementById(F)||document.createElement("span"),W=t("learnmore"),j=document.getElementById(W)||document.createElement("a"),oe=t("preprendIcon"),ie=document.getElementById(oe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const re=S.element;f(re),w(j,W);const ne=v();g(ie,oe),re.append(ie,$,j,ne),document.body.appendChild(re)}l?($.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function fT(){var r;const e=(r=dc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function gT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yT(){const r=Kt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function vT(){return!fT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _T(){try{return typeof indexedDB=="object"}catch{return!1}}function wT(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="FirebaseError";class ii extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=ET,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Za.prototype.create)}}class Za{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?TT(l,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new ii(o,f,s)}}function TT(r,e){return r.replace(IT,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const IT=/\{\$([^}]+)}/g;function ST(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Yi(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(wg(l)&&wg(h)){if(!Yi(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function wg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function CT(r,e){const t=new RT(r,e);return t.subscribe.bind(t)}class RT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");AT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=hd),o.error===void 0&&(o.error=hd),o.complete===void 0&&(o.complete=hd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AT(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function hd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(r){return r&&r._delegate?r._delegate:r}class Ns{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new lT;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kT(e))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ps){return this.instances.has(e)}getOptions(e=Ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PT(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ps){return this.component?this.component.multipleInstances?e:Ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PT(r){return r===Ps?void 0:r}function kT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const bT={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},DT=Le.INFO,VT={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},OT=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=VT[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nf{constructor(e){this.name=e,this._logLevel=DT,this._logHandler=OT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const LT=(r,e)=>e.some(t=>r instanceof t);let Eg,Tg;function MT(){return Eg||(Eg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FT(){return Tg||(Tg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wv=new WeakMap,Ad=new WeakMap,Ev=new WeakMap,dd=new WeakMap,rf=new WeakMap;function jT(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(Wi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&wv.set(t,r)}).catch(()=>{}),rf.set(e,r),e}function UT(r){if(Ad.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Ad.set(r,e)}let xd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ad.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Ev.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function zT(r){xd=r(xd)}function BT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(fd(this),e,...t);return Ev.set(s,e.sort?e.sort():[e]),Wi(s)}:FT().includes(r)?function(...e){return r.apply(fd(this),e),Wi(wv.get(this))}:function(...e){return Wi(r.apply(fd(this),e))}}function $T(r){return typeof r=="function"?BT(r):(r instanceof IDBTransaction&&UT(r),LT(r,MT())?new Proxy(r,xd):r)}function Wi(r){if(r instanceof IDBRequest)return jT(r);if(dd.has(r))return dd.get(r);const e=$T(r);return e!==r&&(dd.set(r,e),rf.set(e,r)),e}const fd=r=>rf.get(r);function HT(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=Wi(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Wi(h.result),g.oldVersion,g.newVersion,Wi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const WT=["get","getKey","getAll","getAllKeys","count"],qT=["put","add","delete","clear"],pd=new Map;function Ig(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pd.get(e))return pd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=qT.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||WT.includes(t)))return;const l=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&g.done]))[0]};return pd.set(e,l),l}zT(r=>({...r,get:(e,t,s)=>Ig(e,t)||r.get(e,t,s),has:(e,t)=>!!Ig(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GT(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function GT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pd="@firebase/app",Sg="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new nf("@firebase/app"),QT="@firebase/app-compat",YT="@firebase/analytics-compat",XT="@firebase/analytics",JT="@firebase/app-check-compat",ZT="@firebase/app-check",eI="@firebase/auth",tI="@firebase/auth-compat",nI="@firebase/database",rI="@firebase/data-connect",iI="@firebase/database-compat",sI="@firebase/functions",oI="@firebase/functions-compat",aI="@firebase/installations",lI="@firebase/installations-compat",uI="@firebase/messaging",cI="@firebase/messaging-compat",hI="@firebase/performance",dI="@firebase/performance-compat",fI="@firebase/remote-config",pI="@firebase/remote-config-compat",mI="@firebase/storage",gI="@firebase/storage-compat",yI="@firebase/firestore",vI="@firebase/ai",_I="@firebase/firestore-compat",wI="firebase",EI="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="[DEFAULT]",TI={[Pd]:"fire-core",[QT]:"fire-core-compat",[XT]:"fire-analytics",[YT]:"fire-analytics-compat",[ZT]:"fire-app-check",[JT]:"fire-app-check-compat",[eI]:"fire-auth",[tI]:"fire-auth-compat",[nI]:"fire-rtdb",[rI]:"fire-data-connect",[iI]:"fire-rtdb-compat",[sI]:"fire-fn",[oI]:"fire-fn-compat",[aI]:"fire-iid",[lI]:"fire-iid-compat",[uI]:"fire-fcm",[cI]:"fire-fcm-compat",[hI]:"fire-perf",[dI]:"fire-perf-compat",[fI]:"fire-rc",[pI]:"fire-rc-compat",[mI]:"fire-gcs",[gI]:"fire-gcs-compat",[yI]:"fire-fst",[_I]:"fire-fst-compat",[vI]:"fire-vertex","fire-js":"fire-js",[wI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new Map,II=new Map,Nd=new Map;function Cg(r,e){try{r.container.addComponent(e)}catch(t){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Do(r){const e=r.name;if(Nd.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;Nd.set(e,r);for(const t of Wu.values())Cg(t,r);for(const t of II.values())Cg(t,r);return!0}function sf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new Za("app","Firebase",SI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=EI;function Tv(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:kd,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw qi.create("bad-app-name",{appName:String(o)});if(t||(t=gv()),!t)throw qi.create("no-options");const l=Wu.get(o);if(l){if(Yi(t,l.options)&&Yi(s,l.config))return l;throw qi.create("duplicate-app",{appName:o})}const h=new NT(o);for(const g of Nd.values())h.addComponent(g);const f=new CI(t,s,h);return Wu.set(o,f),f}function Iv(r=kd){const e=Wu.get(r);if(!e&&r===kd&&gv())return Tv();if(!e)throw qi.create("no-app",{appName:r});return e}function Ki(r,e,t){var s;let o=(s=TI[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(f.join(" "));return}Do(new Ns(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="firebase-heartbeat-database",AI=1,Wa="firebase-heartbeat-store";let md=null;function Sv(){return md||(md=HT(RI,AI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wa)}catch(t){console.warn(t)}}}}).catch(r=>{throw qi.create("idb-open",{originalErrorMessage:r.message})})),md}async function xI(r){try{const t=(await Sv()).transaction(Wa),s=await t.objectStore(Wa).get(Cv(r));return await t.done,s}catch(e){if(e instanceof ii)Jr.warn(e.message);else{const t=qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jr.warn(t.message)}}}async function Rg(r,e){try{const s=(await Sv()).transaction(Wa,"readwrite");await s.objectStore(Wa).put(e,Cv(r)),await s.done}catch(t){if(t instanceof ii)Jr.warn(t.message);else{const s=qi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Jr.warn(s.message)}}}function Cv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=1024,kI=30;class NI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ag();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>kI){const h=VI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Jr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ag(),{heartbeatsToSend:s,unsentEntries:o}=bI(this._heartbeatsCache.heartbeats),l=Hu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Jr.warn(t),""}}}function Ag(){return new Date().toISOString().substring(0,10)}function bI(r,e=PI){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),xg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),xg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class DI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _T()?wT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Rg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Rg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function xg(r){return Hu(JSON.stringify({version:2,heartbeats:r})).length}function VI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(r){Do(new Ns("platform-logger",e=>new KT(e),"PRIVATE")),Do(new Ns("heartbeat",e=>new NI(e),"PRIVATE")),Ki(Pd,Sg,r),Ki(Pd,Sg,"esm2017"),Ki("fire-js","")}OI("");var LI="firebase",MI="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(LI,MI,"app");function of(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function Rv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FI=Rv,Av=new Za("auth","Firebase",Rv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new nf("@firebase/auth");function jI(r,...e){qu.logLevel<=Le.WARN&&qu.warn(`Auth (${Wo}): ${r}`,...e)}function Du(r,...e){qu.logLevel<=Le.ERROR&&qu.error(`Auth (${Wo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(r,...e){throw af(r,...e)}function Er(r,...e){return af(r,...e)}function xv(r,e,t){const s=Object.assign(Object.assign({},FI()),{[e]:t});return new Za("auth","Firebase",s).create(e,{appName:r.name})}function Yr(r){return xv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function af(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return Av.create(r,...e)}function Se(r,e,...t){if(!r)throw af(e,...t)}function Gr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Du(e),new Error(e)}function ei(r,e){r||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function UI(){return Pg()==="http:"||Pg()==="https:"}function Pg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UI()||mT()||"connection"in navigator)?navigator.onLine:!0}function BI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t){this.shortDelay=e,this.longDelay=t,ei(t>e,"Short delay should be less than long delay!"),this.isMobile=dT()||gT()}get(){return zI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(r,e){ei(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WI=new tl(3e4,6e4);function nl(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function qo(r,e,t,s,o={}){return kv(r,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const f=el(Object.assign({key:r.config.apiKey},h)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:e,headers:g},l);return pT()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&Ho(r.emulatorConfig.host)&&(v.credentials="include"),Pv.fetch()(await Nv(r,r.config.apiHost,t,f),v)})}async function kv(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},$I),e);try{const o=new qI(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Ru(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[g,v]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ru(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Ru(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Ru(r,"user-disabled",h);const w=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw xv(r,w,v);Zr(r,w)}}catch(o){if(o instanceof ii)throw o;Zr(r,"network-request-failed",{message:String(o)})}}async function uf(r,e,t,s,o={}){const l=await qo(r,e,t,s,o);return"mfaPendingCredential"in l&&Zr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function Nv(r,e,t,s){const o=`${e}${t}?${s}`,l=r,h=l.config.emulator?lf(r.config,o):`${r.config.apiScheme}://${o}`;return HI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}class qI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Er(this.auth,"network-request-failed")),WI.get())})}}function Ru(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Er(r,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(r,e){return qo(r,"POST","/v1/accounts:delete",e)}async function Ku(r,e){return qo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GI(r,e=!1){const t=Gt(r),s=await t.getIdToken(e),o=cf(s);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Fa(gd(o.auth_time)),issuedAtTime:Fa(gd(o.iat)),expirationTime:Fa(gd(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function gd(r){return Number(r)*1e3}function cf(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Du("JWT malformed, contained fewer than 3 sections"),null;try{const o=pv(t);return o?JSON.parse(o):(Du("Failed to decode base64 JWT payload"),null)}catch(o){return Du("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function kg(r){const e=cf(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ii&&QI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function QI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fa(this.lastLoginAt),this.creationTime=Fa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(r){var e;const t=r.auth,s=await r.getIdToken(),o=await qa(r,Ku(t,{idToken:s}));Se(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?bv(l.providerUserInfo):[],f=JI(r.providerData,h),g=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),w=g?v:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Dd(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(r,T)}async function XI(r){const e=Gt(r);await Gu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function bv(r){return r.map(e=>{var{providerId:t}=e,s=of(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(r,e){const t=await kv(r,{},async()=>{const s=el({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=await Nv(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:f,body:s};return r.emulatorConfig&&Ho(r.emulatorConfig.host)&&(g.credentials="include"),Pv.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function e1(r,e){return qo(r,"POST","/v2/accounts:revokeToken",nl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=kg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await ZI(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new Po;return s&&(Se(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Se(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class or{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=of(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Dd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await qa(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return GI(this,e)}reload(){return XI(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Gu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Yr(this.auth));const e=await this.getIdToken();return await qa(this,KI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,f,g,v,w;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,F=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,$=(h=t.photoURL)!==null&&h!==void 0?h:void 0,W=(f=t.tenantId)!==null&&f!==void 0?f:void 0,j=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,oe=(v=t.createdAt)!==null&&v!==void 0?v:void 0,ie=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:re,emailVerified:ne,isAnonymous:xe,providerData:ye,stsTokenManager:N}=t;Se(re&&N,e,"internal-error");const I=Po.fromJSON(this.name,N);Se(typeof re=="string",e,"internal-error"),Li(T,e.name),Li(S,e.name),Se(typeof ne=="boolean",e,"internal-error"),Se(typeof xe=="boolean",e,"internal-error"),Li(F,e.name),Li($,e.name),Li(W,e.name),Li(j,e.name),Li(oe,e.name),Li(ie,e.name);const x=new or({uid:re,auth:e,email:S,emailVerified:ne,displayName:T,isAnonymous:xe,photoURL:$,phoneNumber:F,tenantId:W,stsTokenManager:I,createdAt:oe,lastLoginAt:ie});return ye&&Array.isArray(ye)&&(x.providerData=ye.map(k=>Object.assign({},k))),j&&(x._redirectEventId=j),x}static async _fromIdTokenResponse(e,t,s=!1){const o=new Po;o.updateFromServerResponse(t);const l=new or({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Gu(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?bv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new Po;f.updateFromIdToken(s);const g=new or({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Dd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=new Map;function Qr(r){ei(r instanceof Function,"Expected a class definition");let e=Ng.get(r);return e?(ei(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Ng.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Dv.type="NONE";const bg=Dv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(r,e,t){return`firebase:${r}:${e}:${t}`}class ko{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Vu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Vu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ku(this.auth,{idToken:e}).catch(()=>{});return t?or._fromGetAccountInfoResponse(this.auth,t,e):null}return or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ko(Qr(bg),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||Qr(bg);const h=Vu(s,e.config.apiKey,e.name);let f=null;for(const v of t)try{const w=await v._get(h);if(w){let T;if(typeof w=="string"){const S=await Ku(e,{idToken:w}).catch(()=>{});if(!S)break;T=await or._fromGetAccountInfoResponse(e,S,w)}else T=or._fromJSON(e,w);v!==l&&(f=T),l=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new ko(l,e,s):(l=g[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(h)}catch{}})),new ko(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jv(e))return"Blackberry";if(Uv(e))return"Webos";if(Ov(e))return"Safari";if((e.includes("chrome/")||Lv(e))&&!e.includes("edge/"))return"Chrome";if(Fv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Vv(r=Kt()){return/firefox\//i.test(r)}function Ov(r=Kt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lv(r=Kt()){return/crios\//i.test(r)}function Mv(r=Kt()){return/iemobile/i.test(r)}function Fv(r=Kt()){return/android/i.test(r)}function jv(r=Kt()){return/blackberry/i.test(r)}function Uv(r=Kt()){return/webos/i.test(r)}function hf(r=Kt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function t1(r=Kt()){var e;return hf(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function n1(){return yT()&&document.documentMode===10}function zv(r=Kt()){return hf(r)||Fv(r)||Uv(r)||jv(r)||/windows phone/i.test(r)||Mv(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(r,e=[]){let t;switch(r){case"Browser":t=Dg(Kt());break;case"Worker":t=`${Dg(Kt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,f)=>{try{const g=e(l);h(g)}catch(g){f(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(r,e={}){return qo(r,"GET","/v2/passwordPolicy",nl(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=6;class o1{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:s1,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,f;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(f=g.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vg(this),this.idTokenSubscription=new Vg(this),this.beforeStateQueue=new r1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Av,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qr(t)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ku(this,{idToken:e}),s=await or._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Un(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===f)&&(g!=null&&g.user)&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gu(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Yr(this));const t=e?Gt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i1(this),t=new o1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Za("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await e1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Qr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[Qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&jI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function rl(r){return Gt(r)}class Vg{constructor(e){this.auth=e,this.observer=null,this.addObserver=CT(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l1(r){df=r}function u1(r){return df.loadJS(r)}function c1(){return df.gapiScript}function h1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(r,e){const t=sf(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Yi(l,e??{}))return o;Zr(o,"already-initialized")}return t.initialize({options:e})}function f1(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Qr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function p1(r,e,t){const s=rl(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=$v(e),{host:h,port:f}=m1(e),g=f===null?"":`:${f}`,v={url:`${l}//${h}${g}/`},w=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Yi(v,s.config.emulator)&&Yi(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Ho(h)?(vv(`${l}//${h}${g}`),_v("Auth",!0)):g1()}function $v(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function m1(r){const e=$v(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Og(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:Og(h)}}}function Og(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function g1(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,t){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(r,e){return uf(r,"POST","/v1/accounts:signInWithIdp",nl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="http://localhost";class bs extends Hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=of(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new bs(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return No(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,No(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,No(e,t)}buildRequest(){const e={requestUri:y1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=el(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends Wv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends il{constructor(){super("facebook.com")}static credential(e){return bs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends il{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ji.credential(t,s)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends il{constructor(){super("github.com")}static credential(e){return bs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends il{constructor(){super("twitter.com")}static credential(e,t){return bs._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return zi.credential(t,s)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(r,e){return uf(r,"POST","/v1/accounts:signUp",nl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await or._fromIdTokenResponse(e,s,o),h=Lg(s);return new ti({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Lg(s);return new ti({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Lg(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(r){var e;if(Un(r.app))return Promise.reject(Yr(r));const t=rl(r);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new ti({user:t.currentUser,providerId:null,operationType:"signIn"});const s=await v1(t,{returnSecureToken:!0}),o=await ti._fromIdTokenResponse(t,"signIn",s,!0);return await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends ii{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Qu.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Qu(e,t,s,o)}}function qv(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Qu._fromErrorAndOperation(r,l,e,s):l})}async function w1(r,e,t=!1){const s=await qa(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ti._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(r,e,t=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(Yr(s));const o="reauthenticate";try{const l=await qa(r,qv(s,o,e,r),t);Se(l.idToken,s,"internal-error");const h=cf(l.idToken);Se(h,s,"internal-error");const{sub:f}=h;return Se(r.uid===f,s,"user-mismatch"),ti._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Zr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(r,e,t=!1){if(Un(r.app))return Promise.reject(Yr(r));const s="signIn",o=await qv(r,s,e),l=await ti._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(r,e){return uf(r,"POST","/v1/accounts:signInWithCustomToken",nl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(r,e){if(Un(r.app))return Promise.reject(Yr(r));const t=rl(r),s=await I1(t,{token:e,returnSecureToken:!0}),o=await ti._fromIdTokenResponse(t,"signIn",s);return await t._updateCurrentUser(o.user),o}function C1(r,e,t,s){return Gt(r).onIdTokenChanged(e,t,s)}function R1(r,e,t){return Gt(r).beforeAuthStateChanged(e,t)}function A1(r,e,t,s){return Gt(r).onAuthStateChanged(e,t,s)}const Yu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yu,"1"),this.storage.removeItem(Yu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=1e3,P1=10;class Gv extends Kv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);n1()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,P1):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},x1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gv.type="LOCAL";const k1=Gv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends Kv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Qv.type="SESSION";const Yv=Qv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new fc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(h).map(async v=>v(t.origin,l)),g=await N1(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,g)=>{const v=ff("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===v)switch(S.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(S.data.response);break;default:clearTimeout(w),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return window}function D1(r){Tr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function V1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O1(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function L1(){return Xv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="firebaseLocalStorageDb",M1=1,Xu="firebaseLocalStorage",Zv="fbase_key";class sl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pc(r,e){return r.transaction([Xu],e?"readwrite":"readonly").objectStore(Xu)}function F1(){const r=indexedDB.deleteDatabase(Jv);return new sl(r).toPromise()}function Vd(){const r=indexedDB.open(Jv,M1);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Xu,{keyPath:Zv})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Xu)?e(s):(s.close(),await F1(),e(await Vd()))})})}async function Mg(r,e,t){const s=pc(r,!0).put({[Zv]:e,value:t});return new sl(s).toPromise()}async function j1(r,e){const t=pc(r,!1).get(e),s=await new sl(t).toPromise();return s===void 0?null:s.value}function Fg(r,e){const t=pc(r,!0).delete(e);return new sl(t).toPromise()}const U1=800,z1=3;class e_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>z1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fc._getInstance(L1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await V1(),!this.activeServiceWorker)return;this.sender=new b1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vd();return await Mg(e,Yu,"1"),await Fg(e,Yu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Mg(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>j1(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Fg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=pc(o,!1).getAll();return new sl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e_.type="LOCAL";const B1=e_;new tl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(r,e){return e?Qr(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends Hv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,t){return No(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function H1(r){return T1(r.auth,new pf(r),r.bypassAuthState)}function W1(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),E1(t,new pf(r),r.bypassAuthState)}async function q1(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),w1(t,new pf(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H1;case"linkViaPopup":case"linkViaRedirect":return q1;case"reauthViaPopup":case"reauthViaRedirect":return W1;default:Zr(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new tl(2e3,1e4);class xo extends t_{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=ff();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K1.get())};e()}}xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="pendingRedirect",Ou=new Map;class Q1 extends t_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ou.get(this.auth._key());if(!e){try{const s=await Y1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ou.set(this.auth._key(),e)}return this.bypassAuthState||Ou.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y1(r,e){const t=Z1(e),s=J1(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function X1(r,e){Ou.set(r._key(),e)}function J1(r){return Qr(r._redirectPersistence)}function Z1(r){return Vu(G1,r.config.apiKey,r.name)}async function eS(r,e,t=!1){if(Un(r.app))return Promise.reject(Yr(r));const s=rl(r),o=$1(s,e),h=await new Q1(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=10*60*1e3;class nS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rS(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!n_(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Er(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tS&&this.cachedEventUids.clear(),this.cachedEventUids.has(jg(e))}saveEventToCache(e){this.cachedEventUids.add(jg(e)),this.lastProcessedEventTime=Date.now()}}function jg(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function n_({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rS(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iS(r,e={}){return qo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oS=/^https?/;async function aS(r){if(r.config.emulator)return;const{authorizedDomains:e}=await iS(r);for(const t of e)try{if(lS(t))return}catch{}Zr(r,"unauthorized-domain")}function lS(r){const e=bd(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!oS.test(t))return!1;if(sS.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=new tl(3e4,6e4);function Ug(){const r=Tr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function cS(r){return new Promise((e,t)=>{var s,o,l;function h(){Ug(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ug(),t(Er(r,"network-request-failed"))},timeout:uS.get()})}if(!((o=(s=Tr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Tr().gapi)===null||l===void 0)&&l.load)h();else{const f=h1("iframefcb");return Tr()[f]=()=>{gapi.load?h():t(Er(r,"network-request-failed"))},u1(`${c1()}?onload=${f}`).catch(g=>t(g))}}).catch(e=>{throw Lu=null,e})}let Lu=null;function hS(r){return Lu=Lu||cS(r),Lu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new tl(5e3,15e3),fS="__/auth/iframe",pS="emulator/auth/iframe",mS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yS(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?lf(e,pS):`https://${r.config.authDomain}/${fS}`,s={apiKey:e.apiKey,appName:r.name,v:Wo},o=gS.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${el(s).slice(1)}`}async function vS(r){const e=await hS(r),t=Tr().gapi;return Se(t,r,"internal-error"),e.open({where:document.body,url:yS(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mS,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=Er(r,"network-request-failed"),f=Tr().setTimeout(()=>{l(h)},dS.get());function g(){Tr().clearTimeout(f),o(s)}s.ping(g).then(g,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wS=500,ES=600,TS="_blank",IS="http://localhost";class zg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SS(r,e,t,s=wS,o=ES){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const g=Object.assign(Object.assign({},_S),{width:s.toString(),height:o.toString(),top:l,left:h}),v=Kt().toLowerCase();t&&(f=Lv(v)?TS:t),Vv(v)&&(e=e||IS,g.scrollbars="yes");const w=Object.entries(g).reduce((S,[F,$])=>`${S}${F}=${$},`,"");if(t1(v)&&f!=="_self")return CS(e||"",f),new zg(null);const T=window.open(e||"",f,w);Se(T,r,"popup-blocked");try{T.focus()}catch{}return new zg(T)}function CS(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="__/auth/handler",AS="emulator/auth/handler",xS=encodeURIComponent("fac");async function Bg(r,e,t,s,o,l){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Wo,eventId:o};if(e instanceof Wv){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",ST(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))h[w]=T}if(e instanceof il){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(h.scopes=w.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const g=await r._getAppCheckToken(),v=g?`#${xS}=${encodeURIComponent(g)}`:"";return`${PS(r)}?${el(f).slice(1)}${v}`}function PS({config:r}){return r.emulator?lf(r,AS):`https://${r.authDomain}/${RS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="webStorageSupport";class kS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yv,this._completeRedirectFn=eS,this._overrideRedirectResult=X1}async _openPopup(e,t,s,o){var l;ei((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await Bg(e,t,s,bd(),o);return SS(e,h,ff())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await Bg(e,t,s,bd(),o);return D1(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(ei(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await vS(e),s=new nS(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yd,{type:yd},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[yd];h!==void 0&&t(!!h),Zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=aS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zv()||Ov()||hf()}}const NS=kS;var $g="@firebase/auth",Hg="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VS(r){Do(new Ns("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bv(r)},v=new a1(s,o,l,g);return f1(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Do(new Ns("auth-internal",e=>{const t=rl(e.getProvider("auth").getImmediate());return(s=>new bS(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki($g,Hg,DS(r)),Ki($g,Hg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=5*60,LS=yv("authIdTokenMaxAge")||OS;let Wg=null;const MS=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>LS)return;const o=t==null?void 0:t.token;Wg!==o&&(Wg=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FS(r=Iv()){const e=sf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=d1(r,{popupRedirectResolver:NS,persistence:[B1,k1,Yv]}),s=yv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=MS(l.toString());R1(t,h,()=>h(t.currentUser)),C1(t,f=>h(f))}}const o=mv("auth");return o&&p1(t,`http://${o}`),t}function jS(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}l1({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=Er("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",jS().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VS("Browser");var qg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,r_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function x(){}x.prototype=I.prototype,N.D=I.prototype,N.prototype=new x,N.prototype.constructor=N,N.C=function(k,D,O){for(var A=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)A[Xe-2]=arguments[Xe];return I.prototype[D].apply(k,A)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,I,x){x||(x=0);var k=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)k[D]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(D=0;16>D;++D)k[D]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=N.g[0],x=N.g[1],D=N.g[2];var O=N.g[3],A=I+(O^x&(D^O))+k[0]+3614090360&4294967295;I=x+(A<<7&4294967295|A>>>25),A=O+(D^I&(x^D))+k[1]+3905402710&4294967295,O=I+(A<<12&4294967295|A>>>20),A=D+(x^O&(I^x))+k[2]+606105819&4294967295,D=O+(A<<17&4294967295|A>>>15),A=x+(I^D&(O^I))+k[3]+3250441966&4294967295,x=D+(A<<22&4294967295|A>>>10),A=I+(O^x&(D^O))+k[4]+4118548399&4294967295,I=x+(A<<7&4294967295|A>>>25),A=O+(D^I&(x^D))+k[5]+1200080426&4294967295,O=I+(A<<12&4294967295|A>>>20),A=D+(x^O&(I^x))+k[6]+2821735955&4294967295,D=O+(A<<17&4294967295|A>>>15),A=x+(I^D&(O^I))+k[7]+4249261313&4294967295,x=D+(A<<22&4294967295|A>>>10),A=I+(O^x&(D^O))+k[8]+1770035416&4294967295,I=x+(A<<7&4294967295|A>>>25),A=O+(D^I&(x^D))+k[9]+2336552879&4294967295,O=I+(A<<12&4294967295|A>>>20),A=D+(x^O&(I^x))+k[10]+4294925233&4294967295,D=O+(A<<17&4294967295|A>>>15),A=x+(I^D&(O^I))+k[11]+2304563134&4294967295,x=D+(A<<22&4294967295|A>>>10),A=I+(O^x&(D^O))+k[12]+1804603682&4294967295,I=x+(A<<7&4294967295|A>>>25),A=O+(D^I&(x^D))+k[13]+4254626195&4294967295,O=I+(A<<12&4294967295|A>>>20),A=D+(x^O&(I^x))+k[14]+2792965006&4294967295,D=O+(A<<17&4294967295|A>>>15),A=x+(I^D&(O^I))+k[15]+1236535329&4294967295,x=D+(A<<22&4294967295|A>>>10),A=I+(D^O&(x^D))+k[1]+4129170786&4294967295,I=x+(A<<5&4294967295|A>>>27),A=O+(x^D&(I^x))+k[6]+3225465664&4294967295,O=I+(A<<9&4294967295|A>>>23),A=D+(I^x&(O^I))+k[11]+643717713&4294967295,D=O+(A<<14&4294967295|A>>>18),A=x+(O^I&(D^O))+k[0]+3921069994&4294967295,x=D+(A<<20&4294967295|A>>>12),A=I+(D^O&(x^D))+k[5]+3593408605&4294967295,I=x+(A<<5&4294967295|A>>>27),A=O+(x^D&(I^x))+k[10]+38016083&4294967295,O=I+(A<<9&4294967295|A>>>23),A=D+(I^x&(O^I))+k[15]+3634488961&4294967295,D=O+(A<<14&4294967295|A>>>18),A=x+(O^I&(D^O))+k[4]+3889429448&4294967295,x=D+(A<<20&4294967295|A>>>12),A=I+(D^O&(x^D))+k[9]+568446438&4294967295,I=x+(A<<5&4294967295|A>>>27),A=O+(x^D&(I^x))+k[14]+3275163606&4294967295,O=I+(A<<9&4294967295|A>>>23),A=D+(I^x&(O^I))+k[3]+4107603335&4294967295,D=O+(A<<14&4294967295|A>>>18),A=x+(O^I&(D^O))+k[8]+1163531501&4294967295,x=D+(A<<20&4294967295|A>>>12),A=I+(D^O&(x^D))+k[13]+2850285829&4294967295,I=x+(A<<5&4294967295|A>>>27),A=O+(x^D&(I^x))+k[2]+4243563512&4294967295,O=I+(A<<9&4294967295|A>>>23),A=D+(I^x&(O^I))+k[7]+1735328473&4294967295,D=O+(A<<14&4294967295|A>>>18),A=x+(O^I&(D^O))+k[12]+2368359562&4294967295,x=D+(A<<20&4294967295|A>>>12),A=I+(x^D^O)+k[5]+4294588738&4294967295,I=x+(A<<4&4294967295|A>>>28),A=O+(I^x^D)+k[8]+2272392833&4294967295,O=I+(A<<11&4294967295|A>>>21),A=D+(O^I^x)+k[11]+1839030562&4294967295,D=O+(A<<16&4294967295|A>>>16),A=x+(D^O^I)+k[14]+4259657740&4294967295,x=D+(A<<23&4294967295|A>>>9),A=I+(x^D^O)+k[1]+2763975236&4294967295,I=x+(A<<4&4294967295|A>>>28),A=O+(I^x^D)+k[4]+1272893353&4294967295,O=I+(A<<11&4294967295|A>>>21),A=D+(O^I^x)+k[7]+4139469664&4294967295,D=O+(A<<16&4294967295|A>>>16),A=x+(D^O^I)+k[10]+3200236656&4294967295,x=D+(A<<23&4294967295|A>>>9),A=I+(x^D^O)+k[13]+681279174&4294967295,I=x+(A<<4&4294967295|A>>>28),A=O+(I^x^D)+k[0]+3936430074&4294967295,O=I+(A<<11&4294967295|A>>>21),A=D+(O^I^x)+k[3]+3572445317&4294967295,D=O+(A<<16&4294967295|A>>>16),A=x+(D^O^I)+k[6]+76029189&4294967295,x=D+(A<<23&4294967295|A>>>9),A=I+(x^D^O)+k[9]+3654602809&4294967295,I=x+(A<<4&4294967295|A>>>28),A=O+(I^x^D)+k[12]+3873151461&4294967295,O=I+(A<<11&4294967295|A>>>21),A=D+(O^I^x)+k[15]+530742520&4294967295,D=O+(A<<16&4294967295|A>>>16),A=x+(D^O^I)+k[2]+3299628645&4294967295,x=D+(A<<23&4294967295|A>>>9),A=I+(D^(x|~O))+k[0]+4096336452&4294967295,I=x+(A<<6&4294967295|A>>>26),A=O+(x^(I|~D))+k[7]+1126891415&4294967295,O=I+(A<<10&4294967295|A>>>22),A=D+(I^(O|~x))+k[14]+2878612391&4294967295,D=O+(A<<15&4294967295|A>>>17),A=x+(O^(D|~I))+k[5]+4237533241&4294967295,x=D+(A<<21&4294967295|A>>>11),A=I+(D^(x|~O))+k[12]+1700485571&4294967295,I=x+(A<<6&4294967295|A>>>26),A=O+(x^(I|~D))+k[3]+2399980690&4294967295,O=I+(A<<10&4294967295|A>>>22),A=D+(I^(O|~x))+k[10]+4293915773&4294967295,D=O+(A<<15&4294967295|A>>>17),A=x+(O^(D|~I))+k[1]+2240044497&4294967295,x=D+(A<<21&4294967295|A>>>11),A=I+(D^(x|~O))+k[8]+1873313359&4294967295,I=x+(A<<6&4294967295|A>>>26),A=O+(x^(I|~D))+k[15]+4264355552&4294967295,O=I+(A<<10&4294967295|A>>>22),A=D+(I^(O|~x))+k[6]+2734768916&4294967295,D=O+(A<<15&4294967295|A>>>17),A=x+(O^(D|~I))+k[13]+1309151649&4294967295,x=D+(A<<21&4294967295|A>>>11),A=I+(D^(x|~O))+k[4]+4149444226&4294967295,I=x+(A<<6&4294967295|A>>>26),A=O+(x^(I|~D))+k[11]+3174756917&4294967295,O=I+(A<<10&4294967295|A>>>22),A=D+(I^(O|~x))+k[2]+718787259&4294967295,D=O+(A<<15&4294967295|A>>>17),A=x+(O^(D|~I))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+O&4294967295}s.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var x=I-this.blockSize,k=this.B,D=this.h,O=0;O<I;){if(D==0)for(;O<=x;)o(this,N,O),O+=this.blockSize;if(typeof N=="string"){for(;O<I;)if(k[D++]=N.charCodeAt(O++),D==this.blockSize){o(this,k),D=0;break}}else for(;O<I;)if(k[D++]=N[O++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=I},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var x=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=x&255,x/=256;for(this.u(N),N=Array(16),I=x=0;4>I;++I)for(var k=0;32>k;k+=8)N[x++]=this.g[I]>>>k&255;return N};function l(N,I){var x=f;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=I(N)}function h(N,I){this.h=I;for(var x=[],k=!0,D=N.length-1;0<=D;D--){var O=N[D]|0;k&&O==I||(x[D]=O,k=!1)}this.g=x}var f={};function g(N){return-128<=N&&128>N?l(N,function(I){return new h([I|0],0>I?-1:0)}):new h([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return T;if(0>N)return j(v(-N));for(var I=[],x=1,k=0;N>=x;k++)I[k]=N/x|0,x*=4294967296;return new h(I,0)}function w(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return j(w(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=v(Math.pow(I,8)),k=T,D=0;D<N.length;D+=8){var O=Math.min(8,N.length-D),A=parseInt(N.substring(D,D+O),I);8>O?(O=v(Math.pow(I,O)),k=k.j(O).add(v(A))):(k=k.j(x),k=k.add(v(A)))}return k}var T=g(0),S=g(1),F=g(16777216);r=h.prototype,r.m=function(){if(W(this))return-j(this).m();for(var N=0,I=1,x=0;x<this.g.length;x++){var k=this.i(x);N+=(0<=k?k:4294967296+k)*I,I*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(W(this))return"-"+j(this).toString(N);for(var I=v(Math.pow(N,6)),x=this,k="";;){var D=ne(x,I).g;x=oe(x,D.j(I));var O=((0<x.g.length?x.g[0]:x.h)>>>0).toString(N);if(x=D,$(x))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function W(N){return N.h==-1}r.l=function(N){return N=oe(this,N),W(N)?-1:$(N)?0:1};function j(N){for(var I=N.g.length,x=[],k=0;k<I;k++)x[k]=~N.g[k];return new h(x,~N.h).add(S)}r.abs=function(){return W(this)?j(this):this},r.add=function(N){for(var I=Math.max(this.g.length,N.g.length),x=[],k=0,D=0;D<=I;D++){var O=k+(this.i(D)&65535)+(N.i(D)&65535),A=(O>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);k=A>>>16,O&=65535,A&=65535,x[D]=A<<16|O}return new h(x,x[x.length-1]&-2147483648?-1:0)};function oe(N,I){return N.add(j(I))}r.j=function(N){if($(this)||$(N))return T;if(W(this))return W(N)?j(this).j(j(N)):j(j(this).j(N));if(W(N))return j(this.j(j(N)));if(0>this.l(F)&&0>N.l(F))return v(this.m()*N.m());for(var I=this.g.length+N.g.length,x=[],k=0;k<2*I;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<N.g.length;D++){var O=this.i(k)>>>16,A=this.i(k)&65535,Xe=N.i(D)>>>16,dt=N.i(D)&65535;x[2*k+2*D]+=A*dt,ie(x,2*k+2*D),x[2*k+2*D+1]+=O*dt,ie(x,2*k+2*D+1),x[2*k+2*D+1]+=A*Xe,ie(x,2*k+2*D+1),x[2*k+2*D+2]+=O*Xe,ie(x,2*k+2*D+2)}for(k=0;k<I;k++)x[k]=x[2*k+1]<<16|x[2*k];for(k=I;k<2*I;k++)x[k]=0;return new h(x,0)};function ie(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function re(N,I){this.g=N,this.h=I}function ne(N,I){if($(I))throw Error("division by zero");if($(N))return new re(T,T);if(W(N))return I=ne(j(N),I),new re(j(I.g),j(I.h));if(W(I))return I=ne(N,j(I)),new re(j(I.g),I.h);if(30<N.g.length){if(W(N)||W(I))throw Error("slowDivide_ only works with positive integers.");for(var x=S,k=I;0>=k.l(N);)x=xe(x),k=xe(k);var D=ye(x,1),O=ye(k,1);for(k=ye(k,2),x=ye(x,2);!$(k);){var A=O.add(k);0>=A.l(N)&&(D=D.add(x),O=A),k=ye(k,1),x=ye(x,1)}return I=oe(N,D.j(I)),new re(D,I)}for(D=T;0<=N.l(I);){for(x=Math.max(1,Math.floor(N.m()/I.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=v(x),A=O.j(I);W(A)||0<A.l(N);)x-=k,O=v(x),A=O.j(I);$(O)&&(O=S),D=D.add(O),N=oe(N,A)}return new re(D,N)}r.A=function(N){return ne(this,N).h},r.and=function(N){for(var I=Math.max(this.g.length,N.g.length),x=[],k=0;k<I;k++)x[k]=this.i(k)&N.i(k);return new h(x,this.h&N.h)},r.or=function(N){for(var I=Math.max(this.g.length,N.g.length),x=[],k=0;k<I;k++)x[k]=this.i(k)|N.i(k);return new h(x,this.h|N.h)},r.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),x=[],k=0;k<I;k++)x[k]=this.i(k)^N.i(k);return new h(x,this.h^N.h)};function xe(N){for(var I=N.g.length+1,x=[],k=0;k<I;k++)x[k]=N.i(k)<<1|N.i(k-1)>>>31;return new h(x,N.h)}function ye(N,I){var x=I>>5;I%=32;for(var k=N.g.length-x,D=[],O=0;O<k;O++)D[O]=0<I?N.i(O+x)>>>I|N.i(O+x+1)<<32-I:N.i(O+x);return new h(D,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,r_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,Gi=h}).apply(typeof qg<"u"?qg:typeof self<"u"?self:typeof window<"u"?window:{});var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i_,Da,s_,Mu,Od,o_,a_,l_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Au=="object"&&Au];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(u,p){if(p)e:{var y=s;u=u.split(".");for(var E=0;E<u.length-1;E++){var L=u[E];if(!(L in y))break e;y=y[L]}u=u[u.length-1],E=y[u],p=p(E),p!=E&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var y=0,E=!1,L={next:function(){if(!E&&y<u.length){var B=y++;return{value:p(B,u[B]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function v(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function w(u,p,y){return u.call.apply(u.bind,arguments)}function T(u,p,y){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function S(u,p,y){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,S.apply(null,arguments)}function F(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function $(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(E,L,B){for(var ee=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ee[Ge-2]=arguments[Ge];return p.prototype[L].apply(E,ee)}}function W(u){const p=u.length;if(0<p){const y=Array(p);for(let E=0;E<p;E++)y[E]=u[E];return y}return[]}function j(u,p){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const L=u.length||0,B=E.length||0;u.length=L+B;for(let ee=0;ee<B;ee++)u[L+ee]=E[ee]}else u.push(E)}}class oe{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ie(u){return/^[\s\xa0]*$/.test(u)}function re(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ne(u){return ne[" "](u),u}ne[" "]=function(){};var xe=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function ye(u,p,y){for(const E in u)p.call(y,u[E],E,u)}function N(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function I(u){const p={};for(const y in u)p[y]=u[y];return p}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,p){let y,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(y in E)u[y]=E[y];for(let B=0;B<x.length;B++)y=x[B],Object.prototype.hasOwnProperty.call(E,y)&&(u[y]=E[y])}}function D(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function O(u){f.setTimeout(()=>{throw u},0)}function A(){var u=me;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Xe{constructor(){this.h=this.g=null}add(p,y){const E=dt.get();E.set(p,y),this.h?this.h.next=E:this.g=E,this.h=E}}var dt=new oe(()=>new Pe,u=>u.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let qe,te=!1,me=new Xe,se=()=>{const u=f.Promise.resolve(void 0);qe=()=>{u.then(V)}};var V=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(y){O(y)}var p=dt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}te=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};f.addEventListener("test",y,p),f.removeEventListener("test",y,p)}catch{}return u}();function ke(u,p){if(de.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(xe){e:{try{ne(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ke.aa.h.call(this)}}$(ke,de);var be={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function We(u,p,y,E,L){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!E,this.ha=L,this.key=++Oe,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function dn(u){this.src=u,this.g={},this.h=0}dn.prototype.add=function(u,p,y,E,L){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var ee=Sn(u,p,E,L);return-1<ee?(p=u[ee],y||(p.fa=!1)):(p=new We(p,this.src,B,!!E,L),p.fa=y,u.push(p)),p};function xr(u,p){var y=p.type;if(y in u.g){var E=u.g[y],L=Array.prototype.indexOf.call(E,p,void 0),B;(B=0<=L)&&Array.prototype.splice.call(E,L,1),B&&(mt(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Sn(u,p,y,E){for(var L=0;L<u.length;++L){var B=u[L];if(!B.da&&B.listener==p&&B.capture==!!y&&B.ha==E)return L}return-1}var Pr="closure_lm_"+(1e6*Math.random()|0),Cn={};function si(u,p,y,E,L){if(Array.isArray(p)){for(var B=0;B<p.length;B++)si(u,p[B],y,E,L);return null}return y=oi(y),u&&u[je]?u.K(p,y,v(E)?!!E.capture:!1,L):ar(u,p,y,!1,E,L)}function ar(u,p,y,E,L,B){if(!p)throw Error("Invalid event type");var ee=v(L)?!!L.capture:!!L,Ge=Nr(u);if(Ge||(u[Pr]=Ge=new dn(u)),y=Ge.add(p,y,E,ee,B),y.proxy)return y;if(E=ss(),y.proxy=E,E.src=u,E.listener=y,u.addEventListener)Re||(L=ee),L===void 0&&(L=!1),u.addEventListener(p.toString(),E,L);else if(u.attachEvent)u.attachEvent(fn(p.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ss(){function u(y){return p.call(u.src,u.listener,y)}const p=Bn;return u}function kr(u,p,y,E,L){if(Array.isArray(p))for(var B=0;B<p.length;B++)kr(u,p[B],y,E,L);else E=v(E)?!!E.capture:!!E,y=oi(y),u&&u[je]?(u=u.i,p=String(p).toString(),p in u.g&&(B=u.g[p],y=Sn(B,y,E,L),-1<y&&(mt(B[y]),Array.prototype.splice.call(B,y,1),B.length==0&&(delete u.g[p],u.h--)))):u&&(u=Nr(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Sn(p,y,E,L)),(y=-1<u?p[u]:null)&&Rn(y))}function Rn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[je])xr(p.i,u);else{var y=u.type,E=u.proxy;p.removeEventListener?p.removeEventListener(y,E,u.capture):p.detachEvent?p.detachEvent(fn(y),E):p.addListener&&p.removeListener&&p.removeListener(E),(y=Nr(p))?(xr(y,u),y.h==0&&(y.src=null,p[Pr]=null)):mt(u)}}}function fn(u){return u in Cn?Cn[u]:Cn[u]="on"+u}function Bn(u,p){if(u.da)u=!0;else{p=new ke(p,this);var y=u.listener,E=u.ha||u.src;u.fa&&Rn(u),u=y.call(E,p)}return u}function Nr(u){return u=u[Pr],u instanceof dn?u:null}var $n="__closure_events_fn_"+(1e9*Math.random()>>>0);function oi(u){return typeof u=="function"?u:(u[$n]||(u[$n]=function(p){return u.handleEvent(p)}),u[$n])}function ct(){K.call(this),this.i=new dn(this),this.M=this,this.F=null}$(ct,K),ct.prototype[je]=!0,ct.prototype.removeEventListener=function(u,p,y,E){kr(this,u,p,y,E)};function nt(u,p){var y,E=u.F;if(E)for(y=[];E;E=E.F)y.push(E);if(u=u.M,E=p.type||p,typeof p=="string")p=new de(p,u);else if(p instanceof de)p.target=p.target||u;else{var L=p;p=new de(E,u),k(p,L)}if(L=!0,y)for(var B=y.length-1;0<=B;B--){var ee=p.g=y[B];L=jt(ee,E,!0,p)&&L}if(ee=p.g=u,L=jt(ee,E,!0,p)&&L,L=jt(ee,E,!1,p)&&L,y)for(B=0;B<y.length;B++)ee=p.g=y[B],L=jt(ee,E,!1,p)&&L}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],E=0;E<y.length;E++)mt(y[E]);delete u.g[p],u.h--}}this.F=null},ct.prototype.K=function(u,p,y,E){return this.i.add(String(u),p,!1,y,E)},ct.prototype.L=function(u,p,y,E){return this.i.add(String(u),p,!0,y,E)};function jt(u,p,y,E){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,B=0;B<p.length;++B){var ee=p[B];if(ee&&!ee.da&&ee.capture==y){var Ge=ee.listener,wt=ee.ha||ee.src;ee.fa&&xr(u.i,ee),L=Ge.call(wt,E)!==!1&&L}}return L&&!E.defaultPrevented}function ai(u,p,y){if(typeof u=="function")y&&(u=S(u,y));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(u,p||0)}function pn(u){u.g=ai(()=>{u.g=null,u.i&&(u.i=!1,pn(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class lr extends K{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:pn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hn(u){K.call(this),this.h=u,this.g={}}$(Hn,K);var Wn=[];function br(u){ye(u.g,function(p,y){this.g.hasOwnProperty(y)&&Rn(p)},u),u.g={}}Hn.prototype.N=function(){Hn.aa.N.call(this),br(this)},Hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var li=f.JSON.stringify,ui=f.JSON.parse,qn=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Dr(){}Dr.prototype.h=null;function ci(u){return u.h||(u.h=u.i())}function ur(){}var en={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function An(){de.call(this,"d")}$(An,de);function hi(){de.call(this,"c")}$(hi,de);var xn={},di=null;function Vr(){return di=di||new ct}xn.La="serverreachability";function os(u){de.call(this,xn.La,u)}$(os,de);function Kn(u){const p=Vr();nt(p,new os(p))}xn.STAT_EVENT="statevent";function as(u,p){de.call(this,xn.STAT_EVENT,u),this.stat=p}$(as,de);function q(u){const p=Vr();nt(p,new as(p,u))}xn.Ma="timingevent";function Ee(u,p){de.call(this,xn.Ma,u),this.size=p}$(Ee,de);function ce(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Ue(){this.g=!0}Ue.prototype.xa=function(){this.g=!1};function ot(u,p,y,E,L,B){u.info(function(){if(u.g)if(B)for(var ee="",Ge=B.split("&"),wt=0;wt<Ge.length;wt++){var ze=Ge[wt].split("=");if(1<ze.length){var Rt=ze[0];ze=ze[1];var gt=Rt.split("_");ee=2<=gt.length&&gt[1]=="type"?ee+(Rt+"="+ze+"&"):ee+(Rt+"=redacted&")}}else ee=null;else ee=B;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+p+`
`+y+`
`+ee})}function Pn(u,p,y,E,L,B,ee){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+p+`
`+y+`
`+B+" "+ee})}function Ne(u,p,y,E){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Nt(u,y)+(E?" "+E:"")})}function Qe(u,p){u.info(function(){return"TIMEOUT: "+p})}Ue.prototype.info=function(){};function Nt(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var E=y[u];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var B=L[0];if(B!="noop"&&B!="stop"&&B!="close")for(var ee=1;ee<L.length;ee++)L[ee]=""}}}}return li(y)}catch{return p}}var kn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Us={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mn;function ls(){}$(ls,Dr),ls.prototype.g=function(){return new XMLHttpRequest},ls.prototype.i=function(){return{}},mn=new ls;function Gn(u,p,y,E){this.j=u,this.i=p,this.l=y,this.R=E||1,this.U=new Hn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dl}function dl(){this.i=null,this.g="",this.h=!1}var Xo={},zs={};function Bs(u,p,y){u.L=1,u.v=yi(yn(p)),u.m=y,u.P=!0,Jo(u,null)}function Jo(u,p){u.F=Date.now(),Je(u),u.A=yn(u.v);var y=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),_i(y.i,"t",E),u.C=0,y=u.j.J,u.h=new dl,u.g=kl(u.j,y?p:null,!u.m),0<u.O&&(u.M=new lr(S(u.Y,u,u.g),u.O)),p=u.U,y=u.g,E=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Wn[0]=L.toString()),L=Wn);for(var B=0;B<L.length;B++){var ee=si(y,L[B],E||p.handleEvent,!1,p.h||p);if(!ee)break;p.g[ee.key]=ee}p=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Kn(),ot(u.i,u.u,u.A,u.l,u.R,u.m)}Gn.prototype.ca=function(u){u=u.target;const p=this.M;p&&nn(u)==3?p.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)e:{const gt=nn(this.g);var p=this.g.Ba();const Dn=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||ia(this.g)))){this.J||gt!=4||p==7||(p==8||0>=Dn?Kn(3):Kn(2)),us(this);var y=this.g.Z();this.X=y;t:if(fl(this)){var E=ia(this.g);u="";var L=E.length,B=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),fi(this);var ee="";break t}this.h.i=new f.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(E[p],{stream:!(B&&p==L-1)});E.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=y==200,Pn(this.i,this.u,this.A,this.l,this.R,gt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,wt=this.g;if((Ge=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(Ge)){var ze=Ge;break t}}ze=null}if(y=ze)Ne(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zo(this,y);else{this.o=!1,this.s=3,q(12),Nn(this),fi(this);break e}}if(this.P){y=!0;let _n;for(;!this.J&&this.C<ee.length;)if(_n=Vc(this,ee),_n==zs){gt==4&&(this.s=4,q(14),y=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Xo){this.s=4,q(15),Ne(this.i,this.l,ee,"[Invalid Chunk]"),y=!1;break}else Ne(this.i,this.l,_n,null),Zo(this,_n);if(fl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||ee.length!=0||this.h.h||(this.s=1,q(16),y=!1),this.o=this.o&&y,!y)Ne(this.i,this.l,ee,"[Invalid Chunked Response]"),Nn(this),fi(this);else if(0<ee.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),oa(Rt),Rt.M=!0,q(11))}}else Ne(this.i,this.l,ee,null),Zo(this,ee);gt==4&&Nn(this),this.o&&!this.J&&(gt==4?Zs(this.j,this):(this.o=!1,Je(this)))}else Gs(this.g),y==400&&0<ee.indexOf("Unknown SID")?(this.s=3,q(12)):(this.s=0,q(13)),Nn(this),fi(this)}}}catch{}finally{}};function fl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Vc(u,p){var y=u.C,E=p.indexOf(`
`,y);return E==-1?zs:(y=Number(p.substring(y,E)),isNaN(y)?Xo:(E+=1,E+y>p.length?zs:(p=p.slice(E,E+y),u.C=E+y,p)))}Gn.prototype.cancel=function(){this.J=!0,Nn(this)};function Je(u){u.S=Date.now()+u.I,pl(u,u.I)}function pl(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ce(S(u.ba,u),p)}function us(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Gn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Qe(this.i,this.A),this.L!=2&&(Kn(),q(17)),Nn(this),this.s=2,fi(this)):pl(this,this.S-u)};function fi(u){u.j.G==0||u.J||Zs(u.j,u)}function Nn(u){us(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,br(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Zo(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||Qt(y.h,u))){if(!u.K&&Qt(y.h,u)&&y.G==3){try{var E=y.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Js(y),Zn(y);else break e;Xs(y),q(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=ce(S(y.Za,y),6e3));if(1>=gl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else jr(y,11)}else if((u.K||y.g==u)&&Js(y),!ie(p))for(L=y.Da.g.parse(p),p=0;p<L.length;p++){let ze=L[p];if(y.T=ze[0],ze=ze[1],y.G==2)if(ze[0]=="c"){y.K=ze[1],y.ia=ze[2];const Rt=ze[3];Rt!=null&&(y.la=Rt,y.j.info("VER="+y.la));const gt=ze[4];gt!=null&&(y.Aa=gt,y.j.info("SVER="+y.Aa));const Dn=ze[5];Dn!=null&&typeof Dn=="number"&&0<Dn&&(E=1.5*Dn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const _n=u.g;if(_n){const gs=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var B=E.h;B.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(ea(B,B.h),B.h=null))}if(E.D){const to=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(E.ya=to,Ye(E.I,E.D,to))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var ee=u;if(E.qa=Pl(E,E.J?E.ia:null,E.W),ee.K){yl(E.h,ee);var Ge=ee,wt=E.L;wt&&(Ge.I=wt),Ge.B&&(us(Ge),Je(Ge)),E.g=ee}else ms(E);0<y.i.length&&fr(y)}else ze[0]!="stop"&&ze[0]!="close"||jr(y,7);else y.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?jr(y,7):Dt(y):ze[0]!="noop"&&y.l&&y.l.ta(ze),y.v=0)}}Kn(4)}catch{}}var ml=class{constructor(u,p){this.g=u,this.map=p}};function cs(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gl(u){return u.h?1:u.g?u.g.size:0}function Qt(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function ea(u,p){u.g?u.g.add(p):u.h=p}function yl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}cs.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return W(u.i)}function $s(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],y=u.length,E=0;E<y;E++)p.push(u[E]);return p}p=[],y=0;for(E in u)p[y++]=u[E];return p}function Hs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const E in u)p[y++]=E;return p}}}function pi(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=Hs(u),E=$s(u),L=E.length,B=0;B<L;B++)p.call(void 0,E[B],y&&y[B],u)}var hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oc(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var E=u[y].indexOf("="),L=null;if(0<=E){var B=u[y].substring(0,E);L=u[y].substring(E+1)}else B=u[y];p(B,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Or(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Or){this.h=u.h,ds(this,u.j),this.o=u.o,this.g=u.g,mi(this,u.s),this.l=u.l;var p=u.i,y=new cr;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),gi(this,y),this.m=u.m}else u&&(p=String(u).match(hs))?(this.h=!1,ds(this,p[1]||"",!0),this.o=Fe(p[2]||""),this.g=Fe(p[3]||"",!0),mi(this,p[4]),this.l=Fe(p[5]||"",!0),gi(this,p[6]||"",!0),this.m=Fe(p[7]||"")):(this.h=!1,this.i=new cr(null,this.h))}Or.prototype.toString=function(){var u=[],p=this.j;p&&u.push(vi(p,Ws,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(vi(p,Ws,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(vi(y,y.charAt(0)=="/"?El:wl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",vi(y,ta)),u.join("")};function yn(u){return new Or(u)}function ds(u,p,y){u.j=y?Fe(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function mi(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function gi(u,p,y){p instanceof cr?(u.i=p,hr(u.i,u.h)):(y||(p=vi(p,Tl)),u.i=new cr(p,u.h))}function Ye(u,p,y){u.i.set(p,y)}function yi(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Fe(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vi(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,_l),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _l(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ws=/[#\/\?@]/g,wl=/[#\?:]/g,El=/[#\?]/g,Tl=/[#\?@]/g,ta=/#/g;function cr(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function bt(u){u.g||(u.g=new Map,u.h=0,u.i&&Oc(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=cr.prototype,r.add=function(u,p){bt(this),this.i=null,u=bn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function Qn(u,p){bt(u),p=bn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Yn(u,p){return bt(u),p=bn(u,p),u.g.has(p)}r.forEach=function(u,p){bt(this),this.g.forEach(function(y,E){y.forEach(function(L){u.call(p,L,E,this)},this)},this)},r.na=function(){bt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let E=0;E<p.length;E++){const L=u[E];for(let B=0;B<L.length;B++)y.push(p[E])}return y},r.V=function(u){bt(this);let p=[];if(typeof u=="string")Yn(this,u)&&(p=p.concat(this.g.get(bn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},r.set=function(u,p){return bt(this),this.i=null,u=bn(this,u),Yn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function _i(u,p,y){Qn(u,p),0<y.length&&(u.i=null,u.g.set(bn(u,p),W(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var E=p[y];const B=encodeURIComponent(String(E)),ee=this.V(E);for(E=0;E<ee.length;E++){var L=B;ee[E]!==""&&(L+="="+encodeURIComponent(String(ee[E]))),u.push(L)}}return this.i=u.join("&")};function bn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function hr(u,p){p&&!u.j&&(bt(u),u.i=null,u.g.forEach(function(y,E){var L=E.toLowerCase();E!=L&&(Qn(this,E),_i(this,L,y))},u)),u.j=p}function Lc(u,p){const y=new Ue;if(f.Image){const E=new Image;E.onload=F(tn,y,"TestLoadImage: loaded",!0,p,E),E.onerror=F(tn,y,"TestLoadImage: error",!1,p,E),E.onabort=F(tn,y,"TestLoadImage: abort",!1,p,E),E.ontimeout=F(tn,y,"TestLoadImage: timeout",!1,p,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else p(!1)}function Il(u,p){const y=new Ue,E=new AbortController,L=setTimeout(()=>{E.abort(),tn(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:E.signal}).then(B=>{clearTimeout(L),B.ok?tn(y,"TestPingServer: ok",!0,p):tn(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),tn(y,"TestPingServer: error",!1,p)})}function tn(u,p,y,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(y)}catch{}}function Mc(){this.g=new qn}function Sl(u,p,y){const E=y||"";try{pi(u,function(L,B){let ee=L;v(L)&&(ee=li(L)),p.push(E+B+"="+encodeURIComponent(ee))})}catch(L){throw p.push(E+"type="+encodeURIComponent("_badmap")),L}}function Lr(u){this.l=u.Ub||null,this.j=u.eb||!1}$(Lr,Dr),Lr.prototype.g=function(){return new fs(this.l,this.j)},Lr.prototype.i=function(u){return function(){return u}}({});function fs(u,p){ct.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(fs,ct),r=fs.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Xn(this):Jn(this),this.readyState==3&&Cl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Xn(this))},r.Qa=function(u){this.g&&(this.response=u,Xn(this))},r.ga=function(){this.g&&Xn(this)};function Xn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Jn(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mr(u){let p="";return ye(u,function(y,E){p+=E,p+=":",p+=y,p+=`\r
`}),p}function wi(u,p,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=Mr(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ye(u,p,y))}function rt(u){ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(rt,ct);var Fc=/^https?$/i,na=["POST","PUT"];r=rt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mn.g(),this.v=this.o?ci(this.o):ci(mn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(B){ps(this,B);return}if(u=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)y.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())y.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),L=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(na,p,void 0))||E||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of y)this.g.setRequestHeader(B,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){ps(this,B)}};function ps(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,qs(u),vn(u)}function qs(u){u.A||(u.A=!0,nt(u,"complete"),nt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,nt(this,"complete"),nt(this,"abort"),vn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vn(this,!0)),rt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ra(this):this.bb())},r.bb=function(){ra(this)};function ra(u){if(u.h&&typeof h<"u"&&(!u.v[1]||nn(u)!=4||u.Z()!=2)){if(u.u&&nn(u)==4)ai(u.Ea,0,u);else if(nt(u,"readystatechange"),nn(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var E;if(E=ee===0){var L=String(u.D).match(hs)[1]||null;!L&&f.self&&f.self.location&&(L=f.self.location.protocol.slice(0,-1)),E=!Fc.test(L?L.toLowerCase():"")}y=E}if(y)nt(u,"complete"),nt(u,"success");else{u.m=6;try{var B=2<nn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",qs(u)}}finally{vn(u)}}}}function vn(u,p){if(u.g){Ks(u);const y=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||nt(u,"ready");try{y.onreadystatechange=E}catch{}}}function Ks(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function nn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),ui(p)}};function ia(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gs(u){const p={};u=(u.g&&2<=nn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(ie(u[E]))continue;var y=D(u[E]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=p[L]||[];p[L]=B,B.push(y)}N(p,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function dr(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function sa(u){this.Aa=0,this.i=[],this.j=new Ue,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=dr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=dr("baseRetryDelayMs",5e3,u),this.cb=dr("retryDelaySeedMs",1e4,u),this.Wa=dr("forwardChannelMaxRetries",2,u),this.wa=dr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new cs(u&&u.concurrentRequestLimit),this.Da=new Mc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=sa.prototype,r.la=8,r.G=1,r.connect=function(u,p,y,E){q(0),this.W=u,this.H=p||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Pl(this,null,this.W),fr(this)};function Dt(u){if(Qs(u),u.G==3){var p=u.U++,y=yn(u.I);if(Ye(y,"SID",u.K),Ye(y,"RID",p),Ye(y,"TYPE","terminate"),Fr(u,y),p=new Gn(u,u.j,p),p.L=2,p.v=yi(yn(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=p.v,y=!0),y||(p.g=kl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Je(p)}xl(u)}function Zn(u){u.g&&(oa(u),u.g.cancel(),u.g=null)}function Qs(u){Zn(u),u.u&&(f.clearTimeout(u.u),u.u=null),Js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function fr(u){if(!gn(u.h)&&!u.s){u.s=!0;var p=u.Ga;qe||se(),te||(qe(),te=!0),me.add(p,u),u.B=0}}function jc(u,p){return gl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ce(S(u.Ga,u,p),Al(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Gn(this,this.j,u);let B=this.o;if(this.S&&(B?(B=I(B),k(B,this.S)):B=this.S),this.m!==null||this.O||(L.H=B,B=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Ei(this,L,p),y=yn(this.I),Ye(y,"RID",u),Ye(y,"CVER",22),this.D&&Ye(y,"X-HTTP-Session-Id",this.D),Fr(this,y),B&&(this.O?p="headers="+encodeURIComponent(String(Mr(B)))+"&"+p:this.m&&wi(y,this.m,B)),ea(this.h,L),this.Ua&&Ye(y,"TYPE","init"),this.P?(Ye(y,"$req",p),Ye(y,"SID","null"),L.T=!0,Bs(L,y,null)):Bs(L,y,p),this.G=2}}else this.G==3&&(u?Ys(this,u):this.i.length==0||gn(this.h)||Ys(this))};function Ys(u,p){var y;p?y=p.l:y=u.U++;const E=yn(u.I);Ye(E,"SID",u.K),Ye(E,"RID",y),Ye(E,"AID",u.T),Fr(u,E),u.m&&u.o&&wi(E,u.m,u.o),y=new Gn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Ei(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ea(u.h,y),Bs(y,E,p)}function Fr(u,p){u.H&&ye(u.H,function(y,E){Ye(p,E,y)}),u.l&&pi({},function(y,E){Ye(p,E,y)})}function Ei(u,p,y){y=Math.min(u.i.length,y);var E=u.l?S(u.l.Na,u.l,u):null;e:{var L=u.i;let B=-1;for(;;){const ee=["count="+y];B==-1?0<y?(B=L[0].g,ee.push("ofs="+B)):B=0:ee.push("ofs="+B);let Ge=!0;for(let wt=0;wt<y;wt++){let ze=L[wt].g;const Rt=L[wt].map;if(ze-=B,0>ze)B=Math.max(0,L[wt].g-100),Ge=!1;else try{Sl(Rt,ee,"req"+ze+"_")}catch{E&&E(Rt)}}if(Ge){E=ee.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,E}function ms(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;qe||se(),te||(qe(),te=!0),me.add(p,u),u.v=0}}function Xs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ce(S(u.Fa,u),Al(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Rl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ce(S(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,q(10),Zn(this),Rl(this))};function oa(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Rl(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=yn(u.qa);Ye(p,"RID","rpc"),Ye(p,"SID",u.K),Ye(p,"AID",u.T),Ye(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(p,"TO",u.ja),Ye(p,"TYPE","xmlhttp"),Fr(u,p),u.m&&u.o&&wi(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=yi(yn(p)),y.m=null,y.P=!0,Jo(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Zn(this),Xs(this),q(19))};function Js(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Zs(u,p){var y=null;if(u.g==p){Js(u),oa(u),u.g=null;var E=2}else if(Qt(u.h,p))y=p.D,yl(u.h,p),E=1;else return;if(u.G!=0){if(p.o)if(E==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;E=Vr(),nt(E,new Ee(E,y)),fr(u)}else ms(u);else if(L=p.s,L==3||L==0&&0<p.X||!(E==1&&jc(u,p)||E==2&&Xs(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),L){case 1:jr(u,5);break;case 4:jr(u,10);break;case 3:jr(u,6);break;default:jr(u,2)}}}function Al(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function jr(u,p){if(u.j.info("Error code "+p),p==2){var y=S(u.fb,u),E=u.Xa;const L=!E;E=new Or(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ds(E,"https"),yi(E),L?Lc(E.toString(),y):Il(E.toString(),y)}else q(2);u.G=0,u.l&&u.l.sa(p),xl(u),Qs(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),q(2)):(this.j.info("Failed to ping google.com"),q(1))};function xl(u){if(u.G=0,u.ka=[],u.l){const p=vl(u.h);(p.length!=0||u.i.length!=0)&&(j(u.ka,p),j(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function Pl(u,p,y){var E=y instanceof Or?yn(y):new Or(y);if(E.g!="")p&&(E.g=p+"."+E.g),mi(E,E.s);else{var L=f.location;E=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var B=new Or(null);E&&ds(B,E),p&&(B.g=p),L&&mi(B,L),y&&(B.l=y),E=B}return y=u.D,p=u.ya,y&&p&&Ye(E,y,p),Ye(E,"VER",u.la),Fr(u,E),E}function kl(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new rt(new Lr({eb:y})):new rt(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function aa(){}r=aa.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function eo(){}eo.prototype.g=function(u,p){return new Yt(u,p)};function Yt(u,p){ct.call(this),this.g=new sa(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!ie(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ie(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new pr(this)}$(Yt,ct),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Dt(this.g)},Yt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=li(u),u=y);p.i.push(new ml(p.Ya++,u)),p.G==3&&fr(p)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Dt(this.g),delete this.g,Yt.aa.N.call(this)};function Nl(u){An.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}$(Nl,An);function bl(){hi.call(this),this.status=1}$(bl,hi);function pr(u){this.g=u}$(pr,aa),pr.prototype.ua=function(){nt(this.g,"a")},pr.prototype.ta=function(u){nt(this.g,new Nl(u))},pr.prototype.sa=function(u){nt(this.g,new bl)},pr.prototype.ra=function(){nt(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,l_=function(){return new eo},a_=function(){return Vr()},o_=xn,Od={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kn.NO_ERROR=0,kn.TIMEOUT=8,kn.HTTP_ERROR=6,Mu=kn,Us.COMPLETE="complete",s_=Us,ur.EventType=en,en.OPEN="a",en.CLOSE="b",en.ERROR="c",en.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Da=ur,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,i_=rt}).apply(typeof Au<"u"?Au:typeof self<"u"?self:typeof window<"u"?window:{});const Kg="@firebase/firestore",Gg="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new nf("@firebase/firestore");function So(){return Ds.logLevel}function le(r,...e){if(Ds.logLevel<=Le.DEBUG){const t=e.map(mf);Ds.debug(`Firestore (${Ko}): ${r}`,...t)}}function ni(r,...e){if(Ds.logLevel<=Le.ERROR){const t=e.map(mf);Ds.error(`Firestore (${Ko}): ${r}`,...t)}}function Vo(r,...e){if(Ds.logLevel<=Le.WARN){const t=e.map(mf);Ds.warn(`Firestore (${Ko}): ${r}`,...t)}}function mf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,u_(r,s,t)}function u_(r,e,t){let s=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ni(s),new Error(s)}function Ke(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||u_(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ii{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class US{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class zS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class BS{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Xr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},f=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Xr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new c_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class $S{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HS{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new $S(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WS{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const s=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Qg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=qS(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function De(r,e){return r<e?-1:r>e?1:0}function Ld(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return De(s,o);{const l=h_(),h=KS(l.encode(Yg(r,t)),l.encode(Yg(e,t)));return h!==0?h:De(s,o)}}t+=s>65535?2:1}return De(r.length,e.length)}function Yg(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function KS(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return De(r[t],e[t]);return De(r.length,e.length)}function Oo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=-62135596800,Jg=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Jg);return new St(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Xg)throw new ge(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jg}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Xg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new St(0,0))}static max(){return new Ce(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="__name__";class _r{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=_r.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return De(e.length,t.length)}static compareSegments(e,t){const s=_r.isNumericId(e),o=_r.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?_r.extractNumericId(e).compare(_r.extractNumericId(t)):Ld(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class st extends _r{construct(e,t,s){return new st(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new st(t)}static emptyPath(){return new st([])}}const GS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends _r{construct(e,t,s){return new Mt(e,t,s)}static isValidIdentifier(e){return GS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zg}static keyField(){return new Mt([Zg])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ge(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ge(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(l(),o++)}if(l(),h)throw new ge(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(t)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(st.fromString(e))}static fromName(e){return new we(st.fromString(e).popFirst(5))}static empty(){return new we(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=-1;function QS(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new St(t+1,0):new St(t,s));return new Xi(o,we.empty(),e)}function YS(r){return new Xi(r.readTime,r.key,Ka)}class Xi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Xi(Ce.min(),we.empty(),Ka)}static max(){return new Xi(Ce.max(),we.empty(),Ka)}}function XS(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(r.documentKey,e.documentKey),t!==0?t:De(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==JS)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,s)=>{t(e)})}static reject(e){return new G((t,s)=>{s(e)})}static waitFor(e){return new G((t,s)=>{let o=0,l=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++l,h&&l===o&&t()},g=>s(g))}),h=!0,l===o&&t()})}static or(e){let t=G.resolve(!1);for(const s of e)t=t.next(o=>o?G.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new G((s,o)=>{const l=e.length,h=new Array(l);let f=0;for(let g=0;g<l;g++){const v=g;t(e[v]).next(w=>{h[v]=w,++f,f===l&&s(h)},w=>o(w))}})}static doWhile(e,t){return new G((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function eC(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}mc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=-1;function gc(r){return r==null}function Ju(r){return r===0&&1/r==-1/0}function tC(r){return typeof r=="number"&&Number.isInteger(r)&&!Ju(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="";function nC(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=ey(e)),e=rC(r.get(t),e);return ey(e)}function rC(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case f_:t+="";break;default:t+=l}}return t}function ey(r){return r+f_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function rs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function p_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xu(this.root,e,this.comparator,!0)}}class xu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Lt.RED,this.left=o??Lt.EMPTY,this.right=l??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Lt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ny(this.data.getIterator())}getIteratorFrom(e){return new ny(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ct(this.comparator);return t.data=e,t}}class ny{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new In([])}unionWith(e){let t=new Ct(Mt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new m_("Invalid base64 string: "+l):l}}(e);return new Ft(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const iC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const t=iC.exec(r);if(Ke(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zi(r){return typeof r=="string"?Ft.fromBase64String(r):Ft.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="server_timestamp",y_="__type__",v_="__previous_value__",__="__local_write_time__";function yf(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[y_])===null||t===void 0?void 0:t.stringValue)===g_}function yc(r){const e=r.mapValue.fields[v_];return yf(e)?yc(e):e}function Ga(r){const e=Ji(r.mapValue.fields[__].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t,s,o,l,h,f,g,v,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=w}}const Zu="(default)";class Qa{constructor(e,t){this.projectId=e,this.database=t||Zu}static empty(){return new Qa("","")}get isDefaultDatabase(){return this.database===Zu}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="__type__",oC="__max__",Pu={mapValue:{}},E_="__vector__",ec="value";function es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yf(r)?4:lC(r)?9007199254740991:aC(r)?10:11:Te(28295,{value:r})}function Rr(r,e){if(r===e)return!0;const t=es(r);if(t!==es(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ga(r).isEqual(Ga(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ji(o.timestampValue),f=Ji(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return Zi(o.bytesValue).isEqual(Zi(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return pt(o.geoPointValue.latitude)===pt(l.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return pt(o.integerValue)===pt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=pt(o.doubleValue),f=pt(l.doubleValue);return h===f?Ju(h)===Ju(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return Oo(r.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(ty(h)!==ty(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!Rr(h[g],f[g])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function Ya(r,e){return(r.values||[]).find(t=>Rr(t,e))!==void 0}function Lo(r,e){if(r===e)return 0;const t=es(r),s=es(e);if(t!==s)return De(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(r.booleanValue,e.booleanValue);case 2:return function(l,h){const f=pt(l.integerValue||l.doubleValue),g=pt(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(r,e);case 3:return ry(r.timestampValue,e.timestampValue);case 4:return ry(Ga(r),Ga(e));case 5:return Ld(r.stringValue,e.stringValue);case 6:return function(l,h){const f=Zi(l),g=Zi(h);return f.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),g=h.split("/");for(let v=0;v<f.length&&v<g.length;v++){const w=De(f[v],g[v]);if(w!==0)return w}return De(f.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const f=De(pt(l.latitude),pt(h.latitude));return f!==0?f:De(pt(l.longitude),pt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return iy(r.arrayValue,e.arrayValue);case 10:return function(l,h){var f,g,v,w;const T=l.fields||{},S=h.fields||{},F=(f=T[ec])===null||f===void 0?void 0:f.arrayValue,$=(g=S[ec])===null||g===void 0?void 0:g.arrayValue,W=De(((v=F==null?void 0:F.values)===null||v===void 0?void 0:v.length)||0,((w=$==null?void 0:$.values)===null||w===void 0?void 0:w.length)||0);return W!==0?W:iy(F,$)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===Pu.mapValue&&h===Pu.mapValue)return 0;if(l===Pu.mapValue)return 1;if(h===Pu.mapValue)return-1;const f=l.fields||{},g=Object.keys(f),v=h.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let T=0;T<g.length&&T<w.length;++T){const S=Ld(g[T],w[T]);if(S!==0)return S;const F=Lo(f[g[T]],v[w[T]]);if(F!==0)return F}return De(g.length,w.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{Pe:t})}}function ry(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return De(r,e);const t=Ji(r),s=Ji(e),o=De(t.seconds,s.seconds);return o!==0?o:De(t.nanos,s.nanos)}function iy(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Lo(t[o],s[o]);if(l)return l}return De(t.length,s.length)}function Mo(r){return Md(r)}function Md(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Ji(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Zi(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return we.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Md(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Md(t.fields[h])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function Fu(r){switch(es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yc(r);return e?16+Fu(e):16;case 5:return 2*r.stringValue.length;case 6:return Zi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Fu(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return rs(s.fields,(l,h)=>{o+=l.length+Fu(h)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function Fd(r){return!!r&&"integerValue"in r}function vf(r){return!!r&&"arrayValue"in r}function sy(r){return!!r&&"nullValue"in r}function oy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ju(r){return!!r&&"mapValue"in r}function aC(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[w_])===null||t===void 0?void 0:t.stringValue)===E_}function ja(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return rs(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ja(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ja(r.arrayValue.values[t]);return e}return Object.assign({},r)}function lC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===oC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ju(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ja(t)}setAll(e){let t=Mt.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=ja(h):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());ju(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ju(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){rs(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new hn(ja(this.value))}}function T_(r){const e=[];return rs(r.fields,(t,s)=>{const o=new Mt([t]);if(ju(s)){const l=T_(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t,s,o,l,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new qt(e,0,Ce.min(),Ce.min(),Ce.min(),hn.empty(),0)}static newFoundDocument(e,t,s,o){return new qt(e,1,t,Ce.min(),s,o,0)}static newNoDocument(e,t){return new qt(e,2,t,Ce.min(),Ce.min(),hn.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Ce.min(),Ce.min(),hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,t){this.position=e,this.inclusive=t}}function ay(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=we.comparator(we.fromName(h.referenceValue),t.key):s=Lo(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function ly(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Rr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t="asc"){this.field=e,this.dir=t}}function uC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{}class It extends I_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new hC(e,t,s):t==="array-contains"?new pC(e,s):t==="in"?new mC(e,s):t==="not-in"?new gC(e,s):t==="array-contains-any"?new yC(e,s):new It(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new dC(e,s):new fC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Lo(t,this.value)):t!==null&&es(this.value)===es(t)&&this.matchesComparison(Lo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends I_{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Ar(e,t)}matches(e){return S_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function S_(r){return r.op==="and"}function C_(r){return cC(r)&&S_(r)}function cC(r){for(const e of r.filters)if(e instanceof Ar)return!1;return!0}function jd(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+Mo(r.value);if(C_(r))return r.filters.map(e=>jd(e)).join(",");{const e=r.filters.map(t=>jd(t)).join(",");return`${r.op}(${e})`}}function R_(r,e){return r instanceof It?function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Rr(s.value,o.value)}(r,e):r instanceof Ar?function(s,o){return o instanceof Ar&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,f)=>l&&R_(h,o.filters[f]),!0):!1}(r,e):void Te(19439)}function A_(r){return r instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${Mo(t.value)}`}(r):r instanceof Ar?function(t){return t.op.toString()+" {"+t.getFilters().map(A_).join(" ,")+"}"}(r):"Filter"}class hC extends It{constructor(e,t,s){super(e,t,s),this.key=we.fromName(s.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class dC extends It{constructor(e,t){super(e,"in",t),this.keys=x_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fC extends It{constructor(e,t){super(e,"not-in",t),this.keys=x_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function x_(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>we.fromName(s.referenceValue))}class pC extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vf(t)&&Ya(t.arrayValue,this.value)}}class mC extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ya(this.value.arrayValue,t)}}class gC extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ya(this.value.arrayValue,t)}}class yC extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ya(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,t=null,s=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.Ie=null}}function uy(r,e=null,t=[],s=[],o=null,l=null,h=null){return new vC(r,e,t,s,o,l,h)}function _f(r){const e=Ae(r);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>jd(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),gc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Mo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Mo(s)).join(",")),e.Ie=t}return e.Ie}function wf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!uC(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!R_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ly(r.startAt,e.startAt)&&ly(r.endAt,e.endAt)}function Ud(r){return we.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t=null,s=[],o=[],l=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function _C(r,e,t,s,o,l,h,f){return new vc(r,e,t,s,o,l,h,f)}function _c(r){return new vc(r)}function cy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wC(r){return r.collectionGroup!==null}function Ua(r){const e=Ae(r);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Ct(Mt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(f=f.add(v.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new nc(l,s))}),t.has(Mt.keyField().canonicalString())||e.Ee.push(new nc(Mt.keyField(),s))}return e.Ee}function Ir(r){const e=Ae(r);return e.de||(e.de=EC(e,Ua(r))),e.de}function EC(r,e){if(r.limitType==="F")return uy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new nc(o.field,l)});const t=r.endAt?new tc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new tc(r.startAt.position,r.startAt.inclusive):null;return uy(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function zd(r,e,t){return new vc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function wc(r,e){return wf(Ir(r),Ir(e))&&r.limitType===e.limitType}function P_(r){return`${_f(Ir(r))}|lt:${r.limitType}`}function Co(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>A_(o)).join(", ")}]`),gc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Mo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Mo(o)).join(",")),`Target(${s})`}(Ir(r))}; limitType=${r.limitType})`}function Ec(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):we.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of Ua(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,f,g){const v=ay(h,f,g);return h.inclusive?v<=0:v<0}(s.startAt,Ua(s),o)||s.endAt&&!function(h,f,g){const v=ay(h,f,g);return h.inclusive?v>=0:v>0}(s.endAt,Ua(s),o))}(r,e)}function TC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function k_(r){return(e,t)=>{let s=!1;for(const o of Ua(r)){const l=IC(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function IC(r,e,t){const s=r.field.isKeyField()?we.comparator(e.key,t.key):function(l,h,f){const g=h.data.field(l),v=f.data.field(l);return g!==null&&v!==null?Lo(g,v):Te(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return p_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new ut(we.comparator);function ri(){return SC}const N_=new ut(we.comparator);function Va(...r){let e=N_;for(const t of r)e=e.insert(t.key,t);return e}function b_(r){let e=N_;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ks(){return za()}function D_(){return za()}function za(){return new Fs(r=>r.toString(),(r,e)=>r.isEqual(e))}const CC=new ut(we.comparator),RC=new Ct(we.comparator);function Me(...r){let e=RC;for(const t of r)e=e.add(t);return e}const AC=new Ct(De);function xC(){return AC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ju(e)?"-0":e}}function V_(r){return{integerValue:""+r}}function PC(r,e){return tC(e)?V_(e):Ef(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this._=void 0}}function kC(r,e,t){return r instanceof rc?function(o,l){const h={fields:{[y_]:{stringValue:g_},[__]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&yf(l)&&(l=yc(l)),l&&(h.fields[v_]=l),{mapValue:h}}(t,e):r instanceof Fo?L_(r,e):r instanceof Xa?M_(r,e):function(o,l){const h=O_(o,l),f=hy(h)+hy(o.Re);return Fd(h)&&Fd(o.Re)?V_(f):Ef(o.serializer,f)}(r,e)}function NC(r,e,t){return r instanceof Fo?L_(r,e):r instanceof Xa?M_(r,e):t}function O_(r,e){return r instanceof ic?function(s){return Fd(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class rc extends Tc{}class Fo extends Tc{constructor(e){super(),this.elements=e}}function L_(r,e){const t=F_(e);for(const s of r.elements)t.some(o=>Rr(o,s))||t.push(s);return{arrayValue:{values:t}}}class Xa extends Tc{constructor(e){super(),this.elements=e}}function M_(r,e){let t=F_(e);for(const s of r.elements)t=t.filter(o=>!Rr(o,s));return{arrayValue:{values:t}}}class ic extends Tc{constructor(e,t){super(),this.serializer=e,this.Re=t}}function hy(r){return pt(r.integerValue||r.doubleValue)}function F_(r){return vf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,t){this.field=e,this.transform=t}}function DC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Fo&&o instanceof Fo||s instanceof Xa&&o instanceof Xa?Oo(s.elements,o.elements,Rr):s instanceof ic&&o instanceof ic?Rr(s.Re,o.Re):s instanceof rc&&o instanceof rc}(r.transform,e.transform)}class VC{constructor(e,t){this.version=e,this.transformResults=t}}class Sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ic{}function j_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new z_(r.key,Sr.none()):new ol(r.key,r.data,Sr.none());{const t=r.data,s=hn.empty();let o=new Ct(Mt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new is(r.key,s,new In(o.toArray()),Sr.none())}}function OC(r,e,t){r instanceof ol?function(o,l,h){const f=o.value.clone(),g=fy(o.fieldTransforms,l,h.transformResults);f.setAll(g),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,t):r instanceof is?function(o,l,h){if(!Uu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=fy(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(U_(o)),g.setAll(f),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Ba(r,e,t,s){return r instanceof ol?function(l,h,f,g){if(!Uu(l.precondition,h))return f;const v=l.value.clone(),w=py(l.fieldTransforms,g,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(r,e,t,s):r instanceof is?function(l,h,f,g){if(!Uu(l.precondition,h))return f;const v=py(l.fieldTransforms,g,h),w=h.data;return w.setAll(U_(l)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(r,e,t,s):function(l,h,f){return Uu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,t)}function LC(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=O_(s.transform,o||null);l!=null&&(t===null&&(t=hn.empty()),t.set(s.field,l))}return t||null}function dy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Oo(s,o,(l,h)=>DC(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ol extends Ic{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class is extends Ic{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function U_(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function fy(r,e,t){const s=new Map;Ke(r.length===t.length,32656,{Ve:t.length,me:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);s.set(l.field,NC(h,f,t[o]))}return s}function py(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,kC(l,h,e))}return s}class z_ extends Ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MC extends Ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&OC(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ba(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ba(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=D_();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const g=j_(h,f);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,(t,s)=>dy(t,s))&&Oo(this.baseMutations,e.baseMutations,(t,s)=>dy(t,s))}}class Tf{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ke(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return CC}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new Tf(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Be;function zC(r){switch(r){case X.OK:return Te(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function B_(r){if(r===void 0)return ni("GRPC error has no .code"),X.UNKNOWN;switch(r){case vt.OK:return X.OK;case vt.CANCELLED:return X.CANCELLED;case vt.UNKNOWN:return X.UNKNOWN;case vt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case vt.INTERNAL:return X.INTERNAL;case vt.UNAVAILABLE:return X.UNAVAILABLE;case vt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case vt.NOT_FOUND:return X.NOT_FOUND;case vt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case vt.ABORTED:return X.ABORTED;case vt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case vt.DATA_LOSS:return X.DATA_LOSS;default:return Te(39323,{code:r})}}(Be=vt||(vt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=new Gi([4294967295,4294967295],0);function my(r){const e=h_().encode(r),t=new r_;return t.update(e),new Uint8Array(t.digest())}function gy(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gi([t,s],0),new Gi([o,l],0)]}class If{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Oa(`Invalid padding: ${t}`);if(s<0)throw new Oa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Oa(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Oa(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Gi.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply(Gi.fromNumber(s)));return o.compare(BC)===1&&(o=new Gi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=my(e),[s,o]=gy(t);for(let l=0;l<this.hashCount;l++){const h=this.we(s,o,l);if(!this.be(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new If(l,o,t);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.pe===0)return;const t=my(e),[s,o]=gy(t);for(let l=0;l<this.hashCount;l++){const h=this.we(s,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Oa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,al.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Sc(Ce.min(),o,new ut(De),ri(),Me())}}class al{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new al(s,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class $_{constructor(e,t){this.targetId=e,this.Ce=t}}class H_{constructor(e,t,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class yy{constructor(){this.Fe=0,this.Me=vy(),this.xe=Ft.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),t=Me(),s=Me();return this.Me.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:l})}}),new al(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=vy()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ke(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $C{constructor(e){this.ze=e,this.je=new Map,this.He=ri(),this.Je=ku(),this.Ye=ku(),this.Ze=new ut(De)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const l=o.target;if(Ud(l))if(s===0){const h=new we(l.path);this.tt(t,h,qt.newNoDocument(h,Ce.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this.ut(t);if(h!==s){const f=this.ct(e),g=f?this.lt(f,e,h):1;if(g!==0){this.st(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=Zi(s).toUint8Array()}catch(g){if(g instanceof m_)return Vo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new If(h,o,l)}catch(g){return Vo(g instanceof Oa?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.pe===0?null:f}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.ze.Pt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,l,null),o++)}),o}It(e){const t=new Map;this.je.forEach((l,h)=>{const f=this._t(h);if(f){if(l.current&&Ud(f.target)){const g=new we(f.target.path);this.Et(g).has(h)||this.dt(h,g)||this.tt(h,g,qt.newNoDocument(g,e))}l.Le&&(t.set(h,l.qe()),l.Qe())}});let s=Me();this.Ye.forEach((l,h)=>{let f=!0;h.forEachWhile(g=>{const v=this._t(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.He.forEach((l,h)=>h.setReadTime(e));const o=new Sc(e,t,this.Ze,this.He,s);return this.He=ri(),this.Je=ku(),this.Ye=ku(),this.Ze=new ut(De),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new yy,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ct(De),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ct(De),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new yy),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ku(){return new ut(we.comparator)}function vy(){return new ut(we.comparator)}const HC={asc:"ASCENDING",desc:"DESCENDING"},WC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qC={and:"AND",or:"OR"};class KC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bd(r,e){return r.useProto3Json||gc(e)?e:{value:e}}function sc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function GC(r,e){return sc(r,e.toTimestamp())}function Cr(r){return Ke(!!r,49232),Ce.fromTimestamp(function(t){const s=Ji(t);return new St(s.seconds,s.nanos)}(r))}function Sf(r,e){return $d(r,e).canonicalString()}function $d(r,e){const t=function(o){return new st(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function q_(r){const e=st.fromString(r);return Ke(X_(e),10190,{key:e.toString()}),e}function Hd(r,e){return Sf(r.databaseId,e.path)}function vd(r,e){const t=q_(e);if(t.get(1)!==r.databaseId.projectId)throw new ge(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ge(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new we(G_(t))}function K_(r,e){return Sf(r.databaseId,e)}function QC(r){const e=q_(r);return e.length===4?st.emptyPath():G_(e)}function Wd(r){return new st(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function G_(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function _y(r,e,t){return{name:Hd(r,e),fields:t.value.mapValue.fields}}function YC(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Te(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(v,w){return v.useProto3Json?(Ke(w===void 0||typeof w=="string",58123),Ft.fromBase64String(w||"")):(Ke(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Ft.fromUint8Array(w||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(v){const w=v.code===void 0?X.UNKNOWN:B_(v.code);return new ge(w,v.message||"")}(h);t=new H_(s,o,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=vd(r,s.document.name),l=Cr(s.document.updateTime),h=s.document.createTime?Cr(s.document.createTime):Ce.min(),f=new hn({mapValue:{fields:s.document.fields}}),g=qt.newFoundDocument(o,l,h,f),v=s.targetIds||[],w=s.removedTargetIds||[];t=new zu(v,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=vd(r,s.document),l=s.readTime?Cr(s.readTime):Ce.min(),h=qt.newNoDocument(o,l),f=s.removedTargetIds||[];t=new zu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=vd(r,s.document),l=s.removedTargetIds||[];t=new zu([],l,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new UC(o,l),f=s.targetId;t=new $_(f,h)}}return t}function XC(r,e){let t;if(e instanceof ol)t={update:_y(r,e.key,e.value)};else if(e instanceof z_)t={delete:Hd(r,e.key)};else if(e instanceof is)t={update:_y(r,e.key,e.data),updateMask:oR(e.fieldMask)};else{if(!(e instanceof MC))return Te(16599,{ft:e.type});t={verify:Hd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const f=h.transform;if(f instanceof rc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Fo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Xa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ic)return{fieldPath:h.field.canonicalString(),increment:f.Re};throw Te(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:GC(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)}(r,e.precondition)),t}function JC(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map(t=>function(o,l){let h=o.updateTime?Cr(o.updateTime):Cr(l);return h.isEqual(Ce.min())&&(h=Cr(l)),new VC(h,o.transformResults||[])}(t,e))):[]}function ZC(r,e){return{documents:[K_(r,e.path)]}}function eR(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=K_(r,o);const l=function(v){if(v.length!==0)return Y_(Ar.create(v,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(v){if(v.length!==0)return v.map(w=>function(S){return{field:Ro(S.field),direction:rR(S.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=Bd(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:t,parent:o}}function tR(r){let e=QC(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=function(T){const S=Q_(T);return S instanceof Ar&&C_(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(S=>function($){return new nc(Ao($.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(S))}(t.orderBy));let f=null;t.limit&&(f=function(T){let S;return S=typeof T=="object"?T.value:T,gc(S)?null:S}(t.limit));let g=null;t.startAt&&(g=function(T){const S=!!T.before,F=T.values||[];return new tc(F,S)}(t.startAt));let v=null;return t.endAt&&(v=function(T){const S=!T.before,F=T.values||[];return new tc(F,S)}(t.endAt)),_C(e,o,h,l,f,"F",g,v)}function nR(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Q_(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ao(t.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ao(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ao(t.unaryFilter.field);return It.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ao(t.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(t){return It.create(Ao(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Ar.create(t.compositeFilter.filters.map(s=>Q_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(r):Te(30097,{filter:r})}function rR(r){return HC[r]}function iR(r){return WC[r]}function sR(r){return qC[r]}function Ro(r){return{fieldPath:r.canonicalString()}}function Ao(r){return Mt.fromServerFormat(r.fieldPath)}function Y_(r){return r instanceof It?function(t){if(t.op==="=="){if(oy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NAN"}};if(sy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(oy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NAN"}};if(sy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(t.field),op:iR(t.op),value:t.value}}}(r):r instanceof Ar?function(t){const s=t.getFilters().map(o=>Y_(o));return s.length===1?s[0]:{compositeFilter:{op:sR(t.op),filters:s}}}(r):Te(54877,{filter:r})}function oR(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function X_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t,s,o,l=Ce.min(),h=Ce.min(),f=Ft.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.wt=e}}function lR(r){const e=tR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.Cn=new cR}addToCollectionParentIndex(e,t){return this.Cn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Xi.min())}updateCollectionGroup(e,t,s){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class cR{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ct(st.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J_=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(J_,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new jo(0)}static lr(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="LruGarbageCollector",hR=1048576;function Ty([r,e],[t,s]){const o=De(r,t);return o===0?De(e,s):o}class dR{constructor(e){this.Er=e,this.buffer=new Ct(Ty),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Ty(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fR{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){le(Ey,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qo(t)?le(Ey,"Ignoring IndexedDB error during garbage collection: ",t):await Go(t)}await this.mr(3e5)})}}class pR{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return G.resolve(mc.le);const s=new dR(t);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(wy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wy):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,o,l,h,f,g,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,f=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(v=Date.now(),So()<=Le.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(g-f)+`ms
	Removed ${T} documents in `+(v-g)+`ms
Total Duration: ${v-w}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function mR(r,e){return new pR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.changes=new Fs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?G.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Ba(s.mutation,o,In.empty(),St.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Me()){const o=ks();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=Va();return l.forEach((f,g)=>{h=h.insert(f,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ks();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Me()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,s,o){let l=ri();const h=za(),f=function(){return za()}();return t.forEach((g,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof is)?l=l.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),Ba(w.mutation,v,w.mutation.getFieldMask(),St.now())):h.set(v.key,In.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((v,w)=>h.set(v,w)),t.forEach((v,w)=>{var T;return f.set(v,new yR(w,(T=h.get(v))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,t){const s=za();let o=new ut((h,f)=>h-f),l=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(g=>{const v=t.get(g);if(v===null)return;let w=s.get(g)||In.empty();w=f.applyToLocalView(v,w),s.set(g,w);const T=(o.get(f.batchId)||Me()).add(g);o=o.insert(f.batchId,T)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,w=g.value,T=D_();w.forEach(S=>{if(!l.has(S)){const F=j_(t.get(S),s.get(S));F!==null&&T.set(S,F),l=l.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,T))}return G.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return we.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):G.resolve(ks());let f=Ka,g=l;return h.next(v=>G.forEach(v,(w,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(w)?G.resolve():this.remoteDocumentCache.getEntry(e,w).next(S=>{g=g.insert(w,S)}))).next(()=>this.populateOverlays(e,v,l)).next(()=>this.computeViews(e,g,v,Me())).next(w=>({batchId:f,changes:b_(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(s=>{let o=Va();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Va();return this.indexManager.getCollectionParents(e,l).next(f=>G.forEach(f,g=>{const v=function(T,S){return new vc(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(w=>{w.forEach((T,S)=>{h=h.insert(T,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((g,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,qt.newInvalidDocument(w)))});let f=Va();return h.forEach((g,v)=>{const w=l.get(g);w!==void 0&&Ba(w.mutation,v,In.empty(),St.now()),Ec(t,v)&&(f=f.insert(g,v))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return G.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Cr(o.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:lR(o.bundledQuery),readTime:Cr(o.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.overlays=new ut(we.comparator),this.Qr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ks();return G.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.St(e,t,l)}),G.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(s)),G.resolve()}getOverlaysForCollection(e,t,s){const o=ks(),l=t.length+1,h=new we(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&g.largestBatchId>s&&o.set(g.getKey(),g)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new ut((v,w)=>v-w);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=l.get(v.largestBatchId);w===null&&(w=ks(),l=l.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const f=ks(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,w)=>f.set(v,w)),!(f.size()>=o)););return G.resolve(f)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new jC(t,s));let l=this.Qr.get(t);l===void 0&&(l=Me(),this.Qr.set(t,l)),this.Qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this.$r=new Ct(kt.Ur),this.Kr=new Ct(kt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new kt(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new kt(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new we(new st([])),s=new kt(t,e),o=new kt(t,e+1),l=[];return this.Kr.forEachInRange([s,o],h=>{this.zr(h),l.push(h.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new we(new st([])),s=new kt(t,e),o=new kt(t,e+1);let l=Me();return this.Kr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new kt(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return we.comparator(e.key,t.key)||De(e.Zr,t.Zr)}static Wr(e,t){return De(e.Zr,t.Zr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ct(kt.Ur)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new FC(l,t,s,o);this.mutationQueue.push(h);for(const f of o)this.Xr=this.Xr.add(new kt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return G.resolve(h)}lookupMutationBatch(e,t){return G.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ti(s),l=o<0?0:o;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?gf:this.nr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new kt(t,0),o=new kt(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([s,o],h=>{const f=this.ei(h.Zr);l.push(f)}),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ct(De);return t.forEach(o=>{const l=new kt(o,0),h=new kt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,h],f=>{s=s.add(f.Zr)})}),G.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;we.isDocumentKey(l)||(l=l.child(""));const h=new kt(new we(l),0);let f=new Ct(De);return this.Xr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(f=f.add(g.Zr)),!0)},h),G.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ke(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return G.forEach(t.mutations,o=>{const l=new kt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new kt(t,0),o=this.Xr.firstAfterOrEqual(s);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.ii=e,this.docs=function(){return new ut(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return G.resolve(s?s.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let s=ri();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():qt.newInvalidDocument(o))}),G.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=ri();const h=t.path,f=new we(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:v,value:{document:w}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||XS(YS(w),s)<=0||(o.has(w.key)||Ec(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}si(e,t){return G.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new SR(this)}getSize(e){return G.resolve(this.size)}}class SR extends gR{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),G.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.persistence=e,this.oi=new Fs(t=>_f(t),wf),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this._i=0,this.ai=new Cf,this.targetCount=0,this.ui=jo.cr()}forEachTarget(e,t){return this.oi.forEach((s,o)=>t(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),G.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new jo(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Tr(t),G.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.oi.forEach((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.oi.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),G.waitFor(l).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return G.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),G.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),G.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return G.resolve(s)}containsKey(e,t){return G.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,t){this.ci={},this.overlays={},this.li=new mc(0),this.hi=!1,this.hi=!0,this.Pi=new ER,this.referenceDelegate=e(this),this.Ti=new CR(this),this.indexManager=new uR,this.remoteDocumentCache=function(o){return new IR(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new aR(t),this.Ei=new _R(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new TR(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){le("MemoryPersistence","Starting transaction:",e);const o=new RR(this.li.next());return this.referenceDelegate.di(),s(o).next(l=>this.referenceDelegate.Ai(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ri(e,t){return G.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class RR extends ZS{constructor(e){super(),this.currentSequenceNumber=e}}class Rf{constructor(e){this.persistence=e,this.Vi=new Cf,this.mi=null}static fi(e){return new Rf(e)}get gi(){if(this.mi)return this.mi;throw Te(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),G.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),G.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.gi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.gi,s=>{const o=we.fromPath(s);return this.pi(e,o).next(l=>{l||t.removeEntry(o,Ce.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return G.or([()=>G.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class oc{constructor(e,t){this.persistence=e,this.yi=new Fs(s=>nC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=mR(this,t)}static fi(e,t){return new oc(e,t)}di(){}Ai(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}br(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return G.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(l=>l?G.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.si(e,h=>this.Dr(e,h,t).next(f=>{f||(s++,l.removeEntry(h,Ce.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),G.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),G.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fu(e.data.value)),t}Dr(e,t,s){return G.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return G.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ds=s,this.As=o}static Rs(e,t){let s=Me(),o=Me();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Af(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return vT()?8:eC(Kt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ws(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.bs(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new AR;return this.Ss(e,t,h).next(f=>{if(l.result=f,this.fs)return this.Ds(e,t,h,f.size)})}).next(()=>l.result)}Ds(e,t,s,o){return s.documentReadCount<this.gs?(So()<=Le.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),G.resolve()):(So()<=Le.DEBUG&&le("QueryEngine","Query:",Co(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(So()<=Le.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(t))):G.resolve())}ws(e,t){if(cy(t))return G.resolve(null);let s=Ir(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=zd(t,null,"F"),s=Ir(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Me(...l);return this.ys.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.vs(t,f);return this.Cs(t,v,h,g.readTime)?this.ws(e,zd(t,null,"F")):this.Fs(e,v,t,g)}))})))}bs(e,t,s,o){return cy(t)||o.isEqual(Ce.min())?G.resolve(null):this.ys.getDocuments(e,s).next(l=>{const h=this.vs(t,l);return this.Cs(t,h,s,o)?G.resolve(null):(So()<=Le.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Co(t)),this.Fs(e,h,t,QS(o,Ka)).next(f=>f))})}vs(e,t){let s=new Ct(k_(e));return t.forEach((o,l)=>{Ec(e,l)&&(s=s.add(l))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return So()<=Le.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Co(t)),this.ys.getDocumentsMatchingQuery(e,t,Xi.min(),s)}Fs(e,t,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="LocalStore",PR=3e8;class kR{constructor(e,t,s,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new ut(De),this.Os=new Fs(l=>_f(l),wf),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vR(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function NR(r,e,t,s){return new kR(r,e,t,s)}async function e0(r,e){const t=Ae(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],f=[];let g=Me();for(const v of o){h.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}for(const v of l){f.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next(v=>({ks:v,removedBatchIds:h,addedBatchIds:f}))})})}function bR(r,e){const t=Ae(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,g,v,w){const T=v.batch,S=T.keys();let F=G.resolve();return S.forEach($=>{F=F.next(()=>w.getEntry(g,$)).next(W=>{const j=v.docVersions.get($);Ke(j!==null,48541),W.version.compareTo(j)<0&&(T.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),w.addEntry(W)))})}),F.next(()=>f.mutationQueue.removeMutationBatch(g,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let g=Me();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(g=g.add(f.batch.mutations[v].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function t0(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function DR(r,e){const t=Ae(r),s=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const f=[];e.targetChanges.forEach((w,T)=>{const S=o.get(T);if(!S)return;f.push(t.Ti.removeMatchingKeys(l,w.removedDocuments,T).next(()=>t.Ti.addMatchingKeys(l,w.addedDocuments,T)));let F=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?F=F.withResumeToken(Ft.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):w.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(w.resumeToken,s)),o=o.insert(T,F),function(W,j,oe){return W.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=PR?!0:oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0}(S,F,w)&&f.push(t.Ti.updateTargetData(l,F))});let g=ri(),v=Me();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),f.push(VR(l,h,e.documentUpdates).next(w=>{g=w.qs,v=w.Qs})),!s.isEqual(Ce.min())){const w=t.Ti.getLastRemoteSnapshotVersion(l).next(T=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(w)}return G.waitFor(f).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,v)).next(()=>g)}).then(l=>(t.xs=o,l))}function VR(r,e,t){let s=Me(),o=Me();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=ri();return t.forEach((f,g)=>{const v=l.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Ce.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):le(xf,"Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{qs:h,Qs:o}})}function OR(r,e){const t=Ae(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=gf),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function LR(r,e){const t=Ae(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Ti.getTargetData(s,e).next(l=>l?(o=l,G.resolve(o)):t.Ti.allocateTargetId(s).next(h=>(o=new $i(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function qd(r,e,t){const s=Ae(r),o=s.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Qo(h))throw h;le(xf,`Failed to update sequence numbers for target ${e}: ${h}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function Iy(r,e,t){const s=Ae(r);let o=Ce.min(),l=Me();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,w){const T=Ae(g),S=T.Os.get(w);return S!==void 0?G.resolve(T.xs.get(S)):T.Ti.getTargetData(v,w)}(s,h,Ir(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,f.targetId).next(g=>{l=g})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,e,t?o:Ce.min(),t?l:Me())).next(f=>(MR(s,TC(e),f),{documents:f,$s:l})))}function MR(r,e,t){let s=r.Ns.get(e)||Ce.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Ns.set(e,s)}class Sy{constructor(){this.activeTargetIds=xC()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FR{constructor(){this.xo=new Sy,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Sy,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="ConnectivityMonitor";class Ry{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){le(Cy,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){le(Cy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu=null;function Kd(){return Nu===null?Nu=function(){return 268435456+Math.round(2147483648*Math.random())}():Nu++,"0x"+Nu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="RestConnection",UR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zR{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Zu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,t,s,o,l){const h=Kd(),f=this.jo(e,t.toUriEncodedString());le(_d,`Sending RPC '${e}' ${h}:`,f,s);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,o,l);const{host:v}=new URL(f),w=Ho(v);return this.Jo(e,f,g,s,w).then(T=>(le(_d,`Received RPC '${e}' ${h}: `,T),T),T=>{throw Vo(_d,`RPC '${e}' ${h} failed with error: `,T,"url: ",f,"request:",s),T})}Yo(e,t,s,o,l,h){return this.zo(e,t,s,o,l)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}jo(e,t){const s=UR[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class $R extends zR{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const h=Kd();return new Promise((f,g)=>{const v=new i_;v.setWithCredentials(!0),v.listenOnce(s_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Mu.NO_ERROR:const T=v.getResponseJson();le(Ht,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),f(T);break;case Mu.TIMEOUT:le(Ht,`RPC '${e}' ${h} timed out`),g(new ge(X.DEADLINE_EXCEEDED,"Request time out"));break;case Mu.HTTP_ERROR:const S=v.getStatus();if(le(Ht,`RPC '${e}' ${h} failed with status:`,S,"response text:",v.getResponseText()),S>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const $=F==null?void 0:F.error;if($&&$.status&&$.message){const W=function(oe){const ie=oe.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ie)>=0?ie:X.UNKNOWN}($.status);g(new ge(W,$.message))}else g(new ge(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new ge(X.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{h_:e,streamId:h,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{le(Ht,`RPC '${e}' ${h} completed.`)}});const w=JSON.stringify(o);le(Ht,`RPC '${e}' ${h} sending request:`,o),v.send(t,"POST",w,s,15)})}I_(e,t,s){const o=Kd(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=l_(),f=a_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=l.join("");le(Ht,`Creating RPC '${e}' stream ${o}: ${w}`,g);const T=h.createWebChannel(w,g);this.E_(T);let S=!1,F=!1;const $=new BR({Zo:j=>{F?le(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(S||(le(Ht,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),le(Ht,`RPC '${e}' stream ${o} sending:`,j),T.send(j))},Xo:()=>T.close()}),W=(j,oe,ie)=>{j.listen(oe,re=>{try{ie(re)}catch(ne){setTimeout(()=>{throw ne},0)}})};return W(T,Da.EventType.OPEN,()=>{F||(le(Ht,`RPC '${e}' stream ${o} transport opened.`),$.__())}),W(T,Da.EventType.CLOSE,()=>{F||(F=!0,le(Ht,`RPC '${e}' stream ${o} transport closed`),$.u_(),this.d_(T))}),W(T,Da.EventType.ERROR,j=>{F||(F=!0,Vo(Ht,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),$.u_(new ge(X.UNAVAILABLE,"The operation could not be completed")))}),W(T,Da.EventType.MESSAGE,j=>{var oe;if(!F){const ie=j.data[0];Ke(!!ie,16349);const re=ie,ne=(re==null?void 0:re.error)||((oe=re[0])===null||oe===void 0?void 0:oe.error);if(ne){le(Ht,`RPC '${e}' stream ${o} received error:`,ne);const xe=ne.status;let ye=function(x){const k=vt[x];if(k!==void 0)return B_(k)}(xe),N=ne.message;ye===void 0&&(ye=X.INTERNAL,N="Unknown error status: "+xe+" with message "+ne.message),F=!0,$.u_(new ge(ye,N)),T.close()}else le(Ht,`RPC '${e}' stream ${o} received:`,ie),$.c_(ie)}}),W(f,o_.STAT_EVENT,j=>{j.stat===Od.PROXY?le(Ht,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Od.NOPROXY&&le(Ht,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.a_()},0),$}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(r){return new KC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,t,s=1e3,o=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=s,this.R_=o,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,t-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="PersistentStream";class r0{constructor(e,t,s,o,l,h,f,g){this.xi=e,this.S_=s,this.D_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new n0(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(ni(t.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===t&&this.z_(s,o)},s=>{e(()=>{const o=new ge(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,t){const s=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return le(Ay,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(le(Ay,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HR extends r0{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=YC(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ce.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ce.min():h.readTime?Cr(h.readTime):Ce.min()}(e);return this.listener.Y_(t,s)}Z_(e){const t={};t.database=Wd(this.serializer),t.addTarget=function(l,h){let f;const g=h.target;if(f=Ud(g)?{documents:ZC(l,g)}:{query:eR(l,g).gt},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=W_(l,h.resumeToken);const v=Bd(l,h.expectedCount);v!==null&&(f.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ce.min())>0){f.readTime=sc(l,h.snapshotVersion.toTimestamp());const v=Bd(l,h.expectedCount);v!==null&&(f.expectedCount=v)}return f}(this.serializer,e);const s=nR(this.serializer,e);s&&(t.labels=s),this.Q_(t)}X_(e){const t={};t.database=Wd(this.serializer),t.removeTarget=e,this.Q_(t)}}class WR extends r0{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=JC(e.writeResults,e.commitTime),s=Cr(e.commitTime);return this.listener.ra(s,t)}ia(){const e={};e.database=Wd(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>XC(this.serializer,s))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{}class KR extends qR{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ge(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.zo(e,$d(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(X.UNKNOWN,l.toString())})}Yo(e,t,s,o,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.Yo(e,$d(t,s),o,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(X.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class GR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ni(t),this.ua=!1):le("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="RemoteStore";class QR{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(h=>{s.enqueueAndForget(async()=>{js(this)&&(le(Vs,"Restarting streams for network reachability change."),await async function(g){const v=Ae(g);v.da.add(4),await ll(v),v.Va.set("Unknown"),v.da.delete(4),await Rc(v)}(this))})}),this.Va=new GR(s,o)}}async function Rc(r){if(js(r))for(const e of r.Aa)await e(!0)}async function ll(r){for(const e of r.Aa)await e(!1)}function i0(r,e){const t=Ae(r);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),bf(t)?Nf(t):Yo(t).N_()&&kf(t,e))}function Pf(r,e){const t=Ae(r),s=Yo(t);t.Ea.delete(e),s.N_()&&s0(t,e),t.Ea.size===0&&(s.N_()?s.k_():js(t)&&t.Va.set("Unknown"))}function kf(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yo(r).Z_(e)}function s0(r,e){r.ma.Ke(e),Yo(r).X_(e)}function Nf(r){r.ma=new $C({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Yo(r).start(),r.Va.ca()}function bf(r){return js(r)&&!Yo(r).O_()&&r.Ea.size>0}function js(r){return Ae(r).da.size===0}function o0(r){r.ma=void 0}async function YR(r){r.Va.set("Online")}async function XR(r){r.Ea.forEach((e,t)=>{kf(r,e)})}async function JR(r,e){o0(r),bf(r)?(r.Va.Pa(e),Nf(r)):r.Va.set("Unknown")}async function ZR(r,e,t){if(r.Va.set("Online"),e instanceof H_&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const f of l.targetIds)o.Ea.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Ea.delete(f),o.ma.removeTarget(f))}(r,e)}catch(s){le(Vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ac(r,s)}else if(e instanceof zu?r.ma.Xe(e):e instanceof $_?r.ma.ot(e):r.ma.nt(e),!t.isEqual(Ce.min()))try{const s=await t0(r.localStore);t.compareTo(s)>=0&&await function(l,h){const f=l.ma.It(h);return f.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=l.Ea.get(v);w&&l.Ea.set(v,w.withResumeToken(g.resumeToken,h))}}),f.targetMismatches.forEach((g,v)=>{const w=l.Ea.get(g);if(!w)return;l.Ea.set(g,w.withResumeToken(Ft.EMPTY_BYTE_STRING,w.snapshotVersion)),s0(l,g);const T=new $i(w.target,g,v,w.sequenceNumber);kf(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(s){le(Vs,"Failed to raise snapshot:",s),await ac(r,s)}}async function ac(r,e,t){if(!Qo(e))throw e;r.da.add(1),await ll(r),r.Va.set("Offline"),t||(t=()=>t0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{le(Vs,"Retrying IndexedDB access"),await t(),r.da.delete(1),await Rc(r)})}function a0(r,e){return e().catch(t=>ac(r,t,e))}async function Ac(r){const e=Ae(r),t=ts(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:gf;for(;eA(e);)try{const o=await OR(e.localStore,s);if(o===null){e.Ia.length===0&&t.k_();break}s=o.batchId,tA(e,o)}catch(o){await ac(e,o)}l0(e)&&u0(e)}function eA(r){return js(r)&&r.Ia.length<10}function tA(r,e){r.Ia.push(e);const t=ts(r);t.N_()&&t.ea&&t.ta(e.mutations)}function l0(r){return js(r)&&!ts(r).O_()&&r.Ia.length>0}function u0(r){ts(r).start()}async function nA(r){ts(r).ia()}async function rA(r){const e=ts(r);for(const t of r.Ia)e.ta(t.mutations)}async function iA(r,e,t){const s=r.Ia.shift(),o=Tf.from(s,e,t);await a0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Ac(r)}async function sA(r,e){e&&ts(r).ea&&await async function(s,o){if(function(h){return zC(h)&&h!==X.ABORTED}(o.code)){const l=s.Ia.shift();ts(s).L_(),await a0(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Ac(s)}}(r,e),l0(r)&&u0(r)}async function xy(r,e){const t=Ae(r);t.asyncQueue.verifyOperationInProgress(),le(Vs,"RemoteStore received new credentials");const s=js(t);t.da.add(3),await ll(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Rc(t)}async function oA(r,e){const t=Ae(r);e?(t.da.delete(2),await Rc(t)):e||(t.da.add(2),await ll(t),t.Va.set("Unknown"))}function Yo(r){return r.fa||(r.fa=function(t,s,o){const l=Ae(t);return l.oa(),new HR(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{e_:YR.bind(null,r),n_:XR.bind(null,r),i_:JR.bind(null,r),Y_:ZR.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),bf(r)?Nf(r):r.Va.set("Unknown")):(await r.fa.stop(),o0(r))})),r.fa}function ts(r){return r.ga||(r.ga=function(t,s,o){const l=Ae(t);return l.oa(),new WR(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:nA.bind(null,r),i_:sA.bind(null,r),na:rA.bind(null,r),ra:iA.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await Ac(r)):(await r.ga.stop(),r.Ia.length>0&&(le(Vs,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,f=new Df(e,t,h,o,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vf(r,e){if(ni("AsyncQueue",`${e}: ${r}`),Qo(r))return new ge(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||we.comparator(t.key,s.key):(t,s)=>we.comparator(t.key,s.key),this.keyedMap=Va(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.pa=new ut(we.comparator)}track(e){const t=e.doc.key,s=this.pa.get(t);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(t,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(t):e.type===1&&s.type===2?this.pa=this.pa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Te(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,s)=>{e.push(s)}),e}}class Uo{constructor(e,t,s,o,l,h,f,g,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new Uo(e,t,bo.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class lA{constructor(){this.queries=ky(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ae(t),l=o.queries;o.queries=ky(),l.forEach((h,f)=>{for(const g of f.Sa)g.onError(s)})})(this,new ge(X.ABORTED,"Firestore shutting down"))}}function ky(){return new Fs(r=>P_(r),wc)}async function Of(r,e){const t=Ae(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Da()&&e.va()&&(s=2):(l=new aA,s=e.va()?0:1);try{switch(s){case 0:l.ba=await t.onListen(o,!0);break;case 1:l.ba=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Vf(h,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&Mf(t)}async function Lf(r,e){const t=Ae(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=e.va()?0:1:!l.Da()&&e.va()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function uA(r,e){const t=Ae(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.Sa)f.Ma(o)&&(s=!0);h.ba=o}}s&&Mf(t)}function cA(r,e,t){const s=Ae(r),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function Mf(r){r.Ca.forEach(e=>{e.next()})}var Gd,Ny;(Ny=Gd||(Gd={})).xa="default",Ny.Cache="cache";class Ff{constructor(e,t,s){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const s=t!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Gd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.key=e}}class h0{constructor(e){this.key=e}}class hA{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.Za=k_(e),this.Xa=new bo(this.Za)}get eu(){return this.Ha}tu(e,t){const s=t?t.nu:new Py,o=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,T)=>{const S=o.get(w),F=Ec(this.query,T)?T:null,$=!!S&&this.mutatedKeys.has(S.key),W=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let j=!1;S&&F?S.data.isEqual(F.data)?$!==W&&(s.track({type:3,doc:F}),j=!0):this.ru(S,F)||(s.track({type:2,doc:F}),j=!0,(g&&this.Za(F,g)>0||v&&this.Za(F,v)<0)&&(f=!0)):!S&&F?(s.track({type:0,doc:F}),j=!0):S&&!F&&(s.track({type:1,doc:S}),j=!0,(g||v)&&(f=!0)),j&&(F?(h=h.add(F),l=W?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),s.track({type:1,doc:w})}return{Xa:h,nu:s,Cs:f,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const h=e.nu.wa();h.sort((w,T)=>function(F,$){const W=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:j})}};return W(F)-W($)}(w.type,T.type)||this.Za(w.doc,T.doc)),this.iu(s),o=o!=null&&o;const f=t&&!o?this.su():[],g=this.Ya.size===0&&this.current&&!o?1:0,v=g!==this.Ja;return this.Ja=g,h.length!==0||v?{snapshot:new Uo(this.query,e.Xa,l,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Py,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const t=[];return e.forEach(s=>{this.Ya.has(s)||t.push(new h0(s))}),this.Ya.forEach(s=>{e.has(s)||t.push(new c0(s))}),t}au(e){this.Ha=e.$s,this.Ya=Me();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Uo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const jf="SyncEngine";class dA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class fA{constructor(e){this.key=e,this.cu=!1}}class pA{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new Fs(f=>P_(f),wc),this.Pu=new Map,this.Tu=new Set,this.Iu=new ut(we.comparator),this.Eu=new Map,this.du=new Cf,this.Au={},this.Ru=new Map,this.Vu=jo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function mA(r,e,t=!0){const s=y0(r);let o;const l=s.hu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.uu()):o=await d0(s,e,t,!0),o}async function gA(r,e){const t=y0(r);await d0(t,e,!0,!1)}async function d0(r,e,t,s){const o=await LR(r.localStore,Ir(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await yA(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&i0(r.remoteStore,o),f}async function yA(r,e,t,s,o){r.fu=(T,S,F)=>async function(W,j,oe,ie){let re=j.view.tu(oe);re.Cs&&(re=await Iy(W.localStore,j.query,!1).then(({documents:N})=>j.view.tu(N,re)));const ne=ie&&ie.targetChanges.get(j.targetId),xe=ie&&ie.targetMismatches.get(j.targetId)!=null,ye=j.view.applyChanges(re,W.isPrimaryClient,ne,xe);return Dy(W,j.targetId,ye.ou),ye.snapshot}(r,T,S,F);const l=await Iy(r.localStore,e,!0),h=new hA(e,l.$s),f=h.tu(l.documents),g=al.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),v=h.applyChanges(f,r.isPrimaryClient,g);Dy(r,t,v.ou);const w=new dA(e,t,h);return r.hu.set(e,w),r.Pu.has(t)?r.Pu.get(t).push(e):r.Pu.set(t,[e]),v.snapshot}async function vA(r,e,t){const s=Ae(r),o=s.hu.get(e),l=s.Pu.get(o.targetId);if(l.length>1)return s.Pu.set(o.targetId,l.filter(h=>!wc(h,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await qd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Pf(s.remoteStore,o.targetId),Qd(s,o.targetId)}).catch(Go)):(Qd(s,o.targetId),await qd(s.localStore,o.targetId,!0))}async function _A(r,e){const t=Ae(r),s=t.hu.get(e),o=t.Pu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Pf(t.remoteStore,s.targetId))}async function wA(r,e,t){const s=AA(r);try{const o=await function(h,f){const g=Ae(h),v=St.now(),w=f.reduce((F,$)=>F.add($.key),Me());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",F=>{let $=ri(),W=Me();return g.Bs.getEntries(F,w).next(j=>{$=j,$.forEach((oe,ie)=>{ie.isValidDocument()||(W=W.add(oe))})}).next(()=>g.localDocuments.getOverlayedDocuments(F,$)).next(j=>{T=j;const oe=[];for(const ie of f){const re=LC(ie,T.get(ie.key).overlayedDocument);re!=null&&oe.push(new is(ie.key,re,T_(re.value.mapValue),Sr.exists(!0)))}return g.mutationQueue.addMutationBatch(F,v,oe,f)}).next(j=>{S=j;const oe=j.applyToLocalDocumentSet(T,W);return g.documentOverlayCache.saveOverlays(F,j.batchId,oe)})}).then(()=>({batchId:S.batchId,changes:b_(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,g){let v=h.Au[h.currentUser.toKey()];v||(v=new ut(De)),v=v.insert(f,g),h.Au[h.currentUser.toKey()]=v}(s,o.batchId,t),await ul(s,o.changes),await Ac(s.remoteStore)}catch(o){const l=Vf(o,"Failed to persist write");t.reject(l)}}async function f0(r,e){const t=Ae(r);try{const s=await DR(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Eu.get(l);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?Ke(h.cu,14607):o.removedDocuments.size>0&&(Ke(h.cu,42227),h.cu=!1))}),await ul(t,s,e)}catch(s){await Go(s)}}function by(r,e,t){const s=Ae(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.hu.forEach((l,h)=>{const f=h.view.Fa(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const g=Ae(h);g.onlineState=f;let v=!1;g.queries.forEach((w,T)=>{for(const S of T.Sa)S.Fa(f)&&(v=!0)}),v&&Mf(g)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function EA(r,e,t){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),l=o&&o.key;if(l){let h=new ut(we.comparator);h=h.insert(l,qt.newNoDocument(l,Ce.min()));const f=Me().add(l),g=new Sc(Ce.min(),new Map,new ut(De),h,f);await f0(s,g),s.Iu=s.Iu.remove(l),s.Eu.delete(e),Uf(s)}else await qd(s.localStore,e,!1).then(()=>Qd(s,e,t)).catch(Go)}async function TA(r,e){const t=Ae(r),s=e.batch.batchId;try{const o=await bR(t.localStore,e);m0(t,s,null),p0(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ul(t,o)}catch(o){await Go(o)}}async function IA(r,e,t){const s=Ae(r);try{const o=await function(h,f){const g=Ae(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return g.mutationQueue.lookupMutationBatch(v,f).next(T=>(Ke(T!==null,37113),w=T.keys(),g.mutationQueue.removeMutationBatch(v,T))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,w,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>g.localDocuments.getDocuments(v,w))})}(s.localStore,e);m0(s,e,t),p0(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ul(s,o)}catch(o){await Go(o)}}function p0(r,e){(r.Ru.get(e)||[]).forEach(t=>{t.resolve()}),r.Ru.delete(e)}function m0(r,e,t){const s=Ae(r);let o=s.Au[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function Qd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Pu.get(e))r.hu.delete(s),t&&r.lu.gu(s,t);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(s=>{r.du.containsKey(s)||g0(r,s)})}function g0(r,e){r.Tu.delete(e.path.canonicalString());const t=r.Iu.get(e);t!==null&&(Pf(r.remoteStore,t),r.Iu=r.Iu.remove(e),r.Eu.delete(t),Uf(r))}function Dy(r,e,t){for(const s of t)s instanceof c0?(r.du.addReference(s.key,e),SA(r,s)):s instanceof h0?(le(jf,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,e),r.du.containsKey(s.key)||g0(r,s.key)):Te(19791,{pu:s})}function SA(r,e){const t=e.key,s=t.path.canonicalString();r.Iu.get(t)||r.Tu.has(s)||(le(jf,"New document in limbo: "+t),r.Tu.add(s),Uf(r))}function Uf(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const t=new we(st.fromString(e)),s=r.Vu.next();r.Eu.set(s,new fA(t)),r.Iu=r.Iu.insert(t,s),i0(r.remoteStore,new $i(Ir(_c(t.path)),s,"TargetPurposeLimboResolution",mc.le))}}async function ul(r,e,t){const s=Ae(r),o=[],l=[],h=[];s.hu.isEmpty()||(s.hu.forEach((f,g)=>{h.push(s.fu(g,e,t).then(v=>{var w;if((v||t)&&s.isPrimaryClient){const T=v?!v.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(v){o.push(v);const T=Af.Rs(g.targetId,v);l.push(T)}}))}),await Promise.all(h),s.lu.Y_(o),await async function(g,v){const w=Ae(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>G.forEach(v,S=>G.forEach(S.ds,F=>w.persistence.referenceDelegate.addReference(T,S.targetId,F)).next(()=>G.forEach(S.As,F=>w.persistence.referenceDelegate.removeReference(T,S.targetId,F)))))}catch(T){if(!Qo(T))throw T;le(xf,"Failed to update sequence numbers: "+T)}for(const T of v){const S=T.targetId;if(!T.fromCache){const F=w.xs.get(S),$=F.snapshotVersion,W=F.withLastLimboFreeSnapshotVersion($);w.xs=w.xs.insert(S,W)}}}(s.localStore,l))}async function CA(r,e){const t=Ae(r);if(!t.currentUser.isEqual(e)){le(jf,"User change. New user:",e.toKey());const s=await e0(t.localStore,e);t.currentUser=e,function(l,h){l.Ru.forEach(f=>{f.forEach(g=>{g.reject(new ge(X.CANCELLED,h))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ul(t,s.ks)}}function RA(r,e){const t=Ae(r),s=t.Eu.get(e);if(s&&s.cu)return Me().add(s.key);{let o=Me();const l=t.Pu.get(e);if(!l)return o;for(const h of l){const f=t.hu.get(h);o=o.unionWith(f.view.eu)}return o}}function y0(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=f0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EA.bind(null,e),e.lu.Y_=uA.bind(null,e.eventManager),e.lu.gu=cA.bind(null,e.eventManager),e}function AA(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IA.bind(null,e),e}class lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return NR(this.persistence,new xR,e.initialUser,this.serializer)}Su(e){return new Z_(Rf.fi,this.serializer)}bu(e){return new FR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lc.provider={build:()=>new lc};class xA extends lc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ke(this.persistence.referenceDelegate instanceof oc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new fR(s,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new Z_(s=>oc.fi(s,t),this.serializer)}}class Yd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>by(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CA.bind(null,this.syncEngine),await oA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lA}()}createDatastore(e){const t=Cc(e.databaseInfo.databaseId),s=function(l){return new $R(l)}(e.databaseInfo);return function(l,h,f,g){return new KR(l,h,f,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,f){return new QR(s,o,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>by(this.syncEngine,t,0),function(){return Ry.C()?new Ry:new jR}())}createSyncEngine(e,t){return function(o,l,h,f,g,v,w){const T=new pA(o,l,h,f,g,v);return w&&(T.mu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ae(o);le(Vs,"RemoteStore shutting down."),l.da.add(5),await ll(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Yd.provider={build:()=>new Yd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="FirestoreClient";class PA{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=d_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{le(ns,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(le(ns,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Vf(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ed(r,e){r.asyncQueue.verifyOperationInProgress(),le(ns,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await e0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Vy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await kA(r);le(ns,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>xy(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>xy(e.remoteStore,o)),r._onlineComponents=e}async function kA(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(ns,"Using user provided OfflineComponentProvider");try{await Ed(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Vo("Error using user provided cache. Falling back to memory cache: "+t),await Ed(r,new lc)}}else le(ns,"Using default OfflineComponentProvider"),await Ed(r,new xA(void 0));return r._offlineComponents}async function v0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(ns,"Using user provided OnlineComponentProvider"),await Vy(r,r._uninitializedComponentsProvider._online)):(le(ns,"Using default OnlineComponentProvider"),await Vy(r,new Yd))),r._onlineComponents}function NA(r){return v0(r).then(e=>e.syncEngine)}async function uc(r){const e=await v0(r),t=e.eventManager;return t.onListen=mA.bind(null,e.syncEngine),t.onUnlisten=vA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_A.bind(null,e.syncEngine),t}function bA(r,e,t={}){const s=new Xr;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,f,g,v){const w=new zf({next:S=>{w.xu(),h.enqueueAndForget(()=>Lf(l,T));const F=S.docs.has(f);!F&&S.fromCache?v.reject(new ge(X.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&S.fromCache&&g&&g.source==="server"?v.reject(new ge(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(S)},error:S=>v.reject(S)}),T=new Ff(_c(f.path),w,{includeMetadataChanges:!0,Qa:!0});return Of(l,T)}(await uc(r),r.asyncQueue,e,t,s)),s.promise}function DA(r,e,t={}){const s=new Xr;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,f,g,v){const w=new zf({next:S=>{w.xu(),h.enqueueAndForget(()=>Lf(l,T)),S.fromCache&&g.source==="server"?v.reject(new ge(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(S)},error:S=>v.reject(S)}),T=new Ff(f,w,{includeMetadataChanges:!0,Qa:!0});return Of(l,T)}(await uc(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r,e,t){if(!t)throw new ge(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function VA(r,e,t,s){if(e===!0&&s===!0)throw new ge(X.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Ly(r){if(!we.isDocumentKey(r))throw new ge(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function My(r){if(we.isDocumentKey(r))throw new ge(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Bf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function zn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bf(r);throw new ge(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="firestore.googleapis.com",Fy=!0;class jy{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E0,this.ssl=Fy}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Fy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hR)throw new ge(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ge(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ge(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ge(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new US;switch(s.type){case"firstParty":return new HS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Oy.get(t);s&&(le("ComponentProvider","Removing Datastore"),Oy.delete(t),s.terminate())}(this),Promise.resolve()}}function OA(r,e,t,s={}){var o;r=zn(r,xc);const l=Ho(e),h=r._getSettings(),f=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${t}`;l&&(vv(`https://${g}`),_v("Firestore",!0)),h.host!==E0&&h.host!==g&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},h),{host:g,ssl:l,emulatorOptions:s});if(!Yi(v,f)&&(r._setSettings(v),s.mockUserToken)){let w,T;if(typeof s.mockUserToken=="string")w=s.mockUserToken,T=Wt.MOCK_USER;else{w=uT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ge(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Wt(S)}r._authCredentials=new zS(new c_(w,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new cl(this.firestore,e,this._query)}}class Zt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class Qi extends cl{constructor(e,t,s){super(e,t,_c(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new we(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function bu(r,e,...t){if(r=Gt(r),w0("collection","path",e),r instanceof xc){const s=st.fromString(e,...t);return My(s),new Qi(r,null,s)}{if(!(r instanceof Zt||r instanceof Qi))throw new ge(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(st.fromString(e,...t));return My(s),new Qi(r.firestore,null,s)}}function ba(r,e,...t){if(r=Gt(r),arguments.length===1&&(e=d_.newId()),w0("doc","path",e),r instanceof xc){const s=st.fromString(e,...t);return Ly(s),new Zt(r,null,new we(s))}{if(!(r instanceof Zt||r instanceof Qi))throw new ge(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(st.fromString(e,...t));return Ly(s),new Zt(r.firestore,r instanceof Qi?r.converter:null,new we(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="AsyncQueue";class zy{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new n0(this,"async_queue_retry"),this.rc=()=>{const s=wd();s&&le(Uy,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const t=wd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=wd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Xr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Qo(e))throw e;le(Uy,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,ni("INTERNAL UNHANDLED ERROR: ",By(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=t,t}enqueueAfterDelay(e,t,s){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const o=Df.createAndSchedule(this,e,t,s,l=>this.uc(l));return this.Zu.push(o),o}oc(){this.Xu&&Te(47125,{cc:By(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function By(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(r,["next","error","complete"])}class Os extends xc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new zy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zy(e),this._firestoreClient=void 0,await e}}}function LA(r,e){const t=typeof r=="object"?r:Iv(),s=typeof r=="string"?r:Zu,o=sf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=aT("firestore");l&&OA(o,...l)}return o}function Pc(r){if(r._terminated)throw new ge(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||MA(r),r._firestoreClient}function MA(r){var e,t,s;const o=r._freezeSettings(),l=function(f,g,v,w){return new sC(f,g,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,_0(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new PA(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zo(Ft.fromBase64String(e))}catch(t){throw new ge(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zo(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=/^__.*__$/;class jA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,t,this.fieldTransforms):new ol(e,this.data,t,this.fieldTransforms)}}class T0{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new is(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function I0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ic:r})}}class bc{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new bc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return cc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(I0(this.Ic)&&FA.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class UA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Cc(e)}bc(e,t,s,o=!1){return new bc({Ic:e,methodName:t,wc:s,path:Mt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S0(r){const e=r._freezeSettings(),t=Cc(r._databaseId);return new UA(r._databaseId,!!e.ignoreUndefinedProperties,t)}function zA(r,e,t,s,o,l={}){const h=r.bc(l.merge||l.mergeFields?2:0,e,t,o);qf("Data must be an object, but it was:",h,s);const f=C0(s,h);let g,v;if(l.merge)g=new In(h.fieldMask),v=h.fieldTransforms;else if(l.mergeFields){const w=[];for(const T of l.mergeFields){const S=Xd(e,T,t);if(!h.contains(S))throw new ge(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);A0(w,S)||w.push(S)}g=new In(w),v=h.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,v=h.fieldTransforms;return new jA(new hn(f),g,v)}class Dc extends Nc{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dc}}function BA(r,e,t){return new bc({Ic:3,wc:e.settings.wc,methodName:r._methodName,Rc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Wf extends Nc{constructor(e,t){super(e),this.Sc=t}_toFieldTransform(e){const t=BA(this,e,!0),s=this.Sc.map(l=>hl(l,t)),o=new Fo(s);return new bC(e.path,o)}isEqual(e){return e instanceof Wf&&Yi(this.Sc,e.Sc)}}function $A(r,e,t,s){const o=r.bc(1,e,t);qf("Data must be an object, but it was:",o,s);const l=[],h=hn.empty();rs(s,(g,v)=>{const w=Kf(e,g,t);v=Gt(v);const T=o.mc(w);if(v instanceof Dc)l.push(w);else{const S=hl(v,T);S!=null&&(l.push(w),h.set(w,S))}});const f=new In(l);return new T0(h,f,o.fieldTransforms)}function HA(r,e,t,s,o,l){const h=r.bc(1,e,t),f=[Xd(e,s,t)],g=[o];if(l.length%2!=0)throw new ge(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)f.push(Xd(e,l[S])),g.push(l[S+1]);const v=[],w=hn.empty();for(let S=f.length-1;S>=0;--S)if(!A0(v,f[S])){const F=f[S];let $=g[S];$=Gt($);const W=h.mc(F);if($ instanceof Dc)v.push(F);else{const j=hl($,W);j!=null&&(v.push(F),w.set(F,j))}}const T=new In(v);return new T0(w,T,h.fieldTransforms)}function hl(r,e){if(R0(r=Gt(r)))return qf("Unsupported field value:",e,r),C0(r,e);if(r instanceof Nc)return function(s,o){if(!I0(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const f of s){let g=hl(f,o.fc(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=Gt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return PC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=St.fromDate(s);return{timestampValue:sc(o.serializer,l)}}if(s instanceof St){const l=new St(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sc(o.serializer,l)}}if(s instanceof $f)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zo)return{bytesValue:W_(o.serializer,s._byteString)};if(s instanceof Zt){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Sf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Hf)return function(h,f){return{mapValue:{fields:{[w_]:{stringValue:E_},[ec]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw f.gc("VectorValues must only contain numeric values.");return Ef(f.serializer,v)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Bf(s)}`)}(r,e)}function C0(r,e){const t={};return p_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(r,(s,o)=>{const l=hl(o,e.Ac(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function R0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof St||r instanceof $f||r instanceof zo||r instanceof Zt||r instanceof Nc||r instanceof Hf)}function qf(r,e,t){if(!R0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Bf(t);throw s==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+s)}}function Xd(r,e,t){if((e=Gt(e))instanceof kc)return e._internalPath;if(typeof e=="string")return Kf(r,e);throw cc("Field path arguments must be of type string or ",r,!1,void 0,t)}const WA=new RegExp("[~\\*/\\[\\]]");function Kf(r,e,t){if(e.search(WA)>=0)throw cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new kc(...e.split("."))._internalPath}catch{throw cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function cc(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ge(X.INVALID_ARGUMENT,f+r+g)}function A0(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(P0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class qA extends x0{data(){return super.data()}}function P0(r,e){return typeof e=="string"?Kf(r,e):e instanceof kc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KA{convertValue(e,t="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return rs(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[ec].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>pt(h.doubleValue));return new Hf(l)}convertGeoPoint(e){return new $f(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=yc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ga(e));default:return null}}convertTimestamp(e){const t=Ji(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=st.fromString(e);Ke(X_(s),9688,{name:e});const o=new Qa(s.get(1),s.get(3)),l=new we(s.popFirst(5));return o.isEqual(t)||ni(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class N0 extends x0{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(P0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Bu extends N0{data(e={}){return super.data(e)}}class b0{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new La(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Bu(this._firestore,this._userDataWriter,s.key,s,new La(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const g=new Bu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new La(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const g=new Bu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new La(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return f.type!==0&&(v=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:QA(f.type),doc:g,oldIndex:v,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function QA(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(r){r=zn(r,Zt);const e=zn(r.firestore,Os);return bA(Pc(e),r._key).then(t=>V0(e,r,t))}class Gf extends KA{constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,t)}}function Hy(r){r=zn(r,cl);const e=zn(r.firestore,Os),t=Pc(e),s=new Gf(e);return k0(r._query),DA(t,r._query).then(o=>new b0(e,s,r,o))}function Wy(r,e,t){r=zn(r,Zt);const s=zn(r.firestore,Os),o=GA(r.converter,e);return D0(s,[zA(S0(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Sr.none())])}function qy(r,e,t,...s){r=zn(r,Zt);const o=zn(r.firestore,Os),l=S0(o);let h;return h=typeof(e=Gt(e))=="string"||e instanceof kc?HA(l,"updateDoc",r._key,e,t,s):$A(l,"updateDoc",r._key,e),D0(o,[h.toMutation(r._key,Sr.exists(!0))])}function XA(r,...e){var t,s,o;r=Gt(r);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||$y(e[h])||(l=e[h],h++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if($y(e[h])){const T=e[h];e[h]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let g,v,w;if(r instanceof Zt)v=zn(r.firestore,Os),w=_c(r._key.path),g={next:T=>{e[h]&&e[h](V0(v,r,T))},error:e[h+1],complete:e[h+2]};else{const T=zn(r,cl);v=zn(T.firestore,Os),w=T._query;const S=new Gf(v);g={next:F=>{e[h]&&e[h](new b0(v,S,T,F))},error:e[h+1],complete:e[h+2]},k0(r._query)}return function(S,F,$,W){const j=new zf(W),oe=new Ff(F,j,$);return S.asyncQueue.enqueueAndForget(async()=>Of(await uc(S),oe)),()=>{j.xu(),S.asyncQueue.enqueueAndForget(async()=>Lf(await uc(S),oe))}}(Pc(v),w,f,g)}function D0(r,e){return function(s,o){const l=new Xr;return s.asyncQueue.enqueueAndForget(async()=>wA(await NA(s),o,l)),l.promise}(Pc(r),e)}function V0(r,e,t){const s=t.docs.get(e._key),o=new Gf(r);return new N0(r,o,e._key,s,new La(t.hasPendingWrites,t.fromCache),e.converter)}function JA(...r){return new Wf("arrayUnion",r)}(function(e,t=!0){(function(o){Ko=o})(Wo),Do(new Ns("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),f=new Os(new BS(s.getProvider("auth-internal")),new WS(h,s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ge(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(v.options.projectId,w)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Ki(Kg,Gg,e),Ki(Kg,Gg,"esm2017")})();const ZA=()=>{const r=$o();return H.useEffect(()=>{if(r.hash){const e=r.hash.substring(1),t=document.getElementById(e);t&&setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"start"})},100)}},[r.hash]),H.useEffect(()=>{const e=document.querySelectorAll(".revealable"),t=new IntersectionObserver((s,o)=>{s.forEach(l=>{l.isIntersecting&&(l.target.style.opacity=1,o.unobserve(l.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return e.forEach(s=>{t.observe(s)}),()=>{e.forEach(s=>{t.unobserve(s)})}},[]),R.jsxs(R.Fragment,{children:[R.jsxs("section",{id:"home",className:"relative bg-custom-beige text-gray-800 py-24 px-6 md:px-10 lg:px-16 text-center rounded-lg mx-4 mb-2 shadow-lg overflow-hidden animate-fade-in section-hover",children:[R.jsx("div",{className:"absolute inset-0 z-0 opacity-20",children:R.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[R.jsx("defs",{children:R.jsx("pattern",{id:"dot-pattern",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:R.jsx("circle",{cx:"2",cy:"2",r:"1",fill:"#FFC982"})})}),R.jsx("rect",{x:"0",y:"0",width:"100",height:"100",fill:"url(#dot-pattern)"})]})}),R.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto",children:[R.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-extrabold mb-6 leading-tight animate-fade-in-down drop-shadow-md",children:"RNTea: Rate, Navigate, Trust."}),R.jsx("p",{className:"text-xl md:text-2xl mb-10 text-gray-700 animate-fade-in-up",children:" Do you really trust your Doctors? Let's hear from experienced RNs for a change. "}),R.jsx(Mi,{to:"/reviews",className:"bg-white text-gray-800 hover:bg-gray-100 font-bold py-3 px-10 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 hover:shadow-xl border border-gray-200 animate-fade-in-up antialiased",children:" View Some Reviews "})]})]}),R.jsx("section",{id:"about",className:"bg-white py-20 px-6 md:px-10 lg:px-16 mx-4 mt-2 mb-1 rounded-lg shadow-lg section-hover scroll-margin-top-adjusted revealable",children:R.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row items-center gap-12",children:[R.jsx("div",{className:"md:w-1/2 flex justify-center order-2 md:order-1 animate-slide-in-left",children:R.jsx("img",{src:"Express-collage.jpg",alt:"Collage of diverse medical professionals",className:"rounded-lg shadow-xl border-4 border-custom-beige w-full max-w-md object-cover",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/400x300/F0F0F0/888888?text=Image+Not+Loaded"}})}),R.jsxs("div",{className:"md:w-1/2 text-center md:text-left order-1 md:order-2 animate-slide-in-right",children:[R.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-6",children:"Our Philosophy"}),R.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-4 antialiased",children:"At RNTea, we believe in transparency and community to help you find the best care. Discover insights, share experiences, and make informed decisions with confidence."}),R.jsx("p",{className:"text-lg text-gray-700 leading-relaxed antialiased",children:"Our platform empowers Registered Nurses to share their honest experiences, providing a unique and invaluable perspective on healthcare providers. We aim to build a trusted resource for patients seeking reliable and empathetic care, while also helping nurses navigate career decisions whether it be short term travel contracts or a potential employer."}),R.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mt-4 font-semibold antialiased",children:"Now spill some RNTea!"})]})]})}),R.jsx("section",{id:"reviews",className:"bg-custom-beige py-20 px-6 md:px-10 lg:px-16 mx-4 my-1 rounded-lg shadow-lg section-hover",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-800 text-center mb-16 animate-fade-in-down revealable",children:"Community Reviews"}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:[R.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl border border-gray-200 animate-scale-in revealable",style:{animationDelay:"0.1s"},children:R.jsxs("div",{className:"p-6",children:[R.jsxs("div",{className:"flex items-center mb-4",children:[R.jsx("span",{className:"text-yellow-500 text-2xl mr-2",children:""}),R.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Dr. Sarah Lee"})]}),R.jsx("p",{className:"text-gray-600 text-base mb-4",children:'"Dr. Lee is incredibly attentive and truly listens to patient concerns. Her communication with nursing staff is excellent, leading to coordinated and effective care. Highly recommend!"'}),R.jsx("p",{className:"text-gray-500 text-sm italic",children:"- RN, John Doe (Emergency Department)"})]})}),R.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl border border-gray-200 animate-scale-in revealable",style:{animationDelay:"0.2s"},children:R.jsxs("div",{className:"p-6",children:[R.jsxs("div",{className:"flex items-center mb-4",children:[R.jsx("span",{className:"text-yellow-500 text-2xl mr-2",children:""}),R.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Dr. Michael Chen"})]}),R.jsx("p",{className:"text-gray-600 text-base mb-4",children:'"Good bedside manner, but sometimes a bit slow on charting updates. Overall, a competent physician who cares about patient outcomes."'}),R.jsx("p",{className:"text-gray-500 text-sm italic",children:"- RN, Jane Smith (ICU)"})]})}),R.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl border border-gray-200 animate-scale-in revealable",style:{animationDelay:"0.3s"},children:R.jsxs("div",{className:"p-6",children:[R.jsxs("div",{className:"flex items-center mb-4",children:[R.jsx("span",{className:"text-yellow-500 text-2xl mr-2",children:""}),R.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Dr. Emily White"})]}),R.jsx("p",{className:"text-gray-600 text-base mb-4",children:'"Knowledgeable, but can be a bit rushed during rounds. Improvement in team communication would greatly enhance efficiency."'}),R.jsx("p",{className:"text-gray-500 text-sm italic",children:"- RN, David Brown (Surgical Unit)"})]})})]})]})}),R.jsx("section",{id:"contact",className:"bg-white py-20 px-6 md:px-10 lg:px-16 mx-4 my-1 rounded-lg shadow-lg section-hover scroll-margin-top-adjusted revealable",children:R.jsxs("div",{className:"container mx-auto",children:[R.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-800 text-center mb-16 animate-fade-in-down",children:"Contact Us!"}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[R.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg shadow-md animate-slide-in-left",children:[R.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Send us a Message"}),R.jsxs("form",{children:[R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{htmlFor:"your-name",className:"block text-gray-700 text-sm font-medium mb-2",children:"Your Name"}),R.jsx("input",{type:"text",id:"your-name",className:"shadow-sm appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-custom-beige focus:border-transparent",placeholder:"John Doe"})]}),R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{htmlFor:"your-email",className:"block text-gray-700 text-sm font-medium mb-2",children:"Your Email"}),R.jsx("input",{type:"email",id:"your-email",className:"shadow-sm appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-custom-beige focus:border-transparent",placeholder:"you@example.com"})]}),R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{htmlFor:"subject",className:"block text-gray-700 text-sm font-medium mb-2",children:"Subject"}),R.jsx("input",{type:"text",id:"subject",className:"shadow-sm appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-custom-beige focus:border-transparent",placeholder:"Regarding a review..."})]}),R.jsxs("div",{className:"mb-6",children:[R.jsxs("label",{htmlFor:"your-message",className:"block text-gray-700 text-sm font-medium mb-2",children:["Your Message ",R.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),R.jsx("textarea",{id:"your-message",rows:"5",className:"shadow-sm appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-custom-beige focus:border-transparent",placeholder:"Share your experience... (optional)"})]}),R.jsxs("div",{className:"mb-6 bg-gray-200 p-4 rounded text-center text-gray-600 text-sm",children:["[ReCAPTCHA Placeholder]",R.jsx("p",{className:"text-xs mt-2",children:"ERROR for site owner: Invalid domain for site key"}),R.jsx("p",{className:"text-xs",children:"reCAPTCHA Privacy - Terms"})]}),R.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-md w-full transition duration-300 ease-in-out",children:"Send Message"})]})]}),R.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg shadow-md animate-slide-in-right",children:[R.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Find Us"}),R.jsxs("div",{className:"mb-8",children:[R.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Email Addresses"}),R.jsxs("div",{className:"flex items-center mb-3",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),R.jsxs("div",{children:[R.jsx("p",{className:"text-gray-700 font-medium",children:"General Questions"}),R.jsx("a",{href:"mailto:questions@rntea.com",className:"text-blue-600 hover:underline",children:"questions@rntea.com"})]})]}),R.jsxs("div",{className:"flex items-center",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 13.255A23.931 23.931 0 0112 15.75c-2.648 0-5.195-.429-7.669-1.245a2.793 2.793 0 01-1.342-2.934 11.233 11.233 0 013.744-6.436 2.922 2.922 0 011.644-1.018 10.38 10.38 0 015.894 0 2.922 2.922 0 011.644 1.018 11.233 11.233 0 013.744 6.436 2.793 2.793 0 01-1.342 2.934z"})}),R.jsxs("div",{children:[R.jsx("p",{className:"text-gray-700 font-medium",children:"Business Inquiries"}),R.jsx("a",{href:"mailto:business@rntea.com",className:"text-blue-600 hover:underline",children:"business@rntea.com"})]})]})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Connect with Us"}),R.jsxs("div",{className:"flex space-x-6 justify-start",children:[R.jsx("a",{href:"https://facebook.com/rntea",target:"_blank",className:"social-icon-hover text-blue-600 hover:text-blue-700 transition duration-300 transform hover:scale-110",children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.271 0-4.192 1.552-4.192 4.615v3.385z"})})}),R.jsx("a",{href:"https://twitter.com/rntea_official",target:"_blank",className:"social-icon-hover text-blue-400 hover:text-blue-500 transition duration-300 transform hover:scale-110",children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.791-1.574 2.162-2.722-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.218 0-5.817 2.6-5.817 5.817 0 .455.05.897.138 1.316-4.836-.244-9.135-2.56-12.008-6.075-.5.855-.78 1.849-.78 2.923 0 2.01.996 3.78 2.502 4.829-.922-.028-1.79-.28-2.54-.66v.073c0 2.81 1.997 5.148 4.637 5.682-.485.131-.996.202-1.52.202-.371 0-.73-.035-1.076-.103.736 2.302 2.863 3.972 5.385 4.019-1.987 1.558-4.494 2.484-7.228 2.484-.473 0-.94-.027-1.4-.083 2.57 1.64 5.622 2.593 8.89 2.593 10.665 0 16.48-8.825 16.48-16.493 0-.252-.007-.5-.018-.75z"})})}),R.jsx("a",{href:"https://linkedin.com/company/rntea",target:"_blank",className:"social-icon-hover text-blue-700 hover:text-blue-800 transition duration-300 transform hover:scale-110",children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),R.jsx("a",{href:"https://instagram.com/rntea_official",target:"_blank",className:"social-icon-hover text-pink-500 hover:text-pink-600 transition duration-300 transform hover:scale-110",children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.07 1.645.07 4.85s-.012 3.584-.07 4.85c-.148 3.252-1.691 4.771-4.919 4.919-.058 1.265-.07 1.645-.07 4.85s.012 3.584.07 4.85c.148 3.252 1.691 4.771 4.919 4.919 1.265.058 1.645.07 4.85.07s3.584-.012 4.85-.07c3.252-.148 4.771-1.691 4.919-4.919.058-1.265.07-1.645.07-4.85s-.012-3.584-.07-4.85c-.119-2.618-1.26-3.83-3.949-3.949-1.265-.058-1.645-.07-4.85-.07zm0 2.163c-3.204 0-3.584.012-4.85.07-2.618.119-3.83 1.26-3.949 3.949-.058 1.265-.07 1.645-.07 4.85s.012 3.584.07 4.85c.119 2.618 1.26 3.83 3.949 3.949 1.265.058 1.645.07 4.85.07s3.584-.012 4.85-.07c2.618-.119 3.83-1.26 3.949-3.949.058-1.265.07-1.645.07-4.85s-.012-3.584-.07-4.85c-.119-2.618-1.26-3.83-3.949-3.949-1.265-.058-1.645-.07-4.85-.07zm0 3.65c-2.481 0-4.5 2.019-4.5 4.5s2.019 4.5 4.5 4.5 4.5-2.019 4.5-4.5-2.019-4.5-4.5-4.5zm0 2.163c1.336 0 2.337 1.001 2.337 2.337s-1.001 2.337-2.337 2.337-2.337-1.001-2.337-2.337 1.001-2.337 2.337-2.337zm6.406-7.078c-.732 0-1.328.596-1.328 1.328s.596 1.328 1.328 1.328 1.328-.596 1.328-1.328-.596-1.328-1.328-1.328z"})})})]})]})]})]})]})})]})},O0=({message:r,type:e})=>{if(!r)return null;const t=e==="success"?"bg-green-100":"bg-red-100",s=e==="success"?"text-green-700":"text-red-700";return R.jsx("div",{className:`p-3 rounded-md ${t} ${s} my-4 message-box-fade show`,children:r})},Ky=({rating:r,onRatingChange:e,readOnly:t=!1})=>{const s=[1,2,3,4,5];return R.jsx("div",{className:"star-rating",children:s.map(o=>R.jsx("span",{className:`star ${o<=r?"filled":""}`,"data-value":o,onClick:()=>!t&&e(o),onMouseOver:l=>{if(!t){const h=l.currentTarget;Array.from(h.parentNode.children).forEach(g=>{parseInt(g.dataset.value)<=o?g.classList.add("filled"):g.classList.remove("filled")})}},onMouseOut:l=>{if(!t){const h=l.currentTarget;Array.from(h.parentNode.children).forEach(g=>{parseInt(g.dataset.value)<=r?g.classList.add("filled"):g.classList.remove("filled")})}},style:{cursor:t?"default":"pointer"},children:""},o))})},ex=["fuck","shit","asshole","bitch","cunt","damn","hell"],Jd=250,tx=["Certified Nursing Assistant (CNA)","Licensed Practical Nurse (LPN) / Licensed Vocational Nurse (LVN)","Registered Nurse (RN)","Nurse Practitioner (NP)","Family Nurse Practitioner (FNP)","Adult-Gerontology Nurse Practitioner (AGNP)","Pediatric Nurse Practitioner (PNP)","Psychiatric Mental Health Nurse Practitioner (PMHNP)","Acute Care Nurse Practitioner (ACNP)","Women's Health Nurse Practitioner (WHNP)","Certified Registered Nurse Anesthetist (CRNA)","Clinical Nurse Specialist (CNS)","Certified Nurse-Midwife (CNM)","Cardiac Nurse","Critical Care Nurse (ICU Nurse)","Emergency Nurse (ER Nurse)","Oncology Nurse","Pediatric Nurse","Labor and Delivery Nurse","Neonatal Intensive Care Unit (NICU) Nurse","Medical-Surgical Nurse","Geriatric Nurse","Psychiatric/Mental Health Nurse","Home Health Nurse","Public Health Nurse","School Nurse","Perioperative Nurse (Operating Room Nurse)","Rehabilitation Nurse","Hospice Nurse / Palliative Care Nurse","Forensic Nurse","Travel Nurse","Infusion Nurse","Nephrology Nurse","Diabetic Nurse","Dermatology Nurse","Gastroenterology Nurse","Orthopedic Nurse","Urology Nurse","Wound Care Nurse","Ostomy Care Nurse","Informatics Nurse","Research Nurse","Case Management Nurse","Nurse Educator","Nurse Administrator/Manager","Occupational Health Nurse","Flight Nurse / Transport Nurse","Correctional Nurse","IV Therapy Nurse","Transplant Nurse","Genetics Nurse","Pain Management Nurse","Military Nurse","Ambulatory Care Nurse","Endoscopy Nurse","Plastic Surgery Nurse","Rural Health Nurse","Parish Nurse / Faith Community Nurse","Camp Nurse","Hyperbaric Nurse","Legal Nurse Consultant","Integrative Health Nurse"],Io=["Select your nursing field...",...tx.sort()];function Gy(r){const e=r.toLowerCase();for(const t of ex)if(e.includes(t))return{isValid:!1,message:"Content contains inappropriate language."};return r.length>Jd?{isValid:!1,message:`Content exceeds ${Jd} character limit.`}:{isValid:!0,message:"Content is valid."}}let nx=class extends wr.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("ReviewsHubPage ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?R.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-120px)] p-4 bg-red-100 text-red-800 rounded-lg shadow-md",children:[R.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Oops! Something went wrong."}),R.jsx("p",{className:"text-lg text-center mb-2",children:"We're sorry, but there was an error loading this section."}),R.jsx("p",{className:"text-sm text-red-600 text-center",children:this.state.error&&this.state.error.toString()}),R.jsxs("details",{className:"mt-4 text-left text-sm p-2 bg-red-50 rounded-md",children:[R.jsx("summary",{className:"font-semibold cursor-pointer",children:"Error Details"}),R.jsx("pre",{className:"mt-2 whitespace-pre-wrap break-words text-red-700",children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),R.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"mt-6 px-6 py-2 bg-red-700 text-white rounded-md hover:bg-red-800 transition-colors",children:"Try Again"})]}):this.props.children}};const rx=()=>{const{db:r,currentUserId:e,authReady:t,appId:s,showMessage:o,message:l}=H.useContext(L0),[h,f]=H.useState(""),[g,v]=H.useState([]),[w,T]=H.useState([]),[S,F]=H.useState(!0),[$,W]=H.useState(!1),[j,oe]=H.useState(!1),[ie,re]=H.useState(20),[ne,xe]=H.useState(null),[ye,N]=H.useState(""),[I,x]=H.useState([]),[k,D]=H.useState([]),[O,A]=H.useState(!1),[Xe,dt]=H.useState(!1),[Pe,qe]=H.useState(null),[te,me]=H.useState([]),[se,V]=H.useState(!1),[K,de]=H.useState(!1),[Re,ke]=H.useState(""),[be,je]=H.useState(0),[Oe,We]=H.useState(Io[0]),[mt,dn]=H.useState(""),[xr,Sn]=H.useState([]),[Pr,Cn]=H.useState(!1),[si,ar]=H.useState(!1),[ss,kr]=H.useState({}),[Rn,fn]=H.useState(!1),[Bn,Nr]=H.useState(""),[$n,oi]=H.useState(""),[ct,nt]=H.useState(!1),[jt,ai]=H.useState(""),[pn,lr]=H.useState(""),Hn=wr.useRef(null),Wn=wr.useRef(null),br=wr.useRef(null),li=wr.useRef(null),ui=wr.useRef(null);console.log("ReviewsHubPage: Component rendered.");const qn=H.useCallback(async()=>{if(console.log("ReviewsHubPage: loadHospitals called. AuthReady:",t),!t||!r||!s){o("Firebase not ready or app ID missing. Please wait.","error");return}F(!0),W(!1),v([]),T([]),oe(!1);try{const q=bu(r,`artifacts/${s}/public/data/hospitals`),Ee=await Hy(q),ce=[];Ee.forEach(Ue=>{const ot=Ue.data();ot.name&&ce.push({id:Ue.id,name:ot.name,location:ot.location||""})}),ce.sort((Ue,ot)=>Ue.name.localeCompare(ot.name)),console.log("ReviewsHubPage: Fetched Hospitals:",ce.length),v(ce),re(20),F(!1),W(ce.length===0)}catch(q){console.error("ReviewsHubPage: Error fetching hospitals:",q),o("Error loading hospitals.","error"),F(!1),W(!0)}},[t,r,s,o]),Dr=H.useCallback(async q=>{if(q.preventDefault(),!t||!e||!r||!s){o("You must be logged in to add a hospital.","error");return}if(!Bn.trim()||!$n.trim()){o("Please enter both hospital name and location.","error");return}try{F(!0);const Ee=ba(bu(r,`artifacts/${s}/public/data/hospitals`));await Wy(Ee,{name:Bn.trim(),location:$n.trim()}),o("Hospital added successfully! You can now add doctors to it.","success"),Nr(""),oi(""),fn(!1),await qn(),li.current&&setTimeout(()=>{const ce=document.querySelector(`button.bg-gray-100[data-hospital-name="${Bn.trim()}"]`);ce&&ce.scrollIntoView({behavior:"smooth",block:"center"})},500)}catch(Ee){console.error("ReviewsHubPage: Error adding hospital:",Ee),o(`Error adding hospital: ${Ee.message}`,"error")}finally{F(!1)}},[t,e,r,s,Bn,$n,qn,o]);H.useEffect(()=>{console.log("ReviewsHubPage: useEffect for filtering hospitals triggered. HospitalInput:",h,"CurrentDisplayCount:",ie);const q=h.trim().toLowerCase(),Ee=g.filter(ce=>ce.name.toLowerCase().includes(q)||ce.location&&ce.location.toLowerCase().includes(q));T(Ee.slice(0,ie)),oe(Ee.length>ie),W(Ee.length===0&&!S)},[g,h,ie,S]);const ci=H.useCallback(()=>{re(q=>q+20)},[]);H.useEffect(()=>{console.log("ReviewsHubPage: Initial useEffect for loadHospitals. AuthReady:",t),t&&qn()},[t,qn]);const ur=H.useCallback(async q=>{if(console.log("ReviewsHubPage: handleHospitalSelect called for hospital:",q.name),xe(q),console.log("ReviewsHubPage: Populating hospitalInput with:",q.name),f(q.name),N(""),A(!0),dt(!1),x([]),D([]),nt(!1),!r||!s||!q.id){o("Firebase or hospital ID missing for fetching doctors.","error"),A(!1),dt(!0);return}try{const Ee=bu(r,`artifacts/${s}/public/data/hospitals/${q.id}/doctors`),ce=await Hy(Ee),Ue=[];ce.forEach(Ne=>{const Qe=Ne.data(),Nt=Qe.ratings||[],kn=Nt.length>0?Nt.reduce((Us,mn)=>Us+(mn.stars||0),0)/Nt.length:0;Qe.name&&Ue.push({id:Ne.id,hospitalId:q.id,...Qe,averageRating:kn,numReviews:Nt.length})}),Ue.sort((Ne,Qe)=>Ne.name.localeCompare(Qe.name)),console.log("ReviewsHubPage: Fetched Doctors for selected hospital:",Ue.length),x(Ue),A(!1),dt(Ue.length===0);const ot=ye.trim().toLowerCase(),Pn=Ue.filter(Ne=>Ne.name.toLowerCase().includes(ot)||Ne.specialty&&Ne.specialty.toLowerCase().includes(ot));D(Pn)}catch(Ee){console.error("ReviewsHubPage: Error fetching doctors:",Ee),o("Error loading doctors.","error"),A(!1),dt(!0)}},[r,s,o,ye]);H.useEffect(()=>{ne&&Hn.current&&document.activeElement!==document.getElementById("hospital-input")&&(console.log("ReviewsHubPage: Scrolling useEffect triggered for doctor selection section."),setTimeout(()=>{requestAnimationFrame(()=>{Hn.current.scrollIntoView({behavior:"smooth",block:"start"})})},100))},[ne]);const en=H.useCallback(()=>{console.log("ReviewsHubPage: filterAndRenderDoctors called. DoctorInput:",ye);const q=ye.trim().toLowerCase();if(!ne){o("Please select a hospital first.","error");return}const Ee=I.filter(ce=>ce.name.toLowerCase().includes(q)||ce.specialty&&ce.specialty.toLowerCase().includes(q));D(Ee)},[ye,ne,I,o]),An=H.useCallback(async q=>{if(q.preventDefault(),!t||!e||!r||!s){o("You must be logged in to add a doctor.","error");return}if(!ne||!ne.id){o("Please select a hospital first to add a doctor.","error");return}if(!jt.trim()||!pn.trim()){o("Please enter both doctor name and specialty.","error");return}try{A(!0);const Ee=ba(bu(r,`artifacts/${s}/public/data/hospitals/${ne.id}/doctors`));await Wy(Ee,{name:jt.trim(),specialty:pn.trim(),ratings:[]}),o(`Dr. ${jt.trim()} added successfully to ${ne.name}!`,"success"),ai(""),lr(""),nt(!1),await ur(ne),ui.current&&setTimeout(()=>{const ce=document.querySelector(`button.bg-gray-100[data-doctor-name="${jt.trim()}"]`);ce&&ce.scrollIntoView({behavior:"smooth",block:"center"})},500)}catch(Ee){console.error("ReviewsHubPage: Error adding doctor:",Ee),o(`Error adding doctor: ${Ee.message}`,"error")}finally{A(!1)}},[t,e,r,s,ne,jt,pn,o,ur]),hi=H.useCallback(async q=>{console.log("ReviewsHubPage: handleDoctorSelect called for doctor:",q.name),qe(q),N(q.name),V(!0),de(!1),window.innerWidth<1024?ar(!1):ar(!0),Wn.current&&(console.log("ReviewsHubPage: Scrolling to doctor reviews display section."),setTimeout(()=>{Wn.current.scrollIntoView({behavior:"smooth",block:"start"})},100))},[r,s,o]);H.useEffect(()=>{let q=()=>{};if(Pe&&r&&s){const Ee=ba(r,`artifacts/${s}/public/data/hospitals/${Pe.hospitalId}/doctors/${Pe.id}`);console.log("ReviewsHubPage: Setting up onSnapshot for doctorDocRef:",Ee.path),q=XA(Ee,ce=>{if(console.log("ReviewsHubPage: onSnapshot triggered for doctorDocRef."),V(!1),!ce.exists()||!ce.data().ratings||ce.data().ratings.length===0)console.log("ReviewsHubPage: No reviews or document data for this doctor found in snapshot."),de(!0),me([]);else{de(!1);const ot=ce.data().ratings||[];console.log("ReviewsHubPage: Fetched reviews from snapshot:",ot.length),ot.sort((Ne,Qe)=>{const Nt=Ne.date?Ne.date.seconds?Ne.date.seconds*1e3:new Date(Ne.date).getTime():0;return(Qe.date?Qe.date.seconds?Qe.date.seconds*1e3:new Date(Qe.date).getTime():0)-Nt});const Pn=ot.map(Ne=>({...Ne,date:Ne.date&&typeof Ne.date.toDate=="function"?Ne.date.toDate():new Date(Ne.date),comments:Ne.comments?Ne.comments.map(Qe=>({...Qe,date:Qe.date&&typeof Qe.date.toDate=="function"?Qe.date.toDate():new Date(Qe.date)})):[]}));me(Pn),console.log("ReviewsHubPage: Reviews state updated. Current reviews count:",Pn.length)}},ce=>{console.error("ReviewsHubPage: Error fetching reviews with onSnapshot:",ce),o("Error loading reviews.","error"),V(!1),de(!0)})}else me([]),de(!1),V(!1);return()=>{console.log("ReviewsHubPage: Cleaning up onSnapshot listener."),q()}},[Pe,r,s,o,me,V,de]);const xn=H.useCallback(()=>{if(console.log("ReviewsHubPage: handleSubmitReview called."),!t||!e){o("Please wait for authentication to complete or log in.","error");return}if(!ne||!Pe){o("Please select a hospital and doctor before submitting a review.","error");return}if(Oe===Io[0]||Oe.trim()===""){o("Please select or type your nursing field.","error");return}const q=Gy(Re);if(!q.isValid){o(q.message,"error");return}if(be===0){o("Please select a star rating.","error");return}try{const Ee=ba(r,`artifacts/${s}/public/data/hospitals/${ne.id}/doctors/${Pe.id}`),ce={stars:be,comment:Re,reviewerId:`RN-${e.substring(0,5)}`,date:new Date,hospitalName:ne.name,doctorName:Pe.name,nursingField:Oe,comments:[]};console.log("ReviewsHubPage: Submitting new review:",ce),qy(Ee,{ratings:JA(ce)}),ke(""),je(0),We(Io[0]),dn(""),o("Review submitted successfully!","success"),console.log("ReviewsHubPage: Review submitted successfully!")}catch(Ee){console.error("ReviewsHubPage: Error adding review: ",Ee),o(`Error submitting review: ${Ee.message}`,"error")}},[t,e,ne,Pe,Re,be,Oe,r,s,o]),di=H.useCallback(async(q,Ee)=>{if(console.log("ReviewsHubPage: handleAddCommentToReview called."),!t||!e){o("Authentication Required. Please wait to post a comment.","error");return}if(Ee.trim()===""){o("Comment cannot be empty.","error");return}if(!ne||!Pe){o("Hospital or doctor not selected.","error");return}const ce=Gy(Ee);if(!ce.isValid){o(ce.message,"error");return}try{console.log("ReviewsHubPage: Attempting to fetch doctor document for comment update.");const Ue=ba(r,`artifacts/${s}/public/data/hospitals/${ne.id}/doctors/${Pe.id}`),ot=await YA(Ue);if(ot.exists()){let Ne=[...ot.data().ratings||[]];console.log("ReviewsHubPage: Current ratings from doc:",Ne);const Qe=Ne.findIndex(Nt=>{const kn=Nt.date?typeof Nt.date.toDate=="function"?Nt.date.toDate().getTime():new Date(Nt.date).getTime():0;return console.log(`ReviewsHubPage: Comparing reviewDateMillis ${q} with review date ${kn}`),kn===q});if(Qe!==-1){const Nt={text:Ee,userId:`RN-${e.substring(0,5)}`,date:new Date};Ne[Qe].comments=Ne[Qe].comments||[],Ne[Qe].comments.push(Nt),console.log("ReviewsHubPage: New comment added to array. Updated ratings structure:",Ne),console.log("ReviewsHubPage: Updating doc with new comments array."),await qy(Ue,{ratings:Ne}),o("Comment added successfully!","success"),console.log("ReviewsHubPage: Comment added successfully to review index",Qe,"for doctor",Pe.id),kr({})}else o("Error posting comment: Could not find review to update.","error"),console.error("ReviewsHubPage: Error: Review not found by timestamp for doctor",Pe.id)}else o("Error posting comment: Doctor document not found.","error"),console.error("ReviewsHubPage: Doctor document not found for comment addition:",Pe.id)}catch(Ue){console.error("ReviewsHubPage: Error adding comment to review: ",Ue),o(`Error posting comment: ${Ue.message}`,"error")}},[t,e,ne,Pe,r,s,o]),Vr=H.useCallback(()=>{ar(!0),br.current&&br.current.scrollIntoView({behavior:"smooth",block:"start"})},[]),os=H.useCallback(()=>{ar(!1),Wn.current&&Wn.current.scrollIntoView({behavior:"smooth",block:"start"})},[]),Kn=q=>{const Ee=q.target.value;if(dn(Ee),We(Ee),Ee.length>0){const ce=Io.filter(Ue=>Ue.toLowerCase().includes(Ee.toLowerCase())&&Ue!==Io[0]);Sn(ce),Cn(!0)}else Sn([]),Cn(!1),We(Io[0])},as=q=>{dn(q),We(q),Cn(!1),Sn([])};return R.jsx(nx,{children:R.jsxs("div",{className:"flex-grow container mx-auto px-4 py-8 md:px-6 lg:px-8 pt-20",children:[R.jsx(O0,{message:(l==null?void 0:l.text)||"",type:(l==null?void 0:l.type)||""}),R.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 text-center mb-8",children:"Share Your RNTea!"}),R.jsxs("section",{id:"hospital-selection-section",className:"bg-white p-6 md:p-8 rounded-lg shadow-lg mb-8 section-hover scroll-margin-top-adjusted",children:[R.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6 text-center",children:"Which hospital are you interested in?"}),R.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 mb-4",children:[" ",R.jsx("input",{type:"text",id:"hospital-input",className:"flex-grow p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-custom-beige",placeholder:"Search for a hospital...",value:h,onChange:q=>f(q.target.value)}),R.jsx("button",{id:"search-hospital-btn",className:"bg-custom-beige text-gray-800 font-bold py-3 px-6 rounded-full hover:opacity-90 transition duration-300 shadow-md w-full md:w-auto btn-hover-scale",onClick:qn,children:"Search Hospital "})]}),R.jsxs("div",{className:"text-center mb-6",children:[R.jsx("button",{onClick:()=>fn(q=>!q),className:"text-gray-600 hover:text-custom-beige font-semibold py-2 px-4 rounded-md transition-colors transform hover:scale-105 transition-transform duration-300 ease-in-out",children:Rn?"Hide Add Hospital Form":R.jsxs(R.Fragment,{children:["or ",R.jsx("span",{className:"text-[#CC5500]",children:"Add Hospital"})]})}),Rn&&R.jsxs("form",{ref:li,onSubmit:Dr,className:"space-y-4 mt-4 p-4 border border-gray-200 rounded-md bg-gray-50",children:[R.jsx("input",{type:"text",placeholder:"New Hospital Name",value:Bn,onChange:q=>Nr(q.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-custom-beige",required:!0}),R.jsx("input",{type:"text",placeholder:"Location (e.g., Boston, MA)",value:$n,onChange:q=>oi(q.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-custom-beige",required:!0}),R.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Submit New Hospital"}),R.jsx("button",{type:"button",onClick:()=>fn(!1),className:"w-full bg-gray-400 text-white py-2 px-4 rounded-md hover:bg-gray-500 transition-colors mt-2",children:"Cancel"})]})]}),R.jsxs("div",{className:"mb-4 mt-8",children:[R.jsx("p",{className:"text-lg font-semibold text-gray-800",children:"Hospitals with reviews:"}),R.jsxs("div",{id:"hospitals-list",className:"flex flex-wrap gap-2 mt-2 max-h-60 overflow-y-auto border border-gray-200 rounded-md p-2",children:[S&&R.jsx("p",{className:"text-gray-500 italic w-full text-center",children:"Loading hospitals..."}),$&&!S&&R.jsx("p",{className:"text-gray-500 italic w-full text-center",children:"No hospitals found yet. Be the first to add a review!"}),w.map(q=>R.jsx("button",{"data-hospital-name":q.name,className:"bg-gray-100 text-gray-800 px-4 py-2 rounded-full hover:bg-custom-beige hover:text-gray-800 transition duration-200 btn-hover-scale",onClick:()=>ur(q),children:q.name},q.id))]}),j&&R.jsx("button",{id:"load-more-hospitals-btn",className:"mt-4 bg-gray-200 text-gray-800 px-4 py-2 rounded-full hover:bg-gray-300 transition duration-200 w-full btn-hover-scale",onClick:ci,children:"Load More Hospitals"})]})]}),R.jsxs("section",{id:"doctor-selection-section",ref:Hn,className:`bg-white p-6 md:p-8 rounded-lg shadow-lg mb-8 section-hover scroll-margin-top-adjusted ${ne?"":"hidden"}`,children:[R.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6 text-center",children:"Select a doctor"}),R.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 mb-4",children:[R.jsx("input",{type:"text",id:"doctor-input",className:"flex-grow p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-custom-beige",placeholder:"e.g., Dr. Sarah Lee",value:ye,onChange:q=>N(q.target.value)}),R.jsx("button",{id:"select-doctor-btn",className:"bg-custom-beige text-gray-800 font-bold py-3 px-6 rounded-full hover:opacity-90 transition duration-300 shadow-md w-full md:w-auto btn-hover-scale",onClick:en,children:"Search Doctor"})]}),R.jsxs("div",{className:"text-center mb-6",children:[R.jsx("button",{onClick:()=>nt(q=>!q),className:"text-gray-600 hover:text-custom-beige font-semibold py-2 px-4 rounded-md transition-colors transform hover:scale-105 transition-transform duration-300 ease-in-out",children:ct?"Hide Add Doctor Form":R.jsxs(R.Fragment,{children:["or ",R.jsx("span",{className:"text-[#CC5500]",children:"Add Doctor"})]})}),ct&&R.jsxs("form",{ref:ui,onSubmit:An,className:"space-y-4 mt-4 p-4 border border-gray-200 rounded-md bg-gray-50",children:[R.jsx("input",{type:"text",placeholder:"New Doctor Name",value:jt,onChange:q=>ai(q.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-custom-beige",required:!0}),R.jsx("input",{type:"text",placeholder:"Specialty (e.g., Cardiologist)",value:pn,onChange:q=>lr(q.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-custom-beige",required:!0}),R.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Submit New Doctor"}),R.jsx("button",{type:"button",onClick:()=>nt(!1),className:"w-full bg-gray-400 text-white py-2 px-4 rounded-md hover:bg-gray-500 transition-colors mt-2",children:"Cancel"})]})]}),R.jsxs("div",{className:"mb-4",children:[R.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:["Doctors with reviews at ",R.jsx("span",{id:"display-selected-hospital",className:"text-gray-800",children:ne==null?void 0:ne.name}),":"]}),R.jsxs("div",{id:"doctors-list",className:"flex flex-wrap gap-2 mt-2 max-h-60 overflow-y-auto border border-gray-200 rounded-md p-2",children:[O&&R.jsx("p",{className:"text-gray-500 italic w-full text-center",children:"Loading doctors..."}),Xe&&!O&&R.jsx("p",{className:"text-500 italic w-full text-center",children:"No doctors found for this hospital yet."}),k.map(q=>R.jsx("button",{"data-doctor-name":q.name,className:"bg-gray-100 text-gray-800 px-4 py-2 rounded-full hover:bg-custom-beige hover:text-gray-800 transition duration-200 btn-hover-scale",onClick:()=>hi(q),children:`${q.name} (${q.specialty||"N/A"}) - Avg. ${q.averageRating.toFixed(1)}  (${q.numReviews})`},q.id))]})]})]}),R.jsxs("div",{id:"reviews-content-grid",className:`grid grid-cols-1 lg:grid-cols-3 gap-8 ${Pe?"":"hidden"}`,children:[R.jsxs("section",{id:"review-submission-section",ref:br,className:`lg:col-span-1 bg-white p-6 md:p-8 rounded-lg shadow-lg mb-8 section-hover scroll-margin-top-adjusted ${si||window.innerWidth>=1024?"":"hidden"}`,children:[R.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:["Write a Review for ",R.jsx("span",{id:"display-selected-doctor-submission",className:"text-[#CC5500]",children:Pe==null?void 0:Pe.name})]}),R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{htmlFor:"review-stars",className:"block text-gray-700 text-sm font-medium mb-2",children:"Rating"}),R.jsx(Ky,{rating:be,onRatingChange:je})]}),R.jsxs("div",{className:"mb-4 relative",children:[" ",R.jsx("label",{htmlFor:"nursing-field-input",className:"block text-gray-700 text-sm font-medium mb-2",children:"Which field of Nursing are you?"}),R.jsx("input",{type:"text",id:"nursing-field-input",className:"w-full p-3 border border-gray-500 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-custom-beige",placeholder:"Start typing your nursing field...",value:mt,onChange:Kn,onFocus:()=>Cn(!0),onBlur:()=>setTimeout(()=>Cn(!1),100)}),Pr&&xr.length>0&&R.jsx("ul",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto mt-1",children:xr.map((q,Ee)=>R.jsx("li",{className:"p-3 hover:bg-gray-100 cursor-pointer text-gray-800",onClick:()=>as(q),children:q},Ee))})]}),R.jsx("textarea",{id:"review-text",className:"w-full p-3 border border-gray-300 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-custom-beige",rows:"6",placeholder:"Share your experience or review here...",value:Re,onChange:q=>ke(q.target.value),maxLength:Jd}),R.jsx("button",{id:"submit-review-btn",className:"bg-custom-beige text-gray-800 font-bold py-3 px-6 rounded-full hover:opacity-90 transition duration-300 shadow-md w-full btn-hover-scale",onClick:xn,children:"Submit Review"}),R.jsxs("div",{className:"text-sm text-gray-500 mt-4",children:["Your User ID: ",R.jsx("span",{id:"display-user-id",children:e})]}),window.innerWidth<1024&&R.jsx("button",{id:"cancel-review-mobile-btn",className:"bg-gray-400 text-white px-4 py-2 rounded-full mt-4 w-full",onClick:os,children:"Cancel"})]}),R.jsxs("section",{id:"doctor-reviews-display",ref:Wn,className:"lg:col-span-2 bg-custom-beige p-6 md:p-8 rounded-lg shadow-lg mb-8 section-hover scroll-margin-top-adjusted",children:[R.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:["Reviews for ",R.jsx("span",{id:"display-selected-doctor-reviews",className:"text-[#CC5500] font-extrabold",children:Pe==null?void 0:Pe.name})]}),window.innerWidth<1024&&!si&&R.jsxs("button",{id:"add-review-mobile-btn",className:"bg-[#001346] text-white px-5 py-2 rounded-md hover:bg-[#000A2C] transition duration-200 btn-hover-scale mb-4 w-full",onClick:Vr,children:["Write a Review for ",Pe==null?void 0:Pe.name]}),se&&R.jsx("p",{className:"text-gray-700 italic text-center",children:"Loading reviews..."}),K&&!se&&R.jsx("p",{className:"text-gray-700 italic text-center",children:"No reviews found for this doctor yet. Be the first to add one!"}),te.length>0&&R.jsx("div",{id:"reviews-list",className:"space-y-6",children:te.map((q,Ee)=>R.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-md border border-gray-200",children:[R.jsx("div",{className:"flex justify-between items-start mb-3",children:R.jsxs("div",{className:"min-w-0",children:[" ",R.jsx(Ky,{rating:q.stars,onRatingChange:()=>{},readOnly:!0}),R.jsxs("p",{className:"text-sm text-gray-500 mt-1 break-words",children:[" ",q.nursingField," on: ",q.date instanceof Date?q.date.toLocaleDateString():"N/A"]})]})}),R.jsx("p",{className:"text-gray-800 leading-relaxed mb-4",children:q.comment}),R.jsxs("div",{className:"mt-4 border-t border-gray-100 pt-4",children:[R.jsxs("h4",{className:"text-md font-semibold text-gray-700 mb-3",children:["Comments (",q.comments?q.comments.length:0,")"]}),q.comments&&q.comments.length>0?R.jsx("div",{className:"space-y-3 mb-4",children:q.comments.map((ce,Ue)=>R.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-sm text-gray-700 border border-gray-100",children:[R.jsx("p",{children:ce.text}),R.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["by ",ce.userId," on ",ce.date instanceof Date?ce.date.toLocaleDateString():"N/A"]})]},ce.date.getTime()+"_"+Ue))}):R.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"No comments yet. Be the first!"}),R.jsx("button",{onClick:()=>kr(ce=>({...ce,[q.date.getTime()]:!ce[q.date.getTime()]})),className:"text-blue-500 hover:underline text-sm mb-3",children:ss[q.date.getTime()]?"Cancel Comment":"Add a Comment"}),ss[q.date.getTime()]&&R.jsxs("div",{className:"flex mt-2",children:[R.jsx("input",{type:"text",placeholder:"Write a comment...",className:"flex-grow p-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",onKeyDown:ce=>{ce.key==="Enter"&&ce.target.value.trim()&&(di(q.date.getTime(),ce.target.value),ce.target.value="")}}),R.jsx("button",{className:"submit-comment-btn bg-gray-600 text-white px-4 py-2 rounded-r-md hover:bg-gray-700 transition duration-200 btn-hover-scale",onClick:ce=>{const Ue=ce.target.previousElementSibling;di(q.date.getTime(),Ue.value),Ue.value=""},children:"Post"})]})]})]},q.date.getTime()+Ee))})]})]})]})})},L0=H.createContext(null),Qy=typeof __firebase_config<"u"?JSON.parse(__firebase_config):null,Td=typeof __initial_auth_token<"u"?__initial_auth_token:null,Yy=typeof __app_id<"u"?JSON.parse(__app_id):null,ix={apiKey:"AIzaSyBEwSVX9UY7-MNxeYwdbY0ZmDuXzYyt56g",authDomain:"rntea-cca78.firebaseapp.com",projectId:"rntea-cca78",storageBucket:"rntea-cca78.firebasestorage.app",messagingSenderId:"806310857835",appId:"1:806310857835:web:b03b05847c818ee4fe352e",measurementId:"G-ZKZBPS9FGE"};class sx extends wr.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("App.jsx ErrorBoundary: Uncaught error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?R.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-red-100 text-red-800 p-4 rounded-lg shadow-lg m-4",children:[R.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Oops! Something went wrong in App.jsx!"}),R.jsx("p",{className:"text-lg mb-2 text-center",children:"There was an issue rendering the application. Details below:"}),R.jsxs("details",{className:"mt-4 text-left p-4 bg-red-50 rounded-lg border border-red-200 overflow-auto max-w-lg",children:[R.jsx("summary",{className:"font-semibold cursor-pointer text-red-700",children:"Click for Error Details"}),R.jsx("pre",{className:"mt-2 text-sm whitespace-pre-wrap break-words font-mono text-red-900",children:this.state.error&&this.state.error.toString()}),this.state.errorInfo&&R.jsxs("pre",{className:"mt-2 text-xs text-red-600 font-mono whitespace-pre-wrap break-words",children:["Component Stack: ",this.state.errorInfo.componentStack]})]})]}):this.props.children}}function ox(){const[r,e]=H.useState(null),[t,s]=H.useState(null),[o,l]=H.useState(null),[h,f]=H.useState(null),[g,v]=H.useState(!1),[w,T]=H.useState(!0),[S,F]=H.useState({text:"",type:""}),$=$o(),[W,j]=H.useState(!1);H.useEffect(()=>{console.log("App.jsx: useEffect for Firebase Initialization triggered."),console.log("App.jsx: Current path detected by React Router:",$.pathname),(async()=>{try{console.log("App.jsx: Loading Firebase...");const ye=Qy||ix;console.log("App.jsx: Firebase config being used:",ye);const N=Tv(ye),I=FS(N),x=LA(N);e(N),l(I),s(x),console.log("App.jsx: Firebase Loaded, Awaiting Auth...");const k=A1(I,async D=>{var O,A;if(console.log("App.jsx: onAuthStateChanged - User status changed. User:",D),D)f(D.uid);else{console.log("App.jsx: No user found. Attempting anonymous sign-in or custom token sign-in.");try{Td?(console.log("App.jsx: Signing in with custom token..."),await S1(I,Td)):await _1(I),f(((O=I.currentUser)==null?void 0:O.uid)||"anonymous"),console.log("App.jsx: Sign-in successful. Current user ID:",(A=I.currentUser)==null?void 0:A.uid)}catch(Xe){console.error("App.jsx: Error during authentication (anonymous/custom token):",Xe),f(crypto.randomUUID()),F({text:`Authentication failed: ${Xe.message}`,type:"error"})}}v(!0),T(!1),console.log("App.jsx: Firebase initialization complete. AuthReady:",!0,"LoadingFirebase:",!1),console.log("App.jsx: Firebase & Auth Ready!")});return()=>{console.log("App.jsx: useEffect cleanup - Unsubscribing from auth state changes."),k()}}catch(ye){console.error("App.jsx: FATAL ERROR: Failed to initialize Firebase application:",ye),F({text:"Failed to initialize application. Please try again later.",type:"error"}),T(!1),v(!1)}})()},[$.pathname,Qy,Td]);const oe=wr.useMemo(()=>({app:r,db:t,auth:o,currentUserId:h,authReady:g,appId:Yy||"rntea-cca78",setMessage:F}),[r,t,o,h,g,Yy,F]),ie=H.useCallback(()=>{j(xe=>!xe),document.body.style.overflow=W?"":"hidden"},[W]),re=H.useCallback(()=>{j(!1),document.body.style.overflow=""},[]);H.useCallback((xe,ye)=>{F({text:xe,type:ye}),setTimeout(()=>F({text:"",type:""}),5e3)},[]);const ne=H.useCallback(xe=>{if(xe==="/")return $.pathname==="/";if(xe==="/reviews")return $.pathname==="/reviews";if(xe.startsWith("/#")){const ye=xe.substring(2);return $.pathname==="/"&&$.hash===`#${ye}`}return!1},[$.pathname,$.hash]);return R.jsxs("div",{className:"min-h-screen flex flex-col",children:[R.jsxs("header",{className:"bg-white shadow-sm py-8 px-6 md:px-10 lg:px-16 flex justify-between items-center rounded-b-lg fixed top-0 w-full z-30",children:[R.jsx(Mi,{to:"/",className:"text-3xl font-bold text-gray-800 rntea-brand",children:"RNTea"}),R.jsx("nav",{className:"hidden md:block",children:R.jsxs("ul",{className:"flex space-x-6",children:[R.jsx("li",{children:R.jsx(Mi,{to:"/#about",className:`text-lg text-gray-700 font-medium animated-link ${ne("/#about")?"font-bold":""}`,children:"About"})}),R.jsx("li",{children:R.jsx(Mi,{to:"/reviews",className:`text-lg text-gray-700 font-medium animated-link ${ne("/reviews")?"font-bold":""}`,children:"Reviews"})}),R.jsx("li",{children:R.jsx(Mi,{to:"/#contact",className:`text-lg text-gray-700 font-medium animated-link ${ne("/#contact")?"font-bold":""}`,children:"Contact"})})]})}),R.jsxs("div",{className:`hamburger-menu md:hidden flex flex-col justify-around w-8 h-6 cursor-pointer z-50 ${W?"open":""}`,id:"hamburger-menu",onClick:ie,children:[R.jsx("div",{className:"hamburger-bar w-full h-0.5 bg-gray-800 rounded transition-all duration-300 transform"}),R.jsx("div",{className:"hamburger-bar w-full h-0.5 bg-gray-800 rounded transition-all duration-300 transform"}),R.jsx("div",{className:"hamburger-bar w-full h-0.5 bg-gray-800 rounded transition-all duration-300 transform"})]})]}),R.jsxs("div",{className:`mobile-nav-overlay md:hidden fixed top-0 left-0 w-full h-full bg-white bg-opacity-98 z-40 flex flex-col justify-center items-center transition-transform duration-400 ease-in-out ${W?"open":""}`,id:"mobile-nav-overlay",children:[R.jsx("button",{className:"absolute top-6 right-6 text-gray-800 hover:text-gray-600 text-4xl focus:outline-none z-50",onClick:re,"aria-label":"Close navigation menu",children:""}),R.jsx(Mi,{to:"/#about",className:"text-2xl text-gray-800 my-4 animated-link transition duration-300 ease-in-out hover:text-custom-beige",onClick:re,style:{animationDelay:"0.1s"},children:"About"}),R.jsx(Mi,{to:"/reviews",className:"text-2xl text-gray-800 my-4 animated-link transition duration-300 ease-in-out hover:text-custom-beige",onClick:re,style:{animationDelay:"0.2s"},children:"Reviews"}),R.jsx(Mi,{to:"/#contact",className:"text-2xl text-gray-800 my-4 animated-link transition duration-300 ease-in-out hover:text-custom-beige",onClick:re,style:{animationDelay:"0.3s"},children:"Contact"})]}),R.jsxs("main",{className:"flex-grow w-full flex flex-col mt-[120px]",children:[R.jsx(O0,{message:S.text,type:S.type}),R.jsx(sx,{children:w?R.jsx("p",{className:"text-center text-gray-500 py-8",children:"App.jsx: Initializing application and Firebase..."}):R.jsx(L0.Provider,{value:oe,children:R.jsxs(BE,{children:[console.log(`App.jsx: Route matched for path: ${$.pathname}`),R.jsx(Sd,{path:"/",element:R.jsx(ZA,{})}),R.jsx(Sd,{path:"/reviews",element:R.jsx(rx,{})})]})})})]})]})}const Xy=document.getElementById("root");Xy?(console.log("main.jsx: Root element found. Attempting to mount React App with Router..."),Yw.createRoot(Xy).render(R.jsx(wr.StrictMode,{children:R.jsx(QE,{children:R.jsx(ox,{})})})),console.log("main.jsx: React App with Router mount instruction sent.")):console.error("main.jsx: ERROR - Root element not found in DOM. Cannot mount React App.");
